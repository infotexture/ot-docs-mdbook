<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>DITA-OT mdBook Demo</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> DITA Open Toolkit 3.6</a></li><li class="chapter-item expanded "><a href="release-notes/index.html"><strong aria-hidden="true">2.</strong> Release Notes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/release-history.html"><strong aria-hidden="true">2.1.</strong> Release history</a></li></ol></li><li class="chapter-item expanded "><a href="topics/installing-client.html"><strong aria-hidden="true">3.</strong> Installing DITA-OT</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/prerequisite-software.html"><strong aria-hidden="true">3.1.</strong> Prerequisite software</a></li><li class="chapter-item expanded "><a href="topics/determining-version-of-ditaot.html"><strong aria-hidden="true">3.2.</strong> Checking the version</a></li><li class="chapter-item expanded "><a href="topics/first-build-using-dita-command.html"><strong aria-hidden="true">3.3.</strong> Building output</a></li><li class="chapter-item expanded "><a href="topics/installing-via-homebrew.html"><strong aria-hidden="true">3.4.</strong> Installing via Homebrew</a></li></ol></li><li class="chapter-item expanded "><a href="topics/building-output.html"><strong aria-hidden="true">4.</strong> Building output</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/build-using-dita-command.html"><strong aria-hidden="true">4.1.</strong> Using the dita command</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/using-dita-properties-file.html"><strong aria-hidden="true">4.1.1.</strong> Using a properties file</a></li><li class="chapter-item expanded "><a href="topics/migrating-ant-to-dita.html"><strong aria-hidden="true">4.1.2.</strong> Migrating Ant builds</a></li><li class="chapter-item expanded "><a href="topics/using-project-files.html"><strong aria-hidden="true">4.1.3.</strong> Using a project file</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/project-files-xml.html"><strong aria-hidden="true">4.1.3.1.</strong> XML project files</a></li><li class="chapter-item expanded "><a href="topics/project-files-json.html"><strong aria-hidden="true">4.1.3.2.</strong> JSON project files</a></li><li class="chapter-item expanded "><a href="topics/project-files-yaml.html"><strong aria-hidden="true">4.1.3.3.</strong> YAML project files</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="topics/using-docker-images.html"><strong aria-hidden="true">4.2.</strong> Using Docker images</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/creating-docker-images.html"><strong aria-hidden="true">4.2.1.</strong> Custom images</a></li></ol></li><li class="chapter-item expanded "><a href="topics/publishing-with-ant.html"><strong aria-hidden="true">4.3.</strong> Using Ant</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/ant.html"><strong aria-hidden="true">4.3.1.</strong> Ant</a></li><li class="chapter-item expanded "><a href="topics/building-with-ant.html"><strong aria-hidden="true">4.3.2.</strong> Building output using Ant</a></li><li class="chapter-item expanded "><a href="topics/creating-an-ant-build-script.html"><strong aria-hidden="true">4.3.3.</strong> Creating an Ant build script</a></li></ol></li><li class="chapter-item expanded "><a href="reference/java-api.html"><strong aria-hidden="true">4.4.</strong> Using the Java API</a></li></ol></li><li class="chapter-item expanded "><a href="topics/input-formats.html"><strong aria-hidden="true">5.</strong> Authoring formats</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/dita-xml-input.html"><strong aria-hidden="true">5.1.</strong> Standard DITA XML</a></li><li class="chapter-item expanded "><a href="topics/markdown-input.html"><strong aria-hidden="true">5.2.</strong> Markdown content</a></li><li class="chapter-item expanded "><a href="topics/lwdita-input.html"><strong aria-hidden="true">5.3.</strong> Lightweight DITA</a></li><li class="chapter-item expanded "><a href="topics/markdown-dita-syntax-reference.html"><strong aria-hidden="true">5.4.</strong> Markdown DITA syntax</a></li></ol></li><li class="chapter-item expanded "><a href="topics/output-formats.html"><strong aria-hidden="true">6.</strong> Output formats</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/dita2pdf.html"><strong aria-hidden="true">6.1.</strong> PDF</a></li><li class="chapter-item expanded "><a href="topics/dita2html5.html"><strong aria-hidden="true">6.2.</strong> HTML5</a></li><li class="chapter-item expanded "><a href="topics/dita2eclipsehelp.html"><strong aria-hidden="true">6.3.</strong> Eclipse help</a></li><li class="chapter-item expanded "><a href="topics/dita2htmlhelp.html"><strong aria-hidden="true">6.4.</strong> HTML Help</a></li><li class="chapter-item expanded "><a href="topics/dita2markdown.html"><strong aria-hidden="true">6.5.</strong> Markdown</a></li><li class="chapter-item expanded "><a href="topics/dita2dita.html"><strong aria-hidden="true">6.6.</strong> Normalized DITA</a></li><li class="chapter-item expanded "><a href="topics/dita2xhtml.html"><strong aria-hidden="true">6.7.</strong> XHTML</a></li></ol></li><li class="chapter-item expanded "><a href="parameters/index.html"><strong aria-hidden="true">7.</strong> Parameters</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="parameters/dita-command-arguments.html"><strong aria-hidden="true">7.1.</strong> DITA command arguments</a></li><li class="chapter-item expanded "><a href="parameters/parameters_intro.html"><strong aria-hidden="true">7.2.</strong> DITA-OT parameters</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="parameters/parameters-base.html"><strong aria-hidden="true">7.2.1.</strong> Common</a></li><li class="chapter-item expanded "><a href="parameters/parameters-pdf.html"><strong aria-hidden="true">7.2.2.</strong> PDF</a></li><li class="chapter-item expanded "><a href="parameters/parameters-base-html.html"><strong aria-hidden="true">7.2.3.</strong> HTML-based output</a></li><li class="chapter-item expanded "><a href="parameters/parameters-html5.html"><strong aria-hidden="true">7.2.4.</strong> HTML5</a></li><li class="chapter-item expanded "><a href="parameters/parameters-xhtml.html"><strong aria-hidden="true">7.2.5.</strong> XHTML</a></li><li class="chapter-item expanded "><a href="parameters/parameters-htmlhelp.html"><strong aria-hidden="true">7.2.6.</strong> HTML Help</a></li><li class="chapter-item expanded "><a href="parameters/parameters-eclipsehelp.html"><strong aria-hidden="true">7.2.7.</strong> Eclipse Help</a></li><li class="chapter-item expanded "><a href="parameters/parameters-other.html"><strong aria-hidden="true">7.2.8.</strong> Other</a></li></ol></li><li class="chapter-item expanded "><a href="parameters/configuration-properties.html"><strong aria-hidden="true">7.3.</strong> Configuration properties</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="parameters/local-properties-file.html"><strong aria-hidden="true">7.3.1.</strong> local.properties</a></li><li class="chapter-item expanded "><a href="parameters/plugin-properties-file.html"><strong aria-hidden="true">7.3.2.</strong> plugin.properties</a></li><li class="chapter-item expanded "><a href="parameters/configuration-properties-file.html"><strong aria-hidden="true">7.3.3.</strong> configuration.properties</a></li><li class="chapter-item expanded "><a href="parameters/internal-ant-properties.html"><strong aria-hidden="true">7.3.4.</strong> Internal Ant properties</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="topics/html-customization.html"><strong aria-hidden="true">8.</strong> Customizing HTML</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/html-customization-parameters.html"><strong aria-hidden="true">8.1.</strong> Setting HTML parameters</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/html-customization-navigation.html"><strong aria-hidden="true">8.1.1.</strong> Adding navigation</a></li><li class="chapter-item expanded "><a href="topics/html-customization-css.html"><strong aria-hidden="true">8.1.2.</strong> Adding custom CSS</a></li><li class="chapter-item expanded "><a href="topics/html-customization-header.html"><strong aria-hidden="true">8.1.3.</strong> Headers and footers</a></li><li class="chapter-item expanded "><a href="parameters/generate-copy-outer.html"><strong aria-hidden="true">8.1.4.</strong> Handling content outside the map directory</a></li></ol></li><li class="chapter-item expanded "><a href="topics/html-customization-properties-file.html"><strong aria-hidden="true">8.2.</strong> Using a properties file</a></li></ol></li><li class="chapter-item expanded "><a href="topics/pdf-customization.html"><strong aria-hidden="true">9.</strong> Customizing PDF</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/pdf-customization-approaches.html"><strong aria-hidden="true">9.1.</strong> Customization approaches</a></li><li class="chapter-item expanded "><a href="topics/pdf2-creating-change-bars.html"><strong aria-hidden="true">9.2.</strong> Generating revision bars</a></li></ol></li><li class="chapter-item expanded "><a href="topics/adding-plugins.html"><strong aria-hidden="true">10.</strong> Adding plug-ins</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/plugins-installing.html"><strong aria-hidden="true">10.1.</strong> Installing plug-ins</a></li><li class="chapter-item expanded "><a href="topics/plugins-removing.html"><strong aria-hidden="true">10.2.</strong> Removing plug-ins</a></li><li class="chapter-item expanded "><a href="topics/plugins-registry.html"><strong aria-hidden="true">10.3.</strong> Plug-in registry</a></li><li class="chapter-item expanded "><a href="topics/rebuilding-docs.html"><strong aria-hidden="true">10.4.</strong> Rebuilding documentation</a></li></ol></li><li class="chapter-item expanded "><a href="topics/custom-plugins.html"><strong aria-hidden="true">11.</strong> Creating plug-ins</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/plugin-benefits.html"><strong aria-hidden="true">11.1.</strong> Plug-in benefits</a></li><li class="chapter-item expanded "><a href="topics/plugin-configfile.html"><strong aria-hidden="true">11.2.</strong> Plug-in descriptor file</a></li><li class="chapter-item expanded "><a href="topics/plugin-coding-conventions.html"><strong aria-hidden="true">11.3.</strong> Coding conventions</a></li><li class="chapter-item expanded "><a href="topics/plugin-dependencies.html"><strong aria-hidden="true">11.4.</strong> Plug-in dependencies</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/referencing-other-plugins.html"><strong aria-hidden="true">11.4.1.</strong> Referencing files from other plug-ins</a></li></ol></li><li class="chapter-item expanded "><a href="topics/plugin-use-cases.html"><strong aria-hidden="true">11.5.</strong> Plug-in use cases</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/plugin-set-parameters.html"><strong aria-hidden="true">11.5.1.</strong> Setting parameters</a></li><li class="chapter-item expanded "><a href="topics/plugin-anttarget.html"><strong aria-hidden="true">11.5.2.</strong> Adding a new Ant target</a></li><li class="chapter-item expanded "><a href="topics/plugin-antpreprocess.html"><strong aria-hidden="true">11.5.3.</strong> Adding a pre-processing step</a></li><li class="chapter-item expanded "><a href="topics/plugin-newtranstype.html"><strong aria-hidden="true">11.5.4.</strong> Adding a new output format</a></li><li class="chapter-item expanded "><a href="topics/plugin-xsltparams.html"><strong aria-hidden="true">11.5.5.</strong> Adding new parameters</a></li><li class="chapter-item expanded "><a href="topics/plugin-overridestyle.html"><strong aria-hidden="true">11.5.6.</strong> Overriding XSLT steps</a></li><li class="chapter-item expanded "><a href="topics/plugin-javalib.html"><strong aria-hidden="true">11.5.7.</strong> Adding a Java library</a></li><li class="chapter-item expanded "><a href="topics/plugin-messages.html"><strong aria-hidden="true">11.5.8.</strong> Adding new messages</a></li><li class="chapter-item expanded "><a href="topics/plugin-newextensions.html"><strong aria-hidden="true">11.5.9.</strong> New extension points</a></li><li class="chapter-item expanded "><a href="topics/plugin-xmlcatalog.html"><strong aria-hidden="true">11.5.10.</strong> Extending an XML catalog file</a></li><li class="chapter-item expanded "><a href="topics/plugin-rewrite-rules.html"><strong aria-hidden="true">11.5.11.</strong> Rewriting file names</a></li><li class="chapter-item expanded "><a href="topics/implement-saxon-customizations.html"><strong aria-hidden="true">11.5.12.</strong> Saxon customizations</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/implement-saxon-extension-functions.html"><strong aria-hidden="true">11.5.12.1.</strong> Saxon extensions</a></li><li class="chapter-item expanded "><a href="topics/implement-saxon-collation-uri-resolvers.html"><strong aria-hidden="true">11.5.12.2.</strong> Custom collation URI resolvers</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="topics/html-customization-plugins.html"><strong aria-hidden="true">11.6.</strong> Custom HTML plug-ins</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/html-customization-plugin-bundle-css.html"><strong aria-hidden="true">11.6.1.</strong> Bundling custom CSS</a></li><li class="chapter-item expanded "><a href="topics/html-customization-plugin-webfont.html"><strong aria-hidden="true">11.6.2.</strong> Embedding web fonts</a></li><li class="chapter-item expanded "><a href="topics/html-customization-plugin-javascript.html"><strong aria-hidden="true">11.6.3.</strong> Inserting JavaScript</a></li></ol></li><li class="chapter-item expanded "><a href="topics/pdf-customization-plugins.html"><strong aria-hidden="true">11.7.</strong> Custom PDF plug-ins</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/pdf-customization-plugin-types.html"><strong aria-hidden="true">11.7.1.</strong> Types of PDF plug-ins</a></li><li class="chapter-item expanded "><a href="topics/pdf-plugin-structure.html"><strong aria-hidden="true">11.7.2.</strong> PDF plug-in structure</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/pdf-plugin-structure_common-artwork.html"><strong aria-hidden="true">11.7.2.1.</strong> Custom artwork</a></li><li class="chapter-item expanded "><a href="topics/pdf-plugin-structure_common-index.html"><strong aria-hidden="true">11.7.2.2.</strong> Index configuration</a></li><li class="chapter-item expanded "><a href="topics/pdf-plugin-structure_common-vars.html"><strong aria-hidden="true">11.7.2.3.</strong> Variable overrides</a></li><li class="chapter-item expanded "><a href="topics/pdf-plugin-structure_fo-attrs.html"><strong aria-hidden="true">11.7.2.4.</strong> Custom attributes</a></li><li class="chapter-item expanded "><a href="topics/pdf-plugin-structure_fo-i18n.html"><strong aria-hidden="true">11.7.2.5.</strong> Internationalization</a></li><li class="chapter-item expanded "><a href="topics/pdf-plugin-structure_fo-xsl.html"><strong aria-hidden="true">11.7.2.6.</strong> Custom stylesheets</a></li></ol></li><li class="chapter-item expanded "><a href="topics/pdf-customization-example.html"><strong aria-hidden="true">11.7.3.</strong> Simple PDF plug-in</a></li><li class="chapter-item expanded "><a href="topics/pdf-customization-resources.html"><strong aria-hidden="true">11.7.4.</strong> PDF plug-in resources</a></li></ol></li><li class="chapter-item expanded "><a href="topics/globalization.html"><strong aria-hidden="true">11.8.</strong> Globalizing DITA content</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/globalization-support.html"><strong aria-hidden="true">11.8.1.</strong> Globalization support</a></li><li class="chapter-item expanded "><a href="topics/plugin-addgeneratedtext.html"><strong aria-hidden="true">11.8.2.</strong> Customizing generated text</a></li><li class="chapter-item expanded "><a href="topics/globalization-languages.html"><strong aria-hidden="true">11.8.3.</strong> Supported languages</a></li></ol></li><li class="chapter-item expanded "><a href="topics/migration.html"><strong aria-hidden="true">11.9.</strong> Migrating customizations</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/migrating-to-3.6.html"><strong aria-hidden="true">11.9.1.</strong> To 3.6</a></li><li class="chapter-item expanded "><a href="topics/migrating-to-3.5.html"><strong aria-hidden="true">11.9.2.</strong> To 3.5</a></li><li class="chapter-item expanded "><a href="topics/migrating-to-3.4.html"><strong aria-hidden="true">11.9.3.</strong> To 3.4</a></li><li class="chapter-item expanded "><a href="topics/migrating-to-3.3.html"><strong aria-hidden="true">11.9.4.</strong> To 3.3</a></li><li class="chapter-item expanded "><a href="topics/migrating-to-3.2.html"><strong aria-hidden="true">11.9.5.</strong> To 3.2</a></li><li class="chapter-item expanded "><a href="topics/migrating-to-3.1.html"><strong aria-hidden="true">11.9.6.</strong> To 3.1</a></li><li class="chapter-item expanded "><a href="topics/migrating-to-3.0.html"><strong aria-hidden="true">11.9.7.</strong> To 3.0</a></li><li class="chapter-item expanded "><a href="topics/migrating-to-2.5.html"><strong aria-hidden="true">11.9.8.</strong> To 2.5</a></li><li class="chapter-item expanded "><a href="topics/migrating-to-2.4.html"><strong aria-hidden="true">11.9.9.</strong> To 2.4</a></li><li class="chapter-item expanded "><a href="topics/migrating-to-2.3.html"><strong aria-hidden="true">11.9.10.</strong> To 2.3</a></li><li class="chapter-item expanded "><a href="topics/migrating-to-2.2.html"><strong aria-hidden="true">11.9.11.</strong> To 2.2</a></li><li class="chapter-item expanded "><a href="topics/migrating-to-2.1.html"><strong aria-hidden="true">11.9.12.</strong> To 2.1</a></li><li class="chapter-item expanded "><a href="topics/migrating-to-2.0.html"><strong aria-hidden="true">11.9.13.</strong> To 2.0</a></li><li class="chapter-item expanded "><a href="topics/migrating-to-1.8.html"><strong aria-hidden="true">11.9.14.</strong> To 1.8</a></li><li class="chapter-item expanded "><a href="topics/migrating-to-1.7.html"><strong aria-hidden="true">11.9.15.</strong> To 1.7</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/flagging-migration.html"><strong aria-hidden="true">11.9.15.1.</strong> Flagging updates</a></li></ol></li><li class="chapter-item expanded "><a href="topics/migrating-to-1.6.html"><strong aria-hidden="true">11.9.16.</strong> To 1.6</a></li><li class="chapter-item expanded "><a href="topics/migrating-to-1.5.4.html"><strong aria-hidden="true">11.9.17.</strong> To 1.5.4</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="topics/troubleshooting-overview.html"><strong aria-hidden="true">12.</strong> Troubleshooting</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/logging.html"><strong aria-hidden="true">12.1.</strong> Logging</a></li><li class="chapter-item expanded "><a href="topics/enabling-debug-mode.html"><strong aria-hidden="true">12.2.</strong> Enabling debug mode</a></li><li class="chapter-item expanded "><a href="topics/error-messages.html"><strong aria-hidden="true">12.3.</strong> DITA-OT error messages</a></li><li class="chapter-item expanded "><a href="topics/other-errors.html"><strong aria-hidden="true">12.4.</strong> Other error messages</a></li><li class="chapter-item expanded "><a href="topics/dita-command-help.html"><strong aria-hidden="true">12.5.</strong> Command line help</a></li><li class="chapter-item expanded "><a href="topics/increasing-the-jvm.html"><strong aria-hidden="true">12.6.</strong> Increasing Java memory</a></li><li class="chapter-item expanded "><a href="topics/reducing-processing-time.html"><strong aria-hidden="true">12.7.</strong> Speeding up builds</a></li></ol></li><li class="chapter-item expanded "><a href="reference/index.html"><strong aria-hidden="true">13.</strong> Reference</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/architecture.html"><strong aria-hidden="true">13.1.</strong> DITA-OT architecture</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/processing-structure.html"><strong aria-hidden="true">13.1.1.</strong> Processing structure</a></li><li class="chapter-item expanded "><a href="reference/map-first-preprocessing.html"><strong aria-hidden="true">13.1.2.</strong> Map-first preprocessing</a></li><li class="chapter-item expanded "><a href="reference/processing-pipeline-modules.html"><strong aria-hidden="true">13.1.3.</strong> Processing modules</a></li><li class="chapter-item expanded "><a href="reference/processing-order.html"><strong aria-hidden="true">13.1.4.</strong> Processing order</a></li><li class="chapter-item expanded "><a href="reference/store-api.html"><strong aria-hidden="true">13.1.5.</strong> Store API</a></li><li class="chapter-item expanded "><a href="reference/preprocessing.html"><strong aria-hidden="true">13.1.6.</strong> Pre-processing modules</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/preprocess-genlist.html"><strong aria-hidden="true">13.1.6.1.</strong> Generate lists (gen-list)</a></li><li class="chapter-item expanded "><a href="reference/preprocess-debugfilter.html"><strong aria-hidden="true">13.1.6.2.</strong> Debug and filter (debug-filter)</a></li><li class="chapter-item expanded "><a href="reference/preprocess-mapref.html"><strong aria-hidden="true">13.1.6.3.</strong> Resolve map references (mapref)</a></li><li class="chapter-item expanded "><a href="reference/preprocess-branch-filter.html"><strong aria-hidden="true">13.1.6.4.</strong> Branch filtering (branch-filter)</a></li><li class="chapter-item expanded "><a href="reference/preprocess-keyref.html"><strong aria-hidden="true">13.1.6.5.</strong> Resolve key references (keyref)</a></li><li class="chapter-item expanded "><a href="reference/preprocess-copy-to.html"><strong aria-hidden="true">13.1.6.6.</strong> Copy topics (copy-to)</a></li><li class="chapter-item expanded "><a href="reference/preprocess-conrefpush.html"><strong aria-hidden="true">13.1.6.7.</strong> Conref push (conrefpush)</a></li><li class="chapter-item expanded "><a href="reference/preprocess-conref.html"><strong aria-hidden="true">13.1.6.8.</strong> Resolve content references (conref)</a></li><li class="chapter-item expanded "><a href="reference/preprocess-profile.html"><strong aria-hidden="true">13.1.6.9.</strong> Filter conditional content (profile)</a></li><li class="chapter-item expanded "><a href="reference/preprocess-topic-fragment.html"><strong aria-hidden="true">13.1.6.10.</strong> Resolve topic fragments and code references (topic-fragment)</a></li><li class="chapter-item expanded "><a href="reference/preprocess-chunk.html"><strong aria-hidden="true">13.1.6.11.</strong> Chunk topics (chunk)</a></li><li class="chapter-item expanded "><a href="reference/preprocess-metadata.html"><strong aria-hidden="true">13.1.6.12.</strong> Move metadata (move-meta-entries) and pull content into maps (mappull)</a></li><li class="chapter-item expanded "><a href="reference/preprocess-maplink.html"><strong aria-hidden="true">13.1.6.13.</strong> Map based linking (maplink)</a></li><li class="chapter-item expanded "><a href="reference/preprocess-topicpull.html"><strong aria-hidden="true">13.1.6.14.</strong> Pull content into topics (topicpull)</a></li><li class="chapter-item expanded "><a href="reference/preprocess-flagging.html"><strong aria-hidden="true">13.1.6.15.</strong> Flagging (flag-module)</a></li><li class="chapter-item expanded "><a href="reference/preprocess-clean-map.html"><strong aria-hidden="true">13.1.6.16.</strong> Map cleanup (clean-map)</a></li><li class="chapter-item expanded "><a href="reference/preprocess-copyfiles.html"><strong aria-hidden="true">13.1.6.17.</strong> Copy related files (copy-files)</a></li></ol></li><li class="chapter-item expanded "><a href="reference/html-based-processing.html"><strong aria-hidden="true">13.1.7.</strong> HTML-based processing modules</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/common-html-processing.html"><strong aria-hidden="true">13.1.7.1.</strong> Common HTML-based processing</a></li><li class="chapter-item expanded "><a href="reference/xhtml-processing.html"><strong aria-hidden="true">13.1.7.2.</strong> XHTML processing</a></li><li class="chapter-item expanded "><a href="reference/html5-processing.html"><strong aria-hidden="true">13.1.7.3.</strong> HTML5 processing</a></li><li class="chapter-item expanded "><a href="reference/eclipsehelp-processing.html"><strong aria-hidden="true">13.1.7.4.</strong> Eclipse help processing</a></li><li class="chapter-item expanded "><a href="reference/htmlhelp-processing.html"><strong aria-hidden="true">13.1.7.5.</strong> HTML Help processing</a></li></ol></li><li class="chapter-item expanded "><a href="reference/pdf-transform.html"><strong aria-hidden="true">13.1.8.</strong> PDF processing modules</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/pdf-transformation-history.html"><strong aria-hidden="true">13.1.8.1.</strong> History of the PDF transformation</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="reference/dita-spec-support.html"><strong aria-hidden="true">13.2.</strong> DITA specification support</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/dita-v1-2-support.html"><strong aria-hidden="true">13.2.1.</strong> DITA 1.2 support</a></li><li class="chapter-item expanded "><a href="reference/dita-v1-3-support.html"><strong aria-hidden="true">13.2.2.</strong> DITA 1.3 support</a></li><li class="chapter-item expanded "><a href="reference/dita-v2-0-support.html"><strong aria-hidden="true">13.2.3.</strong> DITA 2.0 preview</a></li><li class="chapter-item expanded "><a href="reference/implementation-dependent-features.html"><strong aria-hidden="true">13.2.4.</strong> Implementation-dependent features</a></li><li class="chapter-item expanded "><a href="reference/extended-functionality.html"><strong aria-hidden="true">13.2.5.</strong> Codeblock extensions</a></li><li class="chapter-item expanded "><a href="reference/docs-dita-features.html"><strong aria-hidden="true">13.2.6.</strong> DITA features in docs</a></li></ol></li><li class="chapter-item expanded "><a href="extension-points/plugin-extension-points.html"><strong aria-hidden="true">13.3.</strong> Extension points</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="extension-points/all-extension-points.html"><strong aria-hidden="true">13.3.1.</strong> All extension points</a></li><li class="chapter-item expanded "><a href="extension-points/plugin-extension-points-general.html"><strong aria-hidden="true">13.3.2.</strong> General extension points</a></li><li class="chapter-item expanded "><a href="extension-points/plugin-extension-points-pre-processing.html"><strong aria-hidden="true">13.3.3.</strong> Pre-processing extension points</a></li><li class="chapter-item expanded "><a href="extension-points/plugin-extension-points-xslt-import.html"><strong aria-hidden="true">13.3.4.</strong> XSLT-import extension points</a></li><li class="chapter-item expanded "><a href="extension-points/plugin-extension-points-xslt-parameters.html"><strong aria-hidden="true">13.3.5.</strong> XSLT-parameter extension points</a></li><li class="chapter-item expanded "><a href="extension-points/plugin-extension-points-support.html"><strong aria-hidden="true">13.3.6.</strong> Version and support information</a></li><li class="chapter-item expanded "><a href="extension-points/extension-points-by-plugin.html"><strong aria-hidden="true">13.3.7.</strong> Plug-in extension points</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="extension-points/extension-points-in-org.dita.base.html"><strong aria-hidden="true">13.3.7.1.</strong> Common processing</a></li><li class="chapter-item expanded "><a href="extension-points/extension-points-in-org.dita.eclipsehelp.html"><strong aria-hidden="true">13.3.7.2.</strong> Eclipse Help</a></li><li class="chapter-item expanded "><a href="extension-points/extension-points-in-org.dita.html5.html"><strong aria-hidden="true">13.3.7.3.</strong> HTML5</a></li><li class="chapter-item expanded "><a href="extension-points/extension-points-in-org.dita.htmlhelp.html"><strong aria-hidden="true">13.3.7.4.</strong> HTML Help</a></li><li class="chapter-item expanded "><a href="extension-points/extension-points-in-org.dita.pdf2.html"><strong aria-hidden="true">13.3.7.5.</strong> PDF</a></li><li class="chapter-item expanded "><a href="extension-points/extension-points-in-org.dita.xhtml.html"><strong aria-hidden="true">13.3.7.6.</strong> HTML-based output</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="reference/license.html"><strong aria-hidden="true">13.4.</strong> License</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/third-party-software.html"><strong aria-hidden="true">13.4.1.</strong> Third-party software</a></li></ol></li><li class="chapter-item expanded "><a href="reference/glossary.html"><strong aria-hidden="true">13.5.</strong> Glossary</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/glossary.html"><strong aria-hidden="true">13.5.1.</strong> argument</a></li><li class="chapter-item expanded "><a href="reference/glossary.html"><strong aria-hidden="true">13.5.2.</strong> DITA Open Toolkit</a></li><li class="chapter-item expanded "><a href="reference/glossary.html"><strong aria-hidden="true">13.5.3.</strong> extension point</a></li><li class="chapter-item expanded "><a href="reference/glossary.html"><strong aria-hidden="true">13.5.4.</strong> option</a></li><li class="chapter-item expanded "><a href="reference/glossary.html"><strong aria-hidden="true">13.5.5.</strong> output format</a></li><li class="chapter-item expanded "><a href="reference/glossary.html"><strong aria-hidden="true">13.5.6.</strong> parameter</a></li><li class="chapter-item expanded "><a href="reference/glossary.html"><strong aria-hidden="true">13.5.7.</strong> plug-in</a></li><li class="chapter-item expanded "><a href="reference/glossary.html"><strong aria-hidden="true">13.5.8.</strong> processor</a></li><li class="chapter-item expanded "><a href="reference/glossary.html"><strong aria-hidden="true">13.5.9.</strong> property</a></li><li class="chapter-item expanded "><a href="reference/glossary.html"><strong aria-hidden="true">13.5.10.</strong> template</a></li><li class="chapter-item expanded "><a href="reference/glossary.html"><strong aria-hidden="true">13.5.11.</strong> transformation type</a></li><li class="chapter-item expanded "><a href="reference/glossary.html"><strong aria-hidden="true">13.5.12.</strong> variable</a></li><li class="chapter-item expanded "><a href="reference/glossary.html"><strong aria-hidden="true">13.5.13.</strong> XSL template</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="topics/dita-and-dita-ot-resources.html"><strong aria-hidden="true">14.</strong> Resources</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/dita-ot-day-videos.html"><strong aria-hidden="true">14.1.</strong> DITA-OT Day Videos</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/dita-ot-day-videos-intro-2019.html"><strong aria-hidden="true">14.1.1.</strong> 2019 Brussels</a></li><li class="chapter-item expanded "><a href="topics/dita-ot-day-videos-intro-2018.html"><strong aria-hidden="true">14.1.2.</strong> 2018 Rotterdam</a></li><li class="chapter-item expanded "><a href="topics/dita-ot-day-videos-intro-2017.html"><strong aria-hidden="true">14.1.3.</strong> 2017 Berlin</a></li><li class="chapter-item expanded "><a href="topics/dita-ot-day-videos-intro-2016.html"><strong aria-hidden="true">14.1.4.</strong> 2016 Munich</a></li><li class="chapter-item expanded "><a href="topics/dita-ot-day-videos-intro-2015.html"><strong aria-hidden="true">14.1.5.</strong> 2015 Munich</a></li><li class="chapter-item expanded "><a href="topics/dita-ot-day-videos-intro-2014.html"><strong aria-hidden="true">14.1.6.</strong> 2014 Munich</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">DITA-OT mdBook Demo</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#dita-open-toolkit-36" id="dita-open-toolkit-36">DITA Open Toolkit 3.6</a></h1>
<p>DITA Open Toolkit, or DITA-OT for short, is a set of Java-based, open-source tools that provide processing for content authored in the Darwin Information Typing Architecture.</p>
<p><strong>Note:</strong> While the DITA standard is owned and developed by OASIS, the DITA Open Toolkit project is governed separately. DITA-OT is an independent, open-source implementation of the <a href="http://docs.oasis-open.org/dita/dita/v1.3/dita-v1.3-part0-overview.html">DITA standard</a>.</p>
<h2><a class="header" href="#dita-ot-documentation" id="dita-ot-documentation">DITA-OT documentation</a></h2>
<p>The DITA Open Toolkit documentation provides information about installing, running, configuring and extending the toolkit.</p>
<ul>
<li>See the <a href="release-notes/index.html">DITA Open Toolkit 3.6 Release Notes</a> for information on the changes in the current release.</li>
<li><a href="topics/installing-client.html">Installing DITA Open Toolkit</a> shows how to install the toolkit and run a build to verify the installation.</li>
<li><a href="topics/building-output.html">Building output</a> explains the methods that can be used to transform DITA content to other formats, including the dita command, Ant, and the Java API, along with information on publishing DITA content from a containerized environment.</li>
<li><a href="topics/input-formats.html">Authoring formats</a> provides information on supported input formats, including standard DITA XML, Markdown and the Lightweight DITA formats (XDITA, MDITA and HDITA).</li>
<li><a href="topics/output-formats.html">Output formats</a> describes the core transformations that convert DITA to other formats.</li>
<li><a href="parameters/index.html">DITA Open Toolkit parameters</a> explains how to adjust the behavior of DITA Open Toolkit via dita command arguments and options, DITA-OT parameter settings, and configuration properties.</li>
<li><a href="topics/html-customization.html">Customizing HTML output</a> shows how to modify the look and feel of your HTML output by changing parameter settings to include custom CSS, headers and footers, or table-of-contents navigation in topics.</li>
<li><a href="topics/pdf-customization.html">Customizing PDF output</a> explains how to adjust various aspects of PDF output by changing parameter settings.</li>
<li><a href="topics/adding-plugins.html">Adding and removing plug-ins</a> explains how to install, remove and discover new plug-ins.</li>
<li><a href="topics/custom-plugins.html">Creating custom plug-ins</a> provides information on extending DITA-OT with plug-ins of your own.</li>
<li><a href="topics/troubleshooting-overview.html">Error messages and troubleshooting</a> contains information about resolving problems that you might encounter.</li>
<li><a href="reference/index.html">Reference</a> topics provide additional information about the <a href="reference/architecture.html">DITA Open Toolkit Architecture</a>, <a href="reference/dita-spec-support.html">DITA specification support</a>, a <a href="reference/glossary.html">Glossary</a> and other <a href="topics/dita-and-dita-ot-resources.html">DITA and DITA-OT resources</a>.</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2014/dita-ot_day.html#Overview_of_the_DITA_Open_Toolkit">Overview of the DITA Open Toolkit</a></p>
<h1><a class="header" href="#dita-open-toolkit-36-release-notes" id="dita-open-toolkit-36-release-notes">DITA Open Toolkit 3.6 Release Notes</a></h1>
<p>DITA Open Toolkit 3.6 includes performance enhancements such as processing in parallel and in memory, support for PDF changebars with Apache™ FOP, and an updated preview of features for the latest draft of the upcoming DITA 2.0 standard, including the <code>audio</code> and <code>video</code> elements, and the new emphasis domain.</p>
<p>DITA-OT releases follow <a href="https://semver.org">semantic versioning</a> guidelines. Version numbers use the <code>major.minor.patch</code> syntax, where major versions may include incompatible API changes, minor versions add functionality in a backwards-compatible manner and patch versions are maintenance releases that include backwards-compatible bug fixes.</p>
<p><strong>Tip:</strong> Download the dita-ot-3.6.zip package from the project website at <a href="https://www.dita-ot.org/download">dita-ot.org/download</a>.</p>
<h2><a class="header" href="#requirements" id="requirements">Requirements</a></h2>
<p>DITA-OT is designed to run on Java version 8u101 or later and built and tested with the Open Java Development Kit (OpenJDK). Compatible Java distributions are available from multiple sources:</p>
<ul>
<li>You can download the Oracle JRE or JDK from <a href="http://www.oracle.com/technetwork/java/javase/downloads">oracle.com/technetwork/java</a> under commercial license.</li>
<li>OpenJDK is a free open-source implementation of Java available from <a href="https://adoptopenjdk.net">adoptopenjdk.net</a>.</li>
<li>Free OpenJDK distributions are also available from other vendors, including <a href="https://aws.amazon.com/corretto/">Amazon Corretto</a>, <a href="https://www.azul.com/downloads/zulu/">Azul Zulu</a>, and <a href="https://developers.redhat.com/products/openjdk/download">Red Hat</a>.</li>
</ul>
<h2><a class="header" href="#dita-ot-36-released-december-19-2020" id="dita-ot-36-released-december-19-2020">DITA-OT 3.6 released December 19, 2020</a></h2>
<p>DITA Open Toolkit Release 3.6 includes performance enhancements such as processing in parallel and in memory, support for PDF changebars with Apache FOP, and an updated preview of features for the latest draft of the upcoming DITA 2.0 standard, including the <code>audio</code> and <code>video</code> elements, and the new emphasis domain.</p>
<h3><a class="header" href="#parallel-processing" id="parallel-processing">Parallel processing</a></h3>
<p>Preprocessing module code can now be run in parallel by setting the parallel parameter to true. The performance benefits this option provides depend heavily on the source file set, the DITA features used in the project, and the computer doing the processing, but under the right circumstances, you may see notable improvements when this option is enabled.</p>
<h3><a class="header" href="#in-memory-processing" id="in-memory-processing">In-memory processing</a></h3>
<p>DITA-OT 3.6 introduces a new Store API with preview support for in-memory processing. The Cache Store can be activated by setting the store-type parameter to memory. In-memory processing provides performance advantages in I/O bound environments such as cloud computing platforms, where processing time depends primarily on how long it takes to read and write temporary files. For more information, see <a href="release-notes/../reference/store-api.html">Store API – Processing in memory</a>.</p>
<h3><a class="header" href="#additional-performance-improvements" id="additional-performance-improvements">Additional performance improvements</a></h3>
<p>DITA-OT 3.6 includes a series of related changes designed to improve the performance of DITA transformations.</p>
<ul>
<li>
<p>A new --repeat option can be passed to the dita command to run the process a certain number of times. This option can be used by plug-in developers to measure performance. (Timings for the first transformation are often dominated by Java warm-up time.) <a href="https://github.com/dita-ot/dita-ot/issues/3616">#3616</a></p>
<p>To run a conversion five times, for example, use --repeat=5. The duration of each execution will appear in the console when the final transformation is complete.</p>
<pre><code>$ dita --input=docsrc/samples/sequence.ditamap --format=html5 --repeat=5
1 11281ms
2 4132ms
3 3690ms
4 4337ms
5 3634ms
</code></pre>
</li>
<li>
<p>The DITA-OT Java code uses a new caching <code>DitaClass.getInstance(cls)</code> factory method rather than generating <code>DitaClass</code> instances directly. This allows previously created instances to be re-used, which reduces the number of instances that need to be created. <a href="https://github.com/dita-ot/dita-ot/issues/3569">#3569</a></p>
</li>
<li>
<p>The Java code for several preprocessing modules has been refactored to use concurrent sets or queues. This helps to speed up certain operations during preprocessing, allowing builds to complete faster. <a href="https://github.com/dita-ot/dita-ot/issues/3570">#3570</a></p>
</li>
<li>
<p>The Java code now uses a <code>BufferedWriter</code> to serialize <code>Job</code> objects, which significantly improves UTF-8 encoding performance when writing the .job.xml file. <a href="https://github.com/dita-ot/dita-ot/issues/3583">#3583</a></p>
</li>
</ul>
<h3><a class="header" href="#pdf-changebars-with-apache-fop" id="pdf-changebars-with-apache-fop">PDF changebars with Apache FOP</a></h3>
<p>For DITA-OT 3.4, the bundled Apache™ Formatting Objects Processor library was upgraded to version 2.4, which included support for changebars, but those features were not yet enabled in DITA-OT 3.4 pending further testing. DITA-OT 3.6 removes the FOP-specific overrides that disabled changebars in earlier versions, allowing the default PDF2 flagging routines to be applied when generating PDFs with FOP. For details, see <a href="release-notes/../topics/pdf2-creating-change-bars.html">Generating revision bars</a>.</p>
<p>Plug-ins that implemented custom FOP flagging by overriding the org.dita.pdf2.fop/xsl/fo/flagging_fop.xsl stylesheet in prior versions will need to be updated, as this file is no longer available in DITA-OT 3.6. <a href="https://github.com/dita-ot/dita-ot/issues/3511">#3511</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3591">#3591</a></p>
<h3><a class="header" href="#updated-dita-20-preview" id="updated-dita-20-preview">Updated DITA 2.0 preview</a></h3>
<p>In addition to the <a href="release-notes/../reference/dita-v2-0-support.html">DITA 2.0 preview support</a> provided in DITA-OT 3.5, this release includes updated processing support for the latest DRAFT versions of the DITA 2.0 DTD and RELAX NG grammar files from OASIS (as of October 2020). <a href="https://github.com/dita-ot/dita-ot/issues/3586">#3586</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3601">#3601</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3617">#3617</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3652">#3652</a></p>
<ul>
<li>Where earlier DITA versions relied on the <code>object</code> to embed media in DITA source files, DITA 2.0 provides new <code>audio</code> and <code>video</code> elements that correspond to their HTML5 equivalents.</li>
<li>For HTML5 compatibility, the new emphasis domain adds support for the <code>strong</code> and <code>em</code> elements in addition to the existing <code>b</code> and <code>i</code> elements in the highlighting domain.</li>
<li>The troubleshooting domain has been updated with additional constructs that can be used to provide detailed diagnostic information.</li>
<li>Several obsolete elements and attributes have been removed from DITA 2.0, including:
<ul>
<li><code>boolean</code></li>
<li><code>data-about</code></li>
<li><code>indextermref</code></li>
<li><code>@alt</code> on <code>image</code></li>
<li><code>@navtitle</code> on <code>topicref</code></li>
<li><code>@query</code> on <code>topicref</code></li>
<li><code>@refcols</code> on <code>simpletable</code></li>
<li><code>@xtrc</code></li>
<li><code>@xtrf</code></li>
</ul>
</li>
</ul>
<p>DITA documents that reference the draft grammar files can be parsed, and where features overlap with DITA 1.3, those features will work as expected.</p>
<p><strong>Note:</strong> Other new or revised features proposed for DITA 2.0 are not yet supported. Additional features will be implemented in future versions of DITA-OT as the specification evolves.</p>
<h3><a class="header" href="#enhancements-and-changes" id="enhancements-and-changes">Enhancements and changes</a></h3>
<p>DITA Open Toolkit Release 3.6 includes the following enhancements and changes to existing features:</p>
<ul>
<li>
<p>The <code>@rotate</code> attribute on table <code>entry</code> elements is now respected when generating HTML5 output. The rotation is implemented by setting the CSS <code>writing-mode</code> property to <code>vertical-rl</code> to rotate the cell content. This property is rendered correctly in Mozilla Firefox, but unevenly supported by other browsers. The <code>rotate</code> class is passed to HTML5 output, so custom plug-ins can implement alternative presentation rules in CSS if necessary. <a href="https://github.com/dita-ot/dita-ot/issues/3448">#3448</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3541">#3541</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3651">#3651</a></p>
</li>
<li>
<p>User-facing text for the dita command line interface has been extracted to a strings file to facilitate editing. The cli_en_US.properties is provided in the resources folder as a basis for customization and localization. <a href="https://github.com/dita-ot/dita-ot/issues/3495">#3495</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3523">#3523</a></p>
</li>
<li>
<p>The new <code>Store</code> implementation that supports in-memory processing includes an immutable document reader method that can be used to request a document that doesn't need to change during processing. This approach facilitates caching and helps to speed up processing. <a href="https://github.com/dita-ot/dita-ot/issues/3506">#3506</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3548">#3548</a></p>
</li>
<li>
<p>In earlier versions, variations in reference capitalization could cause unexpected results when building output on case-sensitive file systems. DITA-OT now warns when file references use incorrect case. (For example, if maps reference Topic.dita, but the filename on disk is actually topic.dita.) In strict processing mode, this is considered a fatal error; in lax processing mode, the file reference is rewritten to use the same case as the file system. <a href="https://github.com/dita-ot/dita-ot/issues/3535">#3535</a></p>
</li>
<li>
<p>The --filter option can now be passed to the dita multiple times in a single command-line invocation to apply conditions from several DITAVAL files at once. <a href="https://github.com/dita-ot/dita-ot/issues/3556">#3556</a></p>
</li>
<li>
<p>The bundled Apache Formatting Objects Processor (FOP) has been upgraded to version 2.5, which includes security updates to various embedded libraries. <a href="https://github.com/dita-ot/dita-ot/issues/3558">#3558</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3630">#3630</a></p>
</li>
<li>
<p>The deprecated <code>msgprefix</code> XSL variable (“DOTX”) has been removed. This variable was originally deprecated in DITA-OT 2.3, but still defined in several stylesheets. Importing the common XSL module output-message.xsl no longer requires this variable to be defined. <a href="https://github.com/dita-ot/dita-ot/issues/3562">#3562</a></p>
</li>
<li>
<p>The S9api message listener from the Saxon API is now used to forward log messages to the <code>DITAOTLogger</code>. This allows message levels and error codes to be passed from XSLT to Java code for improved debugging. <a href="https://github.com/dita-ot/dita-ot/issues/3564">#3564</a></p>
</li>
<li>
<p>HTML5 output now includes additional metadata to indicate that the content was produced using DITA Open Toolkit. <a href="https://github.com/dita-ot/dita-ot/issues/3594">#3594</a></p>
<pre><code class="language-language-html">&lt;meta name=&quot;generator&quot; content=&quot;DITA-OT&quot;/&gt;
</code></pre>
</li>
<li>
<p>Up to version 3.5, DITA-OT included the <a href="https://dublincore.org/specifications/dublin-core/dcmi-terms">Dublin Core Metadata Element Set</a> in both XHTML and HTML5 output. For DITA-OT 3.6, this capability was extracted to a separate plugin, and Dublin Core metadata is no longer generated in the default HTML5 output. <a href="https://github.com/dita-ot/dita-ot/issues/3595">#3595</a></p>
<p>If necessary, the <a href="https://github.com/dita-ot/org.dita.html5.dublin-core/">org.dita.html5.dublin-core</a> plug-in can be installed from the plug-in registry at <a href="https://www.dita-ot.org/plugins">dita-ot.org/plugins</a> to add Dublin Core metadata to HTML5. To install the plug-in, run the following command:</p>
<pre><code class="language-syntax-bash">dita install org.dita.html5.dublin-core
</code></pre>
</li>
<li>
<p>In XHTML output, previous versions failed to distinguish <em>Notice</em> note types from regular notes, prefixing both with <strong>Note</strong>. Support has been backported from HTML5 to XHTML to prefix notices with <strong>Notice</strong> as expected. <a href="https://github.com/dita-ot/dita-ot/issues/3599">#3599</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3600">#3600</a></p>
</li>
<li>
<p>Unused code for flagging and key processing has been removed along with related files that have been deprecated since version 2.1, including the base flag.xsl stylesheet, the generated keydef.xml file, and schemekeydef.xml. <a href="https://github.com/dita-ot/dita-ot/issues/3602">#3602</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3603">#3603</a></p>
</li>
<li>
<p>Remaining inline style attributes were removed from HTML5 code, which prevented custom plug-ins from overriding the presentation of the corresponding elements, including:</p>
<ul>
<li><code>line-through</code> and <code>overline</code> elements</li>
<li>syntax diagrams</li>
<li>long quote citations</li>
<li>Boolean states
These changes move the default presentation rules to CSS to allow users to override these styles in custom stylesheets. The output is visually equivalent to the results generated by previous toolkit versions. <a href="https://github.com/dita-ot/dita-ot/issues/3632">#3632</a></li>
</ul>
<p><strong>Important:</strong> In publishing environments that do not use the default common CSS files, these styles may need to be implemented in custom stylesheets.</p>
</li>
</ul>
<h3><a class="header" href="#bugs" id="bugs">Bugs</a></h3>
<p>DITA Open Toolkit Release 3.6 provides fixes for the following bugs:</p>
<ul>
<li>
<p>Folder names in development build archives previously included the “<code>+</code>” plus sign, which caused errors when running from the unpacked directory. The snapshot folder name syntax has been updated to use the “<code>@</code>” at sign instead, which allows builds to run directly from the extracted folder. <a href="https://github.com/dita-ot/dita-ot/issues/2414">#2414</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3623">#3623</a></p>
</li>
<li>
<p>The license text for the beta DITA 2.0 grammar file plug-in was missing in DITA-OT 3.5 and is now included in the distribution package. <a href="https://github.com/dita-ot/dita-ot/issues/3608">#3608</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3649">#3649</a></p>
</li>
<li>
<p>The Java code has been refactored to anticipate cases where resources are missing or incorrectly defined.</p>
<ul>
<li>The <code>File.toURI()</code> method has been updated to ensure that the generated URI for a directory will always end in a trailing slash. This prevents unexpected errors in cases when the <code>File</code> input points to a path that doesn’t exist. <a href="https://github.com/dita-ot/dita-ot/issues/3621">#3621</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3624">#3624</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3626">#3626</a></li>
<li>The <code>JobSourceSet</code> has been fixed to handle cases where the <code>src</code> input is <code>null</code>. <a href="https://github.com/dita-ot/dita-ot/issues/3625">#3625</a></li>
</ul>
</li>
<li>
<p>In DITA-OT 3.5.4, the HTMLHelp stylesheet map2hhcImpl.xsl included an invalid code remnant left over from previous edits. The unnecessary line has been removed. <a href="https://github.com/dita-ot/dita-ot/issues/3627">#3627</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3634">#3634</a></p>
</li>
</ul>
<h3><a class="header" href="#contributors" id="contributors">Contributors</a></h3>
<p>DITA Open Toolkit Release 3.6 includes <a href="https://github.com/dita-ot/dita-ot/graphs/contributors">code contributions</a> by the following people:</p>
<ol>
<li>Jarno Elovirta</li>
<li>Roger Sheen</li>
<li>Robert D Anderson</li>
<li>Radu Coravu</li>
<li>David Bertalan</li>
</ol>
<p>For the complete list of changes since the previous release, see the <a href="https://github.com/dita-ot/dita-ot/compare/3.5...3.6">changelog</a> on GitHub.</p>
<h3><a class="header" href="#documentation-updates" id="documentation-updates">Documentation updates</a></h3>
<p>The documentation for DITA Open Toolkit Release 3.6 provides corrections and improvements to existing topics, along with new information in the following topics:</p>
<ul>
<li><a href="release-notes/../reference/store-api.html">Store API – Processing in memory</a></li>
<li><a href="release-notes/../reference/dita-v2-0-support.html">DITA 2.0 preview support</a></li>
<li><a href="release-notes/../topics/migrating-to-3.6.html">Migrating to release 3.6</a></li>
<li><a href="release-notes/../topics/reducing-processing-time.html">Speeding up builds</a></li>
<li><a href="release-notes/../parameters/parameters-base.html">Common parameters</a></li>
<li><a href="release-notes/../topics/build-using-dita-command.html">Using the dita command</a></li>
<li><a href="release-notes/../parameters/dita-command-arguments.html">Arguments and options for the dita command</a></li>
</ul>
<p>For additional information on documentation issues resolved in DITA Open Toolkit Release 3.6, see the <a href="https://github.com/dita-ot/docs/issues?q=milestone%3A3.6+is%3Aclosed">3.6 milestone</a> in the documentation repository.</p>
<p>DITA Open Toolkit Release 3.6 includes <a href="https://github.com/dita-ot/docs/graphs/contributors">documentation contributions</a> by the following people:</p>
<ol>
<li>Roger Sheen</li>
<li>Jarno Elovirta</li>
<li>Lief Erickson</li>
<li>Heston Hoffman</li>
</ol>
<p>For the complete list of documentation changes since the previous release, see the <a href="https://github.com/dita-ot/docs/compare/3.5...3.6">changelog</a>.</p>
<h1><a class="header" href="#dita-ot-release-history" id="dita-ot-release-history">DITA-OT release history</a></h1>
<p><em>Release Notes</em> archives contain information on the changes in earlier versions.</p>
<p>When migrating customizations, identify the version of the toolkit you're currently using (base version) and the version of the toolkit you want to migrate to (target version). Then, review all of the migration changes described in <em>all</em> of the versions from the base through the target. For instance, if you're currently on 2.2 and want to move to 3.3, you should review all of the changes in 2.3 through 3.3. You may want to start at the oldest version and read forward so you can chronologically follow the changes, since it is possible that files or topics have had multiple changes.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/migration.html">Migrating customizations</a></p>
<p><a href="https://www.dita-ot.org/3.5/release-notes/">DITA-OT 3.5 Release Notes</a></p>
<p><a href="https://www.dita-ot.org/3.4/release-notes/">DITA-OT 3.4 Release Notes</a></p>
<p><a href="https://www.dita-ot.org/3.3/release-notes/">DITA-OT 3.3 Release Notes</a></p>
<p><a href="https://www.dita-ot.org/3.2/release-notes/">DITA-OT 3.2 Release Notes</a></p>
<p><a href="https://www.dita-ot.org/3.1/release-notes/">DITA-OT 3.1 Release Notes</a></p>
<p><a href="https://www.dita-ot.org/3.0/release-notes/">DITA-OT 3.0 Release Notes</a></p>
<p><a href="https://www.dita-ot.org/2.5/release-notes/">DITA-OT 2.5 Release Notes</a></p>
<p><a href="https://www.dita-ot.org/2.4/release-notes/">DITA-OT 2.4 Release Notes</a></p>
<p><a href="https://www.dita-ot.org/2.3/release-notes/">DITA-OT 2.3 Release Notes</a></p>
<p><a href="https://www.dita-ot.org/2.2/release-notes/">DITA-OT 2.2 Release Notes</a></p>
<p><a href="https://www.dita-ot.org/2.1/release-notes/">DITA-OT 2.1 Release Notes</a></p>
<p><a href="https://www.dita-ot.org/2.0/readme/changes/rel2.0.html">DITA-OT 2.0 Release Notes</a></p>
<p><a href="http://dita-archive.xml.org/wiki/the-dita-open-toolkit">DITA-OT 1.8 - 1.0 Release Notes</a></p>
<h1><a class="header" href="#installing-dita-open-toolkit" id="installing-dita-open-toolkit">Installing DITA Open Toolkit</a></h1>
<p>The DITA-OT distribution package can be installed on Linux, macOS, and Windows. It contains everything that you need to run the toolkit except for Java.</p>
<ul>
<li>
<p>Ensure that you have a Java Runtime Environment (JRE) or Java Development Kit (JDK).</p>
<p>DITA-OT is designed to run on Java version 8u101 or later and built and tested with the Open Java Development Kit (OpenJDK). Compatible Java distributions are available from multiple sources:</p>
<ul>
<li>You can download the Oracle JRE or JDK from <a href="http://www.oracle.com/technetwork/java/javase/downloads">oracle.com/technetwork/java</a> under commercial license.</li>
<li>OpenJDK is a free open-source implementation of Java available from <a href="https://adoptopenjdk.net">adoptopenjdk.net</a>.</li>
<li>Free OpenJDK distributions are also available from other vendors, including <a href="https://aws.amazon.com/corretto/">Amazon Corretto</a>, <a href="https://www.azul.com/downloads/zulu/">Azul Zulu</a>, and <a href="https://developers.redhat.com/products/openjdk/download">Red Hat</a>.</li>
</ul>
</li>
<li>
<p>If you want to generate HTML Help, ensure that you have HTML Help Workshop installed.</p>
<p>You can download the Help Workshop from <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/ms669985%28v=vs.85%29.aspx">msdn.microsoft.com</a>.</p>
</li>
</ul>
<ol>
<li>
<p>Download the dita-ot-3.6.zip package from the project website at <a href="https://www.dita-ot.org/download">dita-ot.org/download</a>.</p>
</li>
<li>
<p>Extract the contents of the package to the directory where you want to install DITA-OT.</p>
</li>
<li>
<p>Add the absolute path for the bin folder of the DITA-OT installation directory to the <a href="https://en.wikipedia.org/wiki/PATH_(variable)">PATH environment variable</a>.</p>
<p><strong>Tip:</strong> This defines the necessary environment variable that allows the dita command to be run from any location on the file system without typing the path to the command.</p>
</li>
</ol>
<h1><a class="header" href="#prerequisite-software" id="prerequisite-software">Prerequisite software</a></h1>
<p>The prerequisite software that DITA-OT requires depends on the types of transformations that you want to use.</p>
<h2><a class="header" href="#software-required-for-core-dita-ot-processing" id="software-required-for-core-dita-ot-processing">Software required for core DITA-OT processing</a></h2>
<p>DITA-OT requires the following software applications:</p>
<ul>
<li>
<p><strong>Java Runtime Environment (JRE) or Java Development Kit (JDK)</strong></p>
<p>DITA-OT is designed to run on Java version 8u101 or later and built and tested with the Open Java Development Kit (OpenJDK). Compatible Java distributions are available from multiple sources:</p>
<ul>
<li>You can download the Oracle JRE or JDK from <a href="http://www.oracle.com/technetwork/java/javase/downloads">oracle.com/technetwork/java</a> under commercial license.</li>
<li>OpenJDK is a free open-source implementation of Java available from <a href="https://adoptopenjdk.net">adoptopenjdk.net</a>.</li>
<li>Free OpenJDK distributions are also available from other vendors, including <a href="https://aws.amazon.com/corretto/">Amazon Corretto</a>, <a href="https://www.azul.com/downloads/zulu/">Azul Zulu</a>, and <a href="https://developers.redhat.com/products/openjdk/download">Red Hat</a>.
<strong>Note:</strong> This is the <em>only</em> prerequisite software that you need to install. The remaining required software is included in the distribution package.</li>
</ul>
</li>
<li>
<p><strong>Apache Ant</strong></p>
<p>Provides the standard setup and sequencing of processing steps. DITA-OT includes Ant version 1.10.9. You can download Ant from <a href="https://ant.apache.org">ant.apache.org</a>.</p>
</li>
<li>
<p><strong>XSLT processor</strong></p>
<p>Provides the main transformation services. It must be compliant with XSLT 2.0. DITA-OT includes Saxon version 9.9.1.4. You can download Saxon from <a href="http://saxon.sourceforge.net">saxon.sourceforge.net</a>.</p>
</li>
</ul>
<h2><a class="header" href="#software-required-for-specific-transformations" id="software-required-for-specific-transformations">Software required for specific transformations</a></h2>
<p>Depending on the type of output that you want to generate, you might need the following applications:</p>
<ul>
<li>
<p><strong>ICU for Java</strong></p>
<p>ICU for Java is a cross-platform, Unicode-based, globalization library. It includes support for comparing locale-sensitive strings; formatting dates, times, numbers, currencies, and messages; detecting text boundaries; and converting character sets. You can download ICU for Java from <a href="http://site.icu-project.org/download">icu-project.org/download</a>.</p>
</li>
<li>
<p><strong>Microsoft Help Workshop</strong></p>
<p>Required for generating HTML help. You can download the Help Workshop from <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/ms669985%28v=vs.85%29.aspx">msdn.microsoft.com</a>.</p>
</li>
<li>
<p><strong>XSL-FO processor</strong></p>
<p>Required for generating PDF output. Apache™ FOP (Formatting Objects Processor) is included in the distribution package. You can download other versions from <a href="https://xmlgraphics.apache.org/fop/download.html">xmlgraphics.apache.org/fop</a>. You can also use commercial FO processors such as Antenna House Formatter or RenderX XEP.</p>
</li>
</ul>
<h1><a class="header" href="#checking-the-dita-ot-version-number" id="checking-the-dita-ot-version-number">Checking the DITA-OT version number</a></h1>
<p>You can determine the DITA Open Toolkit version number from a command prompt.</p>
<ol>
<li>
<p>Open a command prompt or terminal session.</p>
</li>
<li>
<p>Issue the following command:</p>
<pre><code>dita --version
</code></pre>
</li>
</ol>
<p>The DITA-OT version number appears on the console:</p>
<pre><code>DITA-OT version 3.6
</code></pre>
<h1><a class="header" href="#building-output-using-the-dita-command" id="building-output-using-the-dita-command">Building output using the dita command</a></h1>
<p>You can generate output using the dita command-line tool. Build parameters can be specified on the command line or with .properties files.</p>
<p>The DITA-OT client is a command-line tool with no graphical user interface. To verify that your installation works correctly, you can build output using the sample files included in the distribution package.</p>
<ol>
<li>
<p>Open a terminal window by typing the following in the search bar:</p>
<pre><code>|**Linux or macOS **|Type Terminal.|
</code></pre>
<p>|<strong>Windows</strong>|Type Command Prompt.|</p>
</li>
<li>
<p>At the command-line prompt, enter the following command:</p>
<pre><code class="language-syntax-bash">dita --input=input-file --format=format 
</code></pre>
<p>where:</p>
<ul>
<li>input-file is the DITA map or DITA file that you want to process.</li>
<li>format is the output format (transformation type). This argument corresponds to the common parameter transtype. Use the same values as for the transtype build parameter, for example html5 or pdf.</li>
</ul>
<p>If processing is successful, nothing is printed in the terminal window. The built output is written to the specified output directory (by default, in the out subdirectory of the current directory).</p>
</li>
</ol>
<p>Run from dita-ot-dir/docsrc/samples, the following command generates HTML5 output for the sequence.ditamap file:</p>
<pre><code>dita --input=sequence.ditamap --format=html5
</code></pre>
<p>Most builds require you to specify more options than are described in this topic.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/build-using-dita-command.html">More information about building output with the dita command</a></p>
<h1><a class="header" href="#installing-on-macos-via-homebrew" id="installing-on-macos-via-homebrew">Installing on macOS via Homebrew</a></h1>
<p>An alternative installation method can be used to install DITA-OT on macOS via <a href="https://brew.sh">Homebrew</a>, the platform’s most popular open-source package manager.</p>
<p>The steps below assume you have already installed <a href="https://brew.sh">Homebrew</a> according to the instructions at <a href="https://brew.sh">brew.sh</a>.</p>
<p><strong>Tip:</strong> Verify that your <a href="https://en.wikipedia.org/wiki/PATH_(variable)">PATH environment variable</a> begins with /usr/local/bin to ensure that Homebrew-installed software takes precedence over any programs of the same name elsewhere on the system.</p>
<ol>
<li>
<p>Update Homebrew to make sure the latest package formulas are available on your system:</p>
<pre><code class="language-syntax-bash">$ brew update
Already up-to-date.
</code></pre>
<p>Homebrew responds with a list of any new or updated formulæ.</p>
</li>
<li>
<p>Check the version of DITA-OT that is available from Homebrew:</p>
<pre><code class="language-syntax-bash">$ brew info dita-ot
dita-ot: stable 3.6
DITA Open Toolkit is an implementation of the OASIS DITA specification
https://www.dita-ot.org/
/usr/local/Cellar/dita-ot/3.6 \(number of files, package size\) \*
  Built from source on YYYY-MM-DD at hh:mm:ss
From: https://github.com/Homebrew/homebrew-core/blob/master/Formula/dita-ot.rb
==\&gt; Requirements
Required: java \&gt;= 1.8 ✔

</code></pre>
<p>The version of the DITA-OT formula is shown, along with basic information on the package.</p>
</li>
<li>
<p>Install the <code>dita-ot</code> package:</p>
<pre><code class="language-syntax-bash">$ brew install dita-ot
Downloading…
</code></pre>
<p>Homebrew will automatically download the latest version of the toolkit, install it in a subfolder of the local package Cellar and symlink the dita command to /usr/local/bin/dita.</p>
</li>
<li>
<p>Verify the installation:</p>
<pre><code class="language-syntax-bash">$ which dita
/usr/local/bin/dita
</code></pre>
<p>The response confirms that the system will use the Homebrew-installed version of DITA-OT.</p>
</li>
<li>
<p>Check the DITA-OT version number:</p>
<pre><code class="language-syntax-bash">$ dita --version
DITA-OT version 3.6
</code></pre>
<p>The DITA-OT version number appears on the console.</p>
</li>
</ol>
<p>You can now run the dita command to transform DITA content.</p>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2018/dita-ot_day.html#installing_DITA-OT_on_macOS_via_homebrew">Installing DITA-OT on macOS via Homebrew</a></p>
<h1><a class="header" href="#building-output" id="building-output">Building output</a></h1>
<p>You can use the dita command-line tool, Ant, or the Java API to transform DITA content to the various output formats that DITA Open Toolkit supports.</p>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2015/dita-ot_day.html#How_To_Run_DITA_OT">How to run DITA-OT</a></p>
<h1><a class="header" href="#building-output-using-the-dita-command-1" id="building-output-using-the-dita-command-1">Building output using the dita command</a></h1>
<p>You can generate output using the dita command-line tool. Build parameters can be specified on the command line or with .properties files.</p>
<ol>
<li>
<p>At the command-line prompt, enter the following command:</p>
<pre><code class="language-syntax-bash">dita --input=input-file --format=format \[options\]
</code></pre>
<p>where:</p>
<ul>
<li>
<p>input-file is the DITA map or DITA file that you want to process.</p>
</li>
<li>
<p>format is the output format (transformation type). This argument corresponds to the common parameter transtype. Use the same values as for the transtype build parameter, for example html5 or pdf.</p>
<p>You can create plug-ins to add new output formats; by default, the following values are available:</p>
<ul>
<li>dita</li>
<li>eclipsehelp</li>
<li>html5</li>
<li>htmlhelp</li>
<li>markdown, markdown_gitbook, and markdown_github</li>
<li>pdf</li>
<li>xhtml
<strong>Tip:</strong> See <a href="topics/output-formats.html">DITA-OT transformations (output formats)</a> for sample command line syntax and more information on each transformation.</li>
</ul>
</li>
<li>
<p>[options] include the following optional build parameters:</p>
<ul>
<li>
<p><strong>--debug -d</strong></p>
<p>Debug logging prints considerably more additional information. The debug log includes all information from the verbose log, plus details on Java classes, additional Ant properties and overrides, preprocessing filters, parameters, and stages, and the complete build sequence. Debug logging requires additional resources and can slow down the build process, so it should only be enabled when further details are required to diagnose problems.</p>
</li>
<li>
<p><strong>--output=dir -o dir</strong></p>
<p>Specifies the path of the output directory; the path can be absolute or relative to the current directory.</p>
<p>This argument corresponds to the common parameter output.dir. By default, the output is written to the out subdirectory of the current directory.</p>
</li>
<li>
<p><strong>--filter=files</strong></p>
<p>Specifies filter file(s) used to include, exclude, or flag content. Relative paths are resolved against the current directory and internally converted to absolute paths.</p>
<p><strong>Note:</strong></p>
<p>To specify multiple filter files, use the system path separator character to delimit individual file paths (semicolon ‘<code>;</code>’ on Windows, and colon ‘<code>:</code>’ on macOS and Linux) and wrap the value in quotes:</p>
<p><code>--filter=&quot;filter1.ditaval;filter2.ditaval;filter3.ditaval&quot;</code></p>
<p>As of DITA-OT 3.6, the --filter option can also be passed multiple times:</p>
<p><code>--filter=filter1.ditaval --filter=filter2.ditaval --filter=filter3.ditaval</code></p>
<p>DITAVAL files are evaluated in the order specified, so conditions specified in the first file take precedence over matching conditions specified in later files, just as conditions at the start of a DITAVAL document take precedence over matching conditions later in the same document.</p>
</li>
<li>
<p><strong>--force</strong></p>
<p>Force-install an existing plug-in.</p>
<p>Passed as an additional option to the installation subcommand: dita install plug-in-zip --force</p>
</li>
<li>
<p><strong>--help -h</strong></p>
<p>Print a list of available arguments, options, and subcommands.</p>
</li>
<li>
<p><strong>--logfile=file -l file</strong></p>
<p>Write logging messages to a file.</p>
</li>
<li>
<p><strong>--parameter=value -Dparameter=value</strong></p>
<p>Specify a value for a DITA-OT or Ant build parameter.</p>
<p>The GNU-style --parameter=value form is only available for parameters that are configured in the plug-in configuration file; the Java-style -D form can also be used to specify additional non-configured parameters or set system properties.</p>
<p>Parameters not implemented by the specified transformation type or referenced in a .properties file are ignored.</p>
<p><strong>Tip:</strong> If you are building in different environments where the location of the input files is not consistent, set args.input.dir with the dita command and reference its value with <code>${args.input.dir}</code> in your .properties file.</p>
</li>
<li>
<p><strong>--propertyfile=file</strong></p>
<p>Use build parameters defined in the referenced .properties file.</p>
<p>Build parameters specified on the command line override those set in the .properties file.</p>
</li>
<li>
<p><strong>--repeat=N</strong></p>
<p>Repeat the transformation N number of times.</p>
<p>This option can be used by plug-in developers to measure performance. To run a conversion five times, for example, use --repeat=5. The duration of each execution will appear in the console when the final transformation is complete.</p>
<pre><code>$ dita --input=docsrc/samples/sequence.ditamap --format=html5 --repeat=5
1 11281ms
2 4132ms
3 3690ms
4 4337ms
5 3634ms
</code></pre>
</li>
<li>
<p><strong>--resource=file -r file</strong></p>
<p>Convert partial documentation sets by processing input with additional resources.</p>
<p>For example, to process a single topic file with a map that contains key definitions, use a command like this:</p>
<pre><code class="language-syntax-bash">dita --input=topic.dita --resource=keys.ditamap --format=html5
</code></pre>
<p>To convert a chapter map to HTML5 and insert related links from relationship tables in a separate map, use:</p>
<pre><code class="language-syntax-bash">dita --input=chapter.ditamap --resource=reltables.ditamap --format=html5
</code></pre>
</li>
<li>
<p><strong>--temp=dir -t dir</strong></p>
<p>Specifies the location of the temporary directory.</p>
<p>This argument corresponds to the common parameter dita.temp.dir.</p>
</li>
<li>
<p><strong>--verbose -v</strong></p>
<p>Verbose logging prints additional information to the console, including directory settings, effective values for Ant properties, input/output files, and informational messages to assist in troubleshooting.</p>
</li>
</ul>
</li>
</ul>
<p>If processing is successful, nothing is printed in the terminal window. The built output is written to the specified output directory (by default, in the out subdirectory of the current directory).</p>
</li>
</ol>
<p>For example, from dita-ot-dir/docsrc/samples, run:</p>
<pre><code>dita --input=sequence.ditamap --format=html5 \
     --output=output/sequence \
     --args.input.dir=/absolute/path/to/dita-ot-dir/docsrc/samples \
     --propertyfile=properties/sequence-html5.properties
</code></pre>
<p>This builds sequence.ditamap to HTML5 output in output/sequence using the following additional parameters specified in the properties/sequence-html5.properties file:</p>
<pre><code># Directory that contains the custom .css file:
args.cssroot = ${args.input.dir}/css/

# Custom .css file used to style output:
args.css = style.css

# Copy the custom .css file to the output directory:
args.copycss = yes

# Location of the copied .css file relative to the output:
args.csspath = branding

# Generate a full navigation TOC in topic pages:
nav-toc = full
</code></pre>
<p>Usually, you will want to specify a set of reusable build parameters in a .properties file.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../parameters/dita-command-arguments.html">Arguments and options for the dita command</a></p>
<p><a href="topics/../topics/dita-command-help.html">Accessing help for the dita command</a></p>
<p><a href="topics/../parameters/parameters_intro.html">DITA-OT parameters</a></p>
<p><a href="topics/../parameters/internal-ant-properties.html">Internal Ant properties</a></p>
<p><a href="https://www.oxygenxml.com/events/2015/dita-ot_day.html#Why_startcmd_is_not_your_friend">Why &quot;startcmd&quot; is not your friend</a></p>
<h1><a class="header" href="#setting-build-parameters-with-properties-files" id="setting-build-parameters-with-properties-files">Setting build parameters with .properties files</a></h1>
<p>Usually, DITA builds require setting a number of parameters that do not change frequently. You can reference a set of build parameters defined in a .properties file when building output with the dita command. If needed, you can override any parameter by specifying it explicitly as an argument to the dita command.</p>
<h2><a class="header" href="#about-properties-files" id="about-properties-files">About .properties files</a></h2>
<p>A .properties file is a text file that enumerates one or more name-value pairs, one per line, in the format <code>name = value</code>. The .properties filename extension is customarily used, but is not required.</p>
<ul>
<li>
<p>Lines beginning with the <code>#</code> character are comments.</p>
</li>
<li>
<p>Properties specified as arguments of the dita command override those set in .properties files.</p>
<p><strong>Restriction:</strong> For this reason, args.input and transtype can’t be set in the .properties file.</p>
</li>
<li>
<p>If you specify the same property more than once, the last instance is used.</p>
</li>
<li>
<p>Properties not used by the selected transformation type are ignored.</p>
</li>
<li>
<p>Properties can reference other property values defined elsewhere in the .properties file or passed by the dita command. Use the Ant <code>${property.name}</code> syntax.</p>
</li>
<li>
<p>You can set properties not only for the default DITA-OT transformation types, but also for custom plugins.</p>
</li>
</ul>
<ol>
<li>
<p>Create your .properties file.</p>
<p><strong>Tip:</strong> Copy dita-ot-dir/docsrc/samples/properties/template.properties; this template describes each of the properties you can set.</p>
<p>For example:</p>
<pre><code># Directory that contains the custom .css file:
args.cssroot = ${args.input.dir}/css/

# Custom .css file used to style output:
args.css = style.css

# Copy the custom .css file to the output directory:
args.copycss = yes

# Location of the copied .css file relative to the output:
args.csspath = branding

# Generate a full navigation TOC in topic pages:
nav-toc = full
</code></pre>
</li>
<li>
<p>Reference your .properties file with the dita command when building your output.</p>
<pre><code class="language-syntax-bash">dita --input=my.ditamap --format=html5 --propertyfile=my.properties
</code></pre>
</li>
<li>
<p>If needed, pass additional arguments to the dita command to override specific build parameters.</p>
<p>For example, to build output once with <code>draft</code> and <code>required-cleanup</code> content:</p>
<pre><code class="language-syntax-bash">dita --input=my.ditamap --format=html5 --propertyfile=my.properties \
     --args.draft=yes
</code></pre>
<p><strong>Tip:</strong> If you are building in different environments where the location of the input files is not consistent, set args.input.dir with the dita command and reference its value with <code>${args.input.dir}</code> in your .properties file.</p>
</li>
</ol>
<h1><a class="header" href="#migrating-ant-builds-to-use-the-dita-command" id="migrating-ant-builds-to-use-the-dita-command">Migrating Ant builds to use the dita command</a></h1>
<p>Although DITA Open Toolkit still supports Ant builds, switching to the dita command offers a simpler command interface, sets all required environment variables and allows you to run DITA-OT without setting up anything beforehand.</p>
<p>Building output with the dita command is often easier than using Ant. In particular, you can use .properties files to specify sets of DITA-OT parameters for each build.</p>
<p>You can include the dita command in shell scripts to perform multiple builds.</p>
<p><strong>Tip:</strong> Add the absolute path for the bin folder of the DITA-OT installation directory to the <a href="https://en.wikipedia.org/wiki/PATH_(variable)">PATH environment variable</a> to run the dita command from any location on the file system without typing the path.</p>
<ol>
<li>
<p>In your Ant build file, identify the properties set in each build target.</p>
<p><strong>Note:</strong> Some build parameters might be specified as properties of the project as a whole. You can refer to a build log to see a list of all properties that were set for the build.</p>
</li>
<li>
<p>Create a .properties file for each build and specify the needed build parameters, one per line, in the format <code>name = value</code>.</p>
</li>
<li>
<p>Use the dita command to perform each build, referencing your .properties with the --propertyfile=file option.</p>
</li>
</ol>
<h2><a class="header" href="#example-ant-build" id="example-ant-build">Example: Ant build</a></h2>
<p>Prior to DITA-OT 2.0, an Ant build like this was typically used to define the properties for each target.</p>
<p>Sample build file: dita-ot-dir/docsrc/samples/ant_sample/build-chm-pdf.xml</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project name=&quot;build-chm-pdf&quot; default=&quot;all&quot; basedir=&quot;.&quot;&gt;
  &lt;property name=&quot;dita.dir&quot; location=&quot;${basedir}/../../..&quot;/&gt;
  &lt;target name=&quot;all&quot; description=&quot;build CHM and PDF&quot; depends=&quot;chm,pdf&quot;/&gt;
  &lt;target name=&quot;chm&quot; description=&quot;build CHM&quot;&gt;
    &lt;ant antfile=&quot;${dita.dir}/build.xml&quot;&gt;
      &lt;property name=&quot;args.input&quot; location=&quot;../sequence.ditamap&quot;/&gt;
      &lt;property name=&quot;transtype&quot; value=&quot;htmlhelp&quot;/&gt;
      &lt;property name=&quot;output.dir&quot; location=&quot;../out/chm&quot;/&gt;
      &lt;property name=&quot;args.gen.task.lbl&quot; value=&quot;YES&quot;/&gt;
    &lt;/ant&gt;
  &lt;/target&gt;
  &lt;target name=&quot;pdf&quot; description=&quot;build PDF&quot;&gt;
    &lt;ant antfile=&quot;${dita.dir}/build.xml&quot;&gt;
      &lt;property name=&quot;args.input&quot; location=&quot;../taskbook.ditamap&quot;/&gt;
      &lt;property name=&quot;transtype&quot; value=&quot;pdf&quot;/&gt;
      &lt;property name=&quot;output.dir&quot; location=&quot;../out/pdf&quot;/&gt;
      &lt;property name=&quot;args.gen.task.lbl&quot; value=&quot;YES&quot;/&gt;
      &lt;property name=&quot;args.rellinks&quot; value=&quot;nofamily&quot;/&gt;
    &lt;/ant&gt;
  &lt;/target&gt;
&lt;/project&gt;
</code></pre>
<h2><a class="header" href="#example-properties-files-with-dita-command" id="example-properties-files-with-dita-command">Example: .properties files with dita command</a></h2>
<p>The following .properties files and dita commands are equivalent to the example Ant build.</p>
<p>Sample .properties file: dita-ot-dir/docsrc/samples/properties/chm.properties</p>
<pre><code>output.dir = out/chm
args.gen.task.lbl = YES
</code></pre>
<p>Sample .properties file: dita-ot-dir/docsrc/samples/properties/pdf.properties</p>
<pre><code>output.dir = out/pdf
args.gen.task.lbl = YES
args.rellinks = nofamily
</code></pre>
<p>Run from dita-ot-dir/docsrc/samples:</p>
<pre><code>dita --input=sequence.ditamap --format=htmlhelp \
     --propertyfile=properties/chm.properties
dita --input=taskbook.ditamap --format=pdf \
     --propertyfile=properties/pdf.properties
</code></pre>
<h2><a class="header" href="#example-call-the-dita-command-from-an-ant-build" id="example-call-the-dita-command-from-an-ant-build">Example: Call the dita command from an Ant build</a></h2>
<p>In some cases, you might still want to use an Ant build to implement some pre- or post-processing steps, but also want the convenience of using the dita command with .properties files to define the parameters for each build. This can be accomplished with Ant’s <code>exec</code> task.</p>
<p>This example uses a <code>dita-cmd</code> Ant macro defined in the dita-ot-dir/docsrc/samples/ant_sample/dita-cmd.xml file:</p>
<pre><code>&lt;macrodef name=&quot;dita-cmd&quot;&gt;
  &lt;attribute name=&quot;input&quot;/&gt;
  &lt;attribute name=&quot;format&quot;/&gt;
  &lt;attribute name=&quot;propertyfile&quot;/&gt;
  &lt;sequential&gt;
    &lt;!-- For Unix run the DITA executable--&gt;
    &lt;exec taskname=&quot;dita-cmd&quot; executable=&quot;${dita.dir}/bin/dita&quot; osfamily=&quot;unix&quot; failonerror=&quot;true&quot;&gt;
      &lt;arg value=&quot;--input&quot;/&gt;
      &lt;arg value=&quot;@{input}&quot;/&gt;
      &lt;arg value=&quot;--format&quot;/&gt;
      &lt;arg value=&quot;@{format}&quot;/&gt;
      &lt;arg value=&quot;--propertyfile&quot;/&gt;
      &lt;arg value=&quot;@{propertyfile}&quot;/&gt;
    &lt;/exec&gt;
    &lt;!-- For Windows run DITA from a DOS command --&gt;
    &lt;exec taskname=&quot;dita-cmd&quot; dir=&quot;${dita.dir}/bin&quot; executable=&quot;cmd&quot; osfamily=&quot;windows&quot; failonerror=&quot;true&quot;&gt;
      &lt;arg value=&quot;/C&quot;/&gt;
      &lt;arg value=&quot;dita --input @{input} --format @{format} --propertyfile=@{propertyfile}&quot;/&gt;
    &lt;/exec&gt;
  &lt;/sequential&gt;
&lt;/macrodef&gt;
</code></pre>
<p>You can use this macro in your Ant build to call the dita command and pass the input, format and propertyfile parameters as follows:</p>
<pre><code class="language-language-xml">&lt;dita-cmd input=&quot;sample.ditamap&quot; format=&quot;pdf&quot; propertyfile=&quot;sample.properties&quot;/&gt;
</code></pre>
<p>This approach allows you to use Ant builds to perform additional tasks at build time while allowing the dita command to set the classpath and ensure that all necessary JAR libraries are available.</p>
<p><strong>Note:</strong> The attributes defined in the Ant macro are required and must be supplied each time the task is run. To set optional parameters in one build (but not another), use different .properties files for each build.</p>
<p>Sample build file: dita-ot-dir/docsrc/samples/ant_sample/build-chm-pdf-hybrid.xml</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project name=&quot;build-chm-pdf-hybrid&quot; default=&quot;all&quot; basedir=&quot;.&quot;&gt;
  &lt;description&gt;An Ant build that calls the dita command&lt;/description&gt;
  &lt;include file=&quot;dita-cmd.xml&quot;/&gt;&lt;!-- defines the &lt;dita-cmd&gt; macro --&gt;
  &lt;target name=&quot;all&quot; depends=&quot;pre,main,post&quot;/&gt;
  &lt;target name=&quot;pre&quot;&gt;
    &lt;description&gt;Preprocessing steps&lt;/description&gt;
  &lt;/target&gt;
  &lt;target name=&quot;main&quot;&gt;
    &lt;description&gt;Build the CHM and PDF with the dita command&lt;/description&gt;
    &lt;property name=&quot;absolute.path.base&quot; location=&quot;../&quot;/&gt;
    &lt;dita-cmd
      input=&quot;${absolute.path.base}/sequence.ditamap&quot;
      format=&quot;htmlhelp&quot;
      propertyfile=&quot;${absolute.path.base}/properties/chm.properties&quot;
    /&gt;
    &lt;dita-cmd
      input=&quot;${absolute.path.base}/taskbook.ditamap&quot;
      format=&quot;pdf&quot;
      propertyfile=&quot;${absolute.path.base}/properties/pdf.properties&quot;
    /&gt;
  &lt;/target&gt;
  &lt;target name=&quot;post&quot;&gt;
    &lt;description&gt;Postprocessing steps&lt;/description&gt;
  &lt;/target&gt;
&lt;/project&gt;
</code></pre>
<h1><a class="header" href="#publishing-with-project-files" id="publishing-with-project-files">Publishing with project files</a></h1>
<p>DITA-OT 3.4 introduces new project files to define publication projects with multiple deliverables. Projects specify a context, output folder, and publication for each deliverable. A re-usable context groups source files and filters, and a publication defines an output format with transformation parameters. You can pass a project file to the dita command to publish multiple deliverables at once.</p>
<h2><a class="header" href="#about-project-files" id="about-project-files">About project files</a></h2>
<p>Project files may be defined in one of three formats: XML, <a href="https://json.org">JSON</a>, or <a href="https://yaml.org">YAML</a>. The XML format can be validated with a RELAX NG schema provided in the resources folder of the DITA-OT installation (project.rnc).</p>
<p><strong>Note:</strong> The XML project file format is the normative version provided for interoperability with existing XML-based toolchains. The JSON and YAML versions are alternative compact formats that are easier to read and write, but otherwise equivalent to the XML syntax.</p>
<p>Whereas .properties files can only be used to set parameters, project files go further, allowing you to define multiple deliverables with separate input files and output folders and formats for each publication. A project file can also refer to other project files, so you can re-use common configuration structures across projects.</p>
<p>Another advantage of project files over .properties files is that they allow you to specify paths relative to the project file, even for parameters that require absolute paths, such as:</p>
<ul>
<li><code>args.cssroot</code></li>
<li><code>args.ftr</code></li>
<li><code>args.hdf</code></li>
<li><code>args.hdr</code></li>
</ul>
<p>Though the exact syntax differs slightly, the basic structure of project files is similar in all supported formats.</p>
<ul>
<li>
<p>You can link to other project files with <code>include(s)</code></p>
</li>
<li>
<p>Projects can define multiple <code>deliverables</code>, which consist of:</p>
<ul>
<li>
<p>a publication <code>context</code> that may include:</p>
<ul>
<li>an <code>id</code> used to refer to this context from other projects</li>
<li>a series of <code>input</code> files (DITA maps)</li>
<li>a <code>profile</code> with a series of DITAVAL files used to filter the content</li>
</ul>
</li>
<li>
<p>an <code>output</code> location (relative to the CLI --output directory)</p>
</li>
<li>
<p>a <code>publication</code> that defines:</p>
<ul>
<li>an output format via <code>transtype</code>, and</li>
<li>a series of parameters to set for this transformation type, specified via <code>name</code> and either <code>href</code>, <code>path</code>, or <code>value</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>Tip:</strong></p>
<ul>
<li>Use <code>href</code> for web addresses and other resources that should resolve to an absolute URI.</li>
<li>Use <code>path</code> for parameters that require an absolute value, like args.cssroot. Paths may be defined relative to the project file, but are always expanded to an absolute system path.</li>
<li>Use <code>value</code> to define strings and relative values for properties like args.csspath, which is used to describe a relative path in the output folder.</li>
</ul>
<ol>
<li>
<p>Create a project file to define the deliverables in your publication project.</p>
<p>For example:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;?xml-model href=&quot;https://www.dita-ot.org/rng/project.rnc&quot; type=&quot;application/relax-ng-compact-syntax&quot;?&gt;
&lt;project xmlns=&quot;https://www.dita-ot.org/project&quot;&gt;
  &lt;deliverable id=&quot;pdf&quot;&gt;
    &lt;context name=&quot;User Guide&quot;&gt;
      &lt;input href=&quot;../../userguide-book.ditamap&quot;/&gt;
    &lt;/context&gt;
    &lt;output href=&quot;.&quot;/&gt;
    &lt;publication transtype=&quot;pdf2&quot;&gt;
      &lt;param name=&quot;args.chapter.layout&quot; value=&quot;BASIC&quot;/&gt;
      &lt;param name=&quot;args.gen.task.lbl&quot; value=&quot;YES&quot;/&gt;
      &lt;param name=&quot;include.rellinks&quot; value=&quot;friend&quot;/&gt;
      &lt;param name=&quot;outputFile.base&quot; value=&quot;userguide&quot;/&gt;
      &lt;param name=&quot;processing-mode&quot; value=&quot;strict&quot;/&gt;
    &lt;/publication&gt;
  &lt;/deliverable&gt;
&lt;/project&gt;
</code></pre>
</li>
<li>
<p>Pass your project file to the dita command to build output.</p>
<pre><code class="language-syntax-bash">dita --project=pdf.xml
</code></pre>
</li>
<li>
<p>If needed, pass additional arguments to the dita command to override specific build parameters.</p>
<p>For example, to build output once with <code>draft</code> and <code>required-cleanup</code> content:</p>
<pre><code class="language-syntax-bash">dita --project=pdf.xml --args.draft=yes
</code></pre>
</li>
<li>
<p>If your project contains multiple deliverables, you can pass the --deliverable option to generate output for a single deliverable ID.</p>
<pre><code class="language-syntax-bash">dita --project=all.xml --deliverable=htmlhelp
</code></pre>
</li>
</ol>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2019/dita-ot_day.html#editing_dita_open_toolkit_project_files">Editing DITA Open Toolkit Project files</a></p>
<p><a href="https://www.oxygenxml.com/events/2019/dita-ot_day.html#one_file_to_rule">One file to rule them all (DITA Project)</a></p>
<h1><a class="header" href="#sample-xml-project-files" id="sample-xml-project-files">Sample XML project files</a></h1>
<p>DITA-OT includes sample XML project files that can be used to define a publication project. The XML format can be validated with a RELAX NG schema provided in the resources folder of the DITA-OT installation (project.rnc).</p>
<p>Project files can be designed in a modular fashion to create reusable configuration structures that allow you to define settings in one file and refer to them in other projects to publish multiple deliverables at once.</p>
<p>For example, dita-ot-dir/docsrc/samples/project-files/html.xml defines a single HTML deliverable.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;?xml-model href=&quot;https://www.dita-ot.org/rng/project.rnc&quot; type=&quot;application/relax-ng-compact-syntax&quot;?&gt;
&lt;project xmlns=&quot;https://www.dita-ot.org/project&quot;&gt;
  &lt;include href=&quot;common.xml&quot;/&gt;
  &lt;deliverable name=&quot;HTML5&quot; id=&quot;html&quot;&gt;
    &lt;context idref=&quot;html&quot;/&gt;
    &lt;output href=&quot;.&quot;/&gt;
    &lt;publication transtype=&quot;html5&quot;&gt;
      &lt;param name=&quot;args.copycss&quot; value=&quot;yes&quot;/&gt;
      &lt;param name=&quot;args.css&quot; value=&quot;dita-ot-doc.css&quot;/&gt;
      &lt;param name=&quot;args.csspath&quot; value=&quot;css&quot;/&gt;
      &lt;param name=&quot;args.cssroot&quot; path=&quot;../../resources&quot;/&gt;
      &lt;param name=&quot;args.gen.task.lbl&quot; value=&quot;YES&quot;/&gt;
      &lt;param name=&quot;args.hdr&quot; href=&quot;../../resources/header.xml&quot;/&gt;
      &lt;param name=&quot;html5.toc.generate&quot; value=&quot;no&quot;/&gt;
      &lt;param name=&quot;nav-toc&quot; value=&quot;partial&quot;/&gt;
      &lt;param name=&quot;processing-mode&quot; value=&quot;strict&quot;/&gt;
    &lt;/publication&gt;
  &lt;/deliverable&gt;
&lt;/project&gt;
</code></pre>
<p>This file can be used to generate the HTML version of the DITA-OT documentation by running the following command from the docsrc folder of the DITA-OT installation directory:</p>
<pre><code>dita --project=samples/project-files/html.xml
</code></pre>
<p>The project file for HTML output imports the common <code>html</code> context from a shared project context defined in the dita-ot-dir/docsrc/samples/project-files/common.xml file, which includes the input map file and the DITAVAL file used to filter the output.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;?xml-model href=&quot;https://www.dita-ot.org/rng/project.rnc&quot; type=&quot;application/relax-ng-compact-syntax&quot;?&gt;
&lt;project xmlns=&quot;https://www.dita-ot.org/project&quot;&gt;
  &lt;context id=&quot;html&quot; name=&quot;HTML&quot;&gt;
    &lt;input href=&quot;../../userguide.ditamap&quot;/&gt;
    &lt;profile&gt;
      &lt;ditaval href=&quot;../../resources/html.ditaval&quot;/&gt;
    &lt;/profile&gt;
  &lt;/context&gt;
&lt;/project&gt;
</code></pre>
<p>The same common <code>html</code> context is also referenced in the project file for HTMLHelp output, as illustrated in dita-ot-dir/docsrc/samples/project-files/htmlhelp.xml.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;?xml-model href=&quot;https://www.dita-ot.org/rng/project.rnc&quot; type=&quot;application/relax-ng-compact-syntax&quot;?&gt;
&lt;project xmlns=&quot;https://www.dita-ot.org/project&quot;&gt;
  &lt;deliverable name=&quot;HTMLHelp&quot; id=&quot;htmlhelp&quot;&gt;
    &lt;context idref=&quot;html&quot;/&gt;
    &lt;output href=&quot;htmlhelp&quot;/&gt;
    &lt;publication transtype=&quot;htmlhelp&quot;&gt;
      &lt;param name=&quot;args.copycss&quot; value=&quot;yes&quot;/&gt;
      &lt;param name=&quot;args.css&quot; value=&quot;dita-ot-doc.css&quot;/&gt;
      &lt;param name=&quot;args.csspath&quot; value=&quot;css&quot;/&gt;
      &lt;param name=&quot;args.cssroot&quot; path=&quot;../../resources&quot;/&gt;
      &lt;param name=&quot;args.gen.task.lbl&quot; value=&quot;YES&quot;/&gt;
      &lt;param name=&quot;processing-mode&quot; value=&quot;strict&quot;/&gt;
    &lt;/publication&gt;
  &lt;/deliverable&gt;
&lt;/project&gt;
</code></pre>
<p>The dita-ot-dir/docsrc/samples/project-files/pdf.xml file defines a single PDF deliverable.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;?xml-model href=&quot;https://www.dita-ot.org/rng/project.rnc&quot; type=&quot;application/relax-ng-compact-syntax&quot;?&gt;
&lt;project xmlns=&quot;https://www.dita-ot.org/project&quot;&gt;
  &lt;deliverable id=&quot;pdf&quot;&gt;
    &lt;context name=&quot;User Guide&quot;&gt;
      &lt;input href=&quot;../../userguide-book.ditamap&quot;/&gt;
    &lt;/context&gt;
    &lt;output href=&quot;.&quot;/&gt;
    &lt;publication transtype=&quot;pdf2&quot;&gt;
      &lt;param name=&quot;args.chapter.layout&quot; value=&quot;BASIC&quot;/&gt;
      &lt;param name=&quot;args.gen.task.lbl&quot; value=&quot;YES&quot;/&gt;
      &lt;param name=&quot;include.rellinks&quot; value=&quot;friend&quot;/&gt;
      &lt;param name=&quot;outputFile.base&quot; value=&quot;userguide&quot;/&gt;
      &lt;param name=&quot;processing-mode&quot; value=&quot;strict&quot;/&gt;
    &lt;/publication&gt;
  &lt;/deliverable&gt;
&lt;/project&gt;
</code></pre>
<p>This file can be used to generate the PDF version of the DITA-OT documentation by running the following command from the docsrc folder of the DITA-OT installation directory:</p>
<pre><code>dita --project=samples/project-files/pdf.xml
</code></pre>
<p>The dita-ot-dir/docsrc/samples/project-files/distribution-docs.xml file includes both the HTML and PDF projects as follows:</p>
<pre><code>&lt;project xmlns=&quot;https://www.dita-ot.org/project&quot;&gt;
  &lt;include href=&quot;html.xml&quot;/&gt;
  &lt;include href=&quot;pdf.xml&quot;/&gt;
&lt;/project&gt;
</code></pre>
<p>To build both the HTML and PDF versions of the documentation as included in the distribution package, run the following command from the docsrc folder of the DITA-OT installation directory:</p>
<pre><code>dita --project=samples/project-files/distribution-docs.xml
</code></pre>
<p>The dita-ot-dir/docsrc/samples/project-files/all.xml file includes all three project deliverables as follows:</p>
<pre><code>&lt;project xmlns=&quot;https://www.dita-ot.org/project&quot;&gt;
  &lt;include href=&quot;html.xml&quot;/&gt;
  &lt;include href=&quot;htmlhelp.xml&quot;/&gt;
  &lt;include href=&quot;pdf.xml&quot;/&gt;
&lt;/project&gt;
</code></pre>
<h1><a class="header" href="#sample-json-project-files" id="sample-json-project-files">Sample JSON project files</a></h1>
<p>DITA-OT includes sample project files in <a href="https://json.org">JSON</a> format that can be used to define a publication project. Like the XML project samples, the sample JSON files illustrate how deliverables can be described for use in publication projects. The JSON samples are functionally equivalent to their XML and YAML counterparts, with minor adaptations to JSON file syntax.</p>
<p>Project files can be designed in a modular fashion to create reusable configuration structures that allow you to define settings in one file and refer to them in other projects to publish multiple deliverables at once.</p>
<p>For example, dita-ot-dir/docsrc/samples/project-files/html.json defines a single HTML deliverable.</p>
<pre><code>{
  &quot;includes&quot;: [&quot;common.json&quot;],
  &quot;deliverables&quot;: [
    {
      &quot;name&quot;: &quot;HTML5&quot;,
      &quot;context&quot;: {&quot;idref&quot;: &quot;html&quot;},
      &quot;output&quot;: &quot;.&quot;,
      &quot;publication&quot;: {
        &quot;transtype&quot;: &quot;html5&quot;,
        &quot;params&quot;: [
          {
            &quot;name&quot;: &quot;args.copycss&quot;,
            &quot;value&quot;: &quot;yes&quot;
          },
          {
            &quot;name&quot;: &quot;args.css&quot;,
            &quot;value&quot;: &quot;dita-ot-doc.css&quot;
          },
          {
            &quot;name&quot;: &quot;args.csspath&quot;,
            &quot;value&quot;: &quot;css&quot;
          },
          {
            &quot;name&quot;: &quot;args.cssroot&quot;,
            &quot;path&quot;: &quot;../../resources&quot;
          },
          {
            &quot;name&quot;: &quot;args.gen.task.lbl&quot;,
            &quot;value&quot;: &quot;YES&quot;
          },
          {
            &quot;name&quot;: &quot;args.hdr&quot;,
            &quot;href&quot;: &quot;../../resources/header.xml&quot;
          },
          {
            &quot;name&quot;: &quot;html5.toc.generate&quot;,
            &quot;value&quot;: &quot;no&quot;
          },
          {
            &quot;name&quot;: &quot;nav-toc&quot;,
            &quot;value&quot;: &quot;partial&quot;
          },
          {
            &quot;name&quot;: &quot;processing-mode&quot;,
            &quot;value&quot;: &quot;strict&quot;
          }
        ]
      }
    }
  ]
}
</code></pre>
<p>This file can be used to generate the HTML version of the DITA-OT documentation by running the following command from the docsrc folder of the DITA-OT installation directory:</p>
<pre><code class="language-syntax-bash">dita --project=samples/project-files/html.json
</code></pre>
<p>The project file for HTML output imports the common <code>html</code> context from a shared project context defined in the dita-ot-dir/docsrc/samples/project-files/common.json file, which includes the input map file and the DITAVAL file used to filter the output.</p>
<pre><code>{
  &quot;contexts&quot;: [
    {
      &quot;id&quot;: &quot;html&quot;,
      &quot;input&quot;: &quot;../../userguide.ditamap&quot;,
      &quot;profiles&quot;: {
        &quot;ditavals&quot;: [&quot;../../resources/html.ditaval&quot;]
      }
    }
  ]
}
</code></pre>
<h1><a class="header" href="#sample-yaml-project-files" id="sample-yaml-project-files">Sample YAML project files</a></h1>
<p>DITA-OT includes sample project files in <a href="https://yaml.org">YAML</a> format that can be used to define a publication project. Like the XML project samples, the sample YAML files illustrate how deliverables can be described for use in publication projects. The YAML samples are functionally equivalent to their XML and JSON counterparts, with minor adaptations to YAML file syntax.</p>
<p>Project files can be designed in a modular fashion to create reusable configuration structures that allow you to define settings in one file and refer to them in other projects to publish multiple deliverables at once.</p>
<p>For example, dita-ot-dir/docsrc/samples/project-files/html.yaml defines a single HTML deliverable.</p>
<pre><code>---
includes:
  - 'common.yaml'
deliverables:
  - name: 'HTML5'
    context:
      idref: 'html'
    output: '.'
    publication:
      transtype: 'html5'
      params:
        - name: 'args.copycss'
          value: 'yes'
        - name: 'args.css'
          value: 'dita-ot-doc.css'
        - name: 'args.csspath'
          value: 'css'
        - name: 'args.cssroot'
          path: '../../resources'
        - name: 'args.gen.task.lbl'
          value: 'YES'
        - name: 'args.hdr'
          href: '../../resources/header.xml'
        - name: 'html5.toc.generate'
          value: 'no'
        - name: 'nav-toc'
          value: 'partial'
        - name: 'processing-mode'
          value: 'strict'
</code></pre>
<p>This file can be used to generate the HTML version of the DITA-OT documentation by running the following command from the docsrc folder of the DITA-OT installation directory:</p>
<pre><code>dita --project=samples/project-files/html.yaml
</code></pre>
<p>The project file for HTML output imports the common <code>html</code> context from a shared project context defined in the dita-ot-dir/docsrc/samples/project-files/common.yaml file, which includes the input map file and the DITAVAL file used to filter the output.</p>
<pre><code>---
contexts:
  - id: 'html'
    input: '../../userguide.ditamap'
    profiles:
      ditavals:
        - '../../resources/html.ditaval'
</code></pre>
<h1><a class="header" href="#running-the-dita-command-from-a-docker-image" id="running-the-dita-command-from-a-docker-image">Running the dita command from a Docker image</a></h1>
<p><a href="https://www.docker.com">Docker</a> is a platform used to build, share, and run portable application containers. As of version 3.4, the DITA-OT project provides an official Docker container image that includes everything you need to run the toolkit and publish DITA content from a containerized environment.</p>
<h2><a class="header" href="#about-application-containers" id="about-application-containers">About application containers</a></h2>
<p>Using containers to deploy applications isolates software from its environment to ensure that it works consistently despite any differences in the host operating system, for example.</p>
<p>Docker containers are designed as stateless machines that can be quickly created and destroyed, started and stopped. Each Docker image provides its own private filesystem that includes only the code required to run the application itself — it is not intended for persistent data storage.</p>
<p>When a container is stopped, any changes made within the container are lost, so source files and generated output should be stored outside the container. These resources are attached to the container by mounting directories from the host machine.</p>
<p>To run the DITA-OT image, you will need to install Docker and log in to the GitHub Package Registry.</p>
<ul>
<li>To download Docker Desktop, you may be prompted to sign in with your Docker ID (or sign up to create one).</li>
<li>To retrieve docker images from the GitHub Package Registry, you will also need a GitHub account.</li>
</ul>
<ol>
<li>
<p>Install Docker for your operating system.</p>
<ul>
<li>
<p><a href="https://docs.docker.com/docker-for-windows/install/">Install Docker Desktop on Windows</a></p>
</li>
<li>
<p><a href="https://docs.docker.com/docker-for-mac/install">Install Docker Desktop on Mac</a></p>
</li>
<li>
<p>On macOS, you can also install Docker Desktop via <a href="https://brew.sh">Homebrew</a>:</p>
<pre><code class="language-syntax-bash">$ brew cask install docker
Downloading…
</code></pre>
</li>
<li>
<p>On Linux, install Docker Community Edition (CE) via your operating system’s package manager, for example:</p>
<pre><code class="language-syntax-bash">$ sudo apt-get install docker-ce
</code></pre>
</li>
</ul>
</li>
<li>
<p>Log in to the GitHub Package Registry.</p>
<ol>
<li>
<p>In your <a href="https://github.com/settings/tokens">GitHub profile settings</a>, create a new personal access token with the <code>read:packages</code> and <code>repo</code> scopes.</p>
<p>For more information, see <a href="https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line">Creating a personal access token for the command line</a>.</p>
</li>
<li>
<p>On the command line, run the docker command to log in with your GitHub credentials.</p>
<pre><code class="language-syntax-bash">docker login docker.pkg.github.com -u USERNAME -p PASSWORD/TOKEN
</code></pre>
<p>For more information, see <a href="https://help.github.com/en/articles/configuring-docker-for-use-with-github-package-registry#authenticating-to-github-package-registry">Authenticating to GitHub Package Registry</a>.</p>
</li>
</ol>
</li>
<li>
<p>To build output, map a host directory to a container volume and specify options for the dita command.</p>
<pre><code class="language-syntax-bash">$ docker run -it \
  -v /Users/username/source:/src docker.pkg.github.com/dita-ot/dita-ot/dita-ot:3.6 \
  -i /src/input.ditamap \
  -o /src/out \
  -f html5 -v
</code></pre>
<p>This command sequence specifies the following options:</p>
<ul>
<li>-v mounts the source subfolder of your home directory and binds it to the /src volume in the container</li>
<li>-i specifies the input.ditamap file in your source folder as the input map file</li>
<li>-o writes the output to source/out</li>
<li>-f sets the output format to HTML5, and</li>
<li>-v displays build progress messages with verbose logging
On Windows, if your Users directory is on the C:\ drive, use /c/Users/… to map the host directory:</li>
</ul>
<pre><code>&gt; C:\Users\username&gt; docker run -it ^
  -v /c/Users/username/source:/src docker.pkg.github.com/dita-ot/dita-ot/dita-ot:3.6 ^
  -i /src/input.ditamap ^
  -o /src/out ^
  -f html5 -v
</code></pre>
<p><strong>Note:</strong> The DITA-OT container image uses the <code>ENTRYPOINT</code> instruction to run the dita command from the /opt/app/bin/ directory of the container automatically, so you there’s no need to include the dita command itself, only the arguments and options you need to publish your content.</p>
</li>
</ol>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2016/dita-ot_day.html#Using_the_Open_Toolkit_Through_Docker_Containers">Using the Open Toolkit Through Docker Containers</a></p>
<h1><a class="header" href="#installing-plug-ins-in-a-docker-image" id="installing-plug-ins-in-a-docker-image">Installing plug-ins in a Docker image</a></h1>
<p>To install custom plug-ins or make other changes based on the DITA-OT parent image, you can create your own Dockerfile and specify the official DITA-OT image as the basis for your image.</p>
<p>Each subsequent declaration in the Dockerfile modifies this parent image, so you can start with the official image, and add custom plug-ins or other commands as required to create a custom Docker image that includes everything you need to publish your content.</p>
<ol>
<li>
<p>Create a new Dockerfile and specify the official DITA-OT image in the FROM directive.</p>
<pre><code># Use the latest official DITA-OT image as parent:   ↓
FROM docker.pkg.github.com/dita-ot/dita-ot/dita-ot:3.6
</code></pre>
</li>
<li>
<p>You can extend your image with a <code>RUN</code> declaration that runs the dita command from the container to install a custom plug-in, and specify the filename or URL of the plug-in’s distribution ZIP file.</p>
<pre><code># Install a custom plug-in from a remote location:
RUN dita --install https://github.com/infotexture/dita-bootstrap/archive/3.4.1.zip
</code></pre>
</li>
<li>
<p>You can also install custom plug-ins from the main DITA-OT plug-in registry at <a href="https://www.dita-ot.org/plugins">dita-ot.org/plugins</a>, or from your company plug-in registry.</p>
<pre><code># Install from the registry at dita-ot.org/plugins:
RUN dita --install org.dita-community.pdf-page-break
</code></pre>
</li>
</ol>
<p>The docsrc/samples folder in the DITA-OT installation directory contains a complete example:</p>
<pre><code># Use the latest official DITA-OT image as parent:   ↓
FROM docker.pkg.github.com/dita-ot/dita-ot/dita-ot:3.6

# Install a custom plug-in from a remote location:
RUN dita --install https://github.com/infotexture/dita-bootstrap/archive/3.4.1.zip

# Install from the registry at dita-ot.org/plugins:
RUN dita --install org.dita-community.pdf-page-break
</code></pre>
<h2><a class="header" href="#building-a-new-image" id="building-a-new-image">Building a new image</a></h2>
<p>You can build a Docker image from this example by running the following command from the dita-ot-dir/docsrc/samples directory:</p>
<pre><code class="language-syntax-bash">$ docker image build -t sample-docker-image:1.0 .
Sending build context to Docker daemon  2.048kB
Step 1/3 : FROM docker.pkg.github.com/dita-ot/dita-ot/dita-ot:3.6
 ---&gt; 9abb96827538
Step 2/3 : RUN dita --install https://github.com/infotexture/dita-bootstrap/archive/3.4.1.zip
 ---&gt; Running in d510f874cae0
Added net.infotexture.dita-bootstrap
Removing intermediate container d510f874cae0
 ---&gt; 63deb8e15b5b
Step 3/3 : RUN dita --install org.dita-community.pdf-page-break
 ---&gt; Running in b4ef2fcad916
Added org.dita-community.pdf-page-break
Removing intermediate container b4ef2fcad916
 ---&gt; 402885636b7f
Successfully built 402885636b7f
Successfully tagged sample-docker-image:1.0

</code></pre>
<p>Docker steps through each instruction in the Dockerfile to build the sample image. In this case, the dita command provides feedback on each installed plug-in.</p>
<h2><a class="header" href="#running-the-new-container" id="running-the-new-container">Running the new container</a></h2>
<p>You can then start a container based on your new image:</p>
<pre><code class="language-syntax-bash">$ docker container run -it \
  -v /path/to/dita-ot-dir/docsrc:/src sample-docker-image:1.0 \
  -i /src/userguide.ditamap \
  -o /src/out/dita-bootstrap \
  -f html5-bootstrap -v
</code></pre>
<p>This command sequence specifies the following options:</p>
<ul>
<li>-v mounts the docsrc subfolder of the DITA-OT directory on your host machine and binds it to the /src volume in the container</li>
<li>-i specifies dita-ot-dir/docsrc/userguide.ditamap as the input map file</li>
<li>-o writes the output to dita-ot-dir/docsrc/out/dita-bootstrap</li>
<li>-f sets the output format to the Bootstrap template, and</li>
<li>-v displays build progress messages with verbose logging</li>
</ul>
<p>When the build is finished, you should find a copy of the DITA-OT documentation under dita-ot-dir/docsrc/out/dita-bootstrap, styled with the basic Bootstrap template from the custom plug-in.</p>
<h1><a class="header" href="#building-output-using-ant" id="building-output-using-ant">Building output using Ant</a></h1>
<p>You can use Ant to invoke DITA Open Toolkit and generate output. You can use the complete set of parameters that the toolkit supports.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/migrating-ant-to-dita.html">Migrating Ant builds to use the dita command</a></p>
<h1><a class="header" href="#ant" id="ant">Ant</a></h1>
<p>Ant is a Java-based, open-source tool that is provided by the Apache Foundation. It can be used to declare a sequence of build actions. It is well suited for both development and document builds. The toolkit ships with a copy of Ant.</p>
<p>DITA-OT uses Ant to manage the XSLT scripts that are used to perform the various transformation; it also uses Ant to manage intermediate steps that are written in Java.</p>
<p>The most important Ant script is the build.xml file. This script defines and combines common pre-processing and output transformation routines; it also defines the DITA-OT extension points.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/migrating-ant-to-dita.html">Migrating Ant builds to use the dita command</a></p>
<p><a href="topics/../topics/building-with-ant.html">Building output using Ant</a></p>
<p><a href="topics/../topics/creating-an-ant-build-script.html">Creating an Ant build script</a></p>
<p><a href="topics/../parameters/parameters_intro.html">DITA-OT parameters</a></p>
<p><a href="http://ant.apache.org/manual">Apache Ant documentation</a></p>
<h1><a class="header" href="#building-output-using-ant-1" id="building-output-using-ant-1">Building output using Ant</a></h1>
<p>You can build output by using an Ant build script to provide the DITA-OT parameters.</p>
<ol>
<li>
<p>Open a command prompt or terminal session.</p>
</li>
<li>
<p>Issue the following command:</p>
<pre><code>|**Linux or macOS **|bin/ant -f `build-script target`|
</code></pre>
<p>|<strong>Windows</strong>|bin\ant -f <code>build-script target</code>|</p>
<p>where:</p>
<ul>
<li>
<p>build-script is name of the Ant build script.</p>
</li>
<li>
<p>target is an optional switch that specifies the name of the Ant target that you want to run.</p>
<p>If you do not specify a target, the value of the <code>@default</code> attribute for the Ant project is used.</p>
</li>
</ul>
</li>
</ol>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/creating-an-ant-build-script.html">Creating an Ant build script</a></p>
<p><a href="topics/../topics/migrating-ant-to-dita.html">Migrating Ant builds to use the dita command</a></p>
<p><a href="topics/../topics/ant.html">Ant</a></p>
<p><a href="topics/../parameters/parameters_intro.html">DITA-OT parameters</a></p>
<p><a href="http://ant.apache.org/manual">Apache Ant documentation</a></p>
<h1><a class="header" href="#creating-an-ant-build-script" id="creating-an-ant-build-script">Creating an Ant build script</a></h1>
<p>Instead of typing the DITA-OT parameters at the command prompt, you might want to create an Ant build script that contains all of the parameters.</p>
<ol>
<li>
<p>Create an XML file that contains the following content:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;project name=&quot;%project-name%&quot; default=&quot;%default-target%&quot; basedir=&quot;.&quot;&gt;

  &lt;property name=&quot;dita.dir&quot; location=&quot;%path-to-DITA-OT%&quot;/&gt;

  &lt;target name=&quot;%target-name%&quot;&gt;
    &lt;ant antfile=&quot;${dita.dir}/build.xml&quot;&gt;
      &lt;property name=&quot;args.input&quot; value=&quot;%DITA-input%&quot;/&gt;
      &lt;property name=&quot;transtype&quot; value=&quot;html5&quot;/&gt;
    &lt;/ant&gt;
  &lt;/target&gt;

&lt;/project&gt;
</code></pre>
<p>You will replace the placeholder content (indicated by the % signs) with content applicable to your environment.</p>
</li>
<li>
<p>Specify project information:</p>
<ol>
<li>
<p>Set the value of the <code>@name</code> attribute to the name of your project.</p>
</li>
<li>
<p>Set the value of the <code>@default</code> attribute to the name of a target in the build script.</p>
<p>If the build script is invoked without specifying a target, this target will be run.</p>
</li>
</ol>
</li>
<li>
<p>Set the value of the dita.dir property to the location of the DITA-OT installation.</p>
<p>This can be a fully qualified path, or you can specify it relative to the location of the Ant build script that you are writing.</p>
</li>
<li>
<p>Create the Ant target:</p>
<ol>
<li>
<p>Set the value of the <code>@name</code> attribute.</p>
</li>
<li>
<p>Specify the value for the args.input property.</p>
</li>
<li>
<p>Specify the value of the transtype property.</p>
</li>
</ol>
</li>
<li>
<p>Save the build script.</p>
</li>
</ol>
<p>The following Ant build script generates CHM and PDF output for the sample DITA maps.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project name=&quot;build-chm-pdf&quot; default=&quot;all&quot; basedir=&quot;.&quot;&gt;
  &lt;property name=&quot;dita.dir&quot; location=&quot;${basedir}/../../..&quot;/&gt;
  &lt;target name=&quot;all&quot; description=&quot;build CHM and PDF&quot; depends=&quot;chm,pdf&quot;/&gt;
  &lt;target name=&quot;chm&quot; description=&quot;build CHM&quot;&gt;
    &lt;ant antfile=&quot;${dita.dir}/build.xml&quot;&gt;
      &lt;property name=&quot;args.input&quot; location=&quot;../sequence.ditamap&quot;/&gt;
      &lt;property name=&quot;transtype&quot; value=&quot;htmlhelp&quot;/&gt;
      &lt;property name=&quot;output.dir&quot; location=&quot;../out/chm&quot;/&gt;
      &lt;property name=&quot;args.gen.task.lbl&quot; value=&quot;YES&quot;/&gt;
    &lt;/ant&gt;
  &lt;/target&gt;
  &lt;target name=&quot;pdf&quot; description=&quot;build PDF&quot;&gt;
    &lt;ant antfile=&quot;${dita.dir}/build.xml&quot;&gt;
      &lt;property name=&quot;args.input&quot; location=&quot;../taskbook.ditamap&quot;/&gt;
      &lt;property name=&quot;transtype&quot; value=&quot;pdf&quot;/&gt;
      &lt;property name=&quot;output.dir&quot; location=&quot;../out/pdf&quot;/&gt;
      &lt;property name=&quot;args.gen.task.lbl&quot; value=&quot;YES&quot;/&gt;
      &lt;property name=&quot;args.rellinks&quot; value=&quot;nofamily&quot;/&gt;
    &lt;/ant&gt;
  &lt;/target&gt;
&lt;/project&gt;
</code></pre>
<p>In addition to the mandatory parameters (args.input and transtype), the chm and pdf targets each specify some optional parameters:</p>
<ul>
<li>The args.gen.task.lbl property is set to YES, which ensures that headings are automatically generated for the sections of task topics.</li>
<li>The output.dir property specifies where DITA-OT writes the output of the transformations.</li>
</ul>
<p>The pdf target also specifies that related links should be generated in the PDF, but only those links that are created by relationship tables and <code>link</code> elements.</p>
<p>Finally, the all target simply specifies that both the chm and pdf target should be run.</p>
<p>Another resource for learning about Ant scripts are the files in the dita-ot-dir/docsrc/samples/ant_sample/ directory. This directory contains sample Ant build files for common output formats, as well as templates that you can use to create your own Ant scripts.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/building-with-ant.html">Building output using Ant</a></p>
<p><a href="topics/../topics/migrating-ant-to-dita.html">Migrating Ant builds to use the dita command</a></p>
<p><a href="topics/../topics/ant.html">Ant</a></p>
<p><a href="topics/../parameters/parameters_intro.html">DITA-OT parameters</a></p>
<p><a href="http://ant.apache.org/manual">Apache Ant documentation</a></p>
<h1><a class="header" href="#using-the-java-api" id="using-the-java-api">Using the Java API</a></h1>
<p>DITA Open Toolkit includes a Java Application Programming Interface to allow developers to embed the toolkit more easily into other Java programs.</p>
<p>When using the API, programmers don’t need to know or care that DITA-OT uses Ant, they can just use Java.</p>
<p><strong>Note:</strong> When running DITA-OT via the dita command, an <code>ant</code> shell script handles the classpath setup, but when using the API the classpath should be set up as part of the normal classpath configuration for the Java application.</p>
<h2><a class="header" href="#example-usage" id="example-usage">Example usage</a></h2>
<pre><code>// Create a reusable processor factory with DITA-OT base directory
ProcessorFactory pf = ProcessorFactory.newInstance(ditaDir);
// and set the temporary directory
pf.setBaseTempDir(tempDir);

// Create a processor using the factory and configure the processor
Processor p = pf.newProcessor(&quot;html5&quot;)
.setInput(mapFile)
.setOutputDir(outDir)
.setProperty(&quot;nav-toc&quot;, &quot;partial&quot;);

// Run conversion
p.run();
</code></pre>
<p>By default, running DITA-OT via the API will write a debug log to the temporary directory. A custom SLF4J logger can also be used to access the log via the Simple Logging Facade for Java.</p>
<p>The processor cleans the temporary directory by default, but this can be disabled to simplify debugging in cases where the processor failed.</p>
<p><strong>Tip:</strong> See the <em>DITA-OT Java API documentation</em> in the doc/api/ folder of the DITA-OT distribution package for information on the packages, classes, interfaces and methods provided by the Java API.</p>
<h2><a class="header" href="#downloading-dita-ot-from-maven-central" id="downloading-dita-ot-from-maven-central">Downloading DITA-OT from Maven Central</a></h2>
<p>As of version 2.5, the DITA Open Toolkit base library (dost.jar) is available via the Maven 2 Central Repository. You can use this mechanism to download the main JAR file and include it in the build for other Java projects.</p>
<p>To locate the latest version, <a href="https://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.dita-ot%22">search for the <code>org.dita-ot</code> group ID</a>.</p>
<p><strong>Important:</strong> The dost.jar file provides only the DITA Open Toolkit base library. It does <strong>not</strong> contain the full DITA-OT distribution and cannot be used to run DITA-OT by itself. You will need to ensure that your build installs the other files and directories required for the toolkit along with the dependencies for your project.</p>
<p><strong>Related information</strong></p>
<p><a href="reference/../api/index.html">DITA-OT Java API documentation</a></p>
<h1><a class="header" href="#authoring-formats" id="authoring-formats">Authoring formats</a></h1>
<p>In addition to standard DITA XML, DITA-OT supports several alternative input formats, including Markdown and the proposed XDITA, MDITA and HDITA authoring formats currently in development for Lightweight DITA.</p>
<h1><a class="header" href="#standard-dita-xml" id="standard-dita-xml">Standard DITA XML</a></h1>
<p>DITA Open Toolkit supports all released versions of the OASIS DITA specification, including 1.0, 1.1, 1.2, and 1.3. As of release 3.6, DITA-OT also provides an initial preview of features for the latest draft of the upcoming DITA 2.0 standard.</p>
<p>The DITA specification “defines a set of document types for authoring and organizing topic-oriented information, as well as a set of mechanisms for combining, extending, and constraining document types.” The <a href="http://docs.oasis-open.org/dita/dita/v1.3/dita-v1.3-part0-overview.html">DITA 1.3 specification</a> is the authoritative source of information on authoring DITA content in XML.</p>
<p><strong>Tip:</strong> For details on how DITA Open Toolkit processes DITA XML content, see <a href="topics/../reference/dita-spec-support.html">DITA specification support</a>.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/markdown-input.html">Markdown content</a></p>
<p><a href="topics/../topics/lwdita-input.html">Preview support for Lightweight DITA</a></p>
<p><a href="topics/../topics/markdown-dita-syntax-reference.html">Markdown DITA syntax reference</a></p>
<h1><a class="header" href="#markdown-content" id="markdown-content">Markdown content</a></h1>
<p><a href="https://daringfireball.net/projects/markdown/">Markdown</a> is a lightweight markup language that allows you to write using an easy-to-read plain text format and convert to structurally valid markup as necessary.</p>
<p>In the words of its creators:</p>
<blockquote>
<p>“The overriding design goal for Markdown’s formatting syntax is to make it as readable as possible. The idea is that a Markdown-formatted document should be publishable as-is, as plain text, without looking like it’s been marked up with tags or formatting instructions.”</p>
</blockquote>
<p>DITA Open Toolkit now allows you to use Markdown files directly in topic references and export DITA content as Markdown.</p>
<p>These features enable lightweight authoring scenarios that allow subject matter experts to contribute to DITA publications without writing in XML, and support publishing workflows that include DITA content in Markdown-based publishing systems.</p>
<h2><a class="header" href="#adding-markdown-topics" id="adding-markdown-topics">Adding Markdown topics</a></h2>
<p>To add a Markdown topic to a DITA publication, create a topic reference in your map and set the <code>@format</code> attribute to <code>markdown</code> so the toolkit will recognize the source file as Markdown and convert it to DITA:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;!DOCTYPE map PUBLIC &quot;-//OASIS//DTD DITA Map//EN&quot; &quot;map.dtd&quot;&gt;
&lt;map&gt;
  &lt;topicref href=&quot;markdown-dita-topic.md&quot; **format=&quot;markdown&quot;**/&gt;
&lt;/map&gt;
</code></pre>
<p>The <code>markdown</code> format uses a relatively lenient document parsing approach to support a wide range of content and Markdown syntax constructs.</p>
<p><strong>Note:</strong> The Markdown support is based on <a href="http://commonmark.org">CommonMark</a>, a strongly defined, highly compatible specification of Markdown.</p>
<p>When you add Markdown topics to a DITA publication as described above, the content is temporarily converted to DITA in the background when generating other output formats like HTML or PDF, but the Markdown source files remain unchanged.</p>
<p><strong>Tip:</strong> This approach is recommended in cases where simple content is authored collaboratively over multiple versions, as Markdown topics can be edited by a wide range of authors and combined as necessary with more complex content maintained in DITA XML.</p>
<h2><a class="header" href="#converting-markdown-to-dita" id="converting-markdown-to-dita">Converting Markdown to DITA</a></h2>
<p>In cases where the Markdown input is a one-off contribution, members of the DITA authoring team can use the Markdown file as raw material that is easily converted to DITA and enriched with conditional processing attributes, conkeyrefs or other more complex semantics that have no equivalent in limited formats like Markdown.</p>
<p>If you prefer to maintain this content in DITA in the future, you can generate DITA output by passing the --format=dita option on the command line.</p>
<p>This converts all input files (both DITA XML and Markdown) to <a href="topics/dita2dita.html">Normalized DITA</a>. You can then copy the generated DITA files from the output folder to your project and replace references to the Markdown topics with their DITA equivalents.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/dita-xml-input.html">Standard DITA XML</a></p>
<p><a href="topics/../topics/lwdita-input.html">Preview support for Lightweight DITA</a></p>
<p><a href="topics/../topics/markdown-dita-syntax-reference.html">Markdown DITA syntax reference</a></p>
<p><a href="https://www.oxygenxml.com/events/2015/dita-ot_day.html#Markdown_plugin">Markdown plugin</a></p>
<h1><a class="header" href="#preview-support-for-lightweight-dita" id="preview-support-for-lightweight-dita">Preview support for Lightweight DITA</a></h1>
<p>DITA-OT provides preview support for the authoring formats proposed for <a href="http://docs.oasis-open.org/dita/LwDITA/v1.0/cn01/LwDITA-v1.0-cn01.pdf">Lightweight DITA</a>, or “LwDITA”. The XDITA, MDITA and HDITA formats are alternative representations of DITA content in XML, Markdown and HTML5.</p>
<p><strong>Attention:</strong> Since <a href="http://docs.oasis-open.org/dita/LwDITA/v1.0/cn01/LwDITA-v1.0-cn01.pdf">Lightweight DITA</a> has not yet been released as a formal specification, the implementation for XDITA, MDITA and HDITA authoring formats is subject to change. Future versions of DITA Open Toolkit will be updated as LwDITA evolves.</p>
<h2><a class="header" href="#xdita" id="xdita">XDITA</a></h2>
<p>XDITA is the LwDITA authoring format that uses XML to structure information. XDITA is a subset of DITA, with new multimedia element types added to support interoperability with HTML5. XDITA is designed for users who want to write DITA content but who do not want (or need) the full power of DITA.</p>
<p>The XDITA parser included in the <code>org.lwdita</code> plug-in provides preliminary support for XDITA maps and XDITA topics.</p>
<p>To apply XDITA-specific processing to topics in an XDITA map or a full DITA 1.3 map, set the <code>@format</code> attribute on a <code>topicref</code> to <code>xdita</code>:</p>
<pre><code>&lt;map&gt;
  &lt;topicref href=&quot;xdita-topic.xml&quot; **format=&quot;xdita&quot;**/&gt;
&lt;/map&gt;
</code></pre>
<p><strong>Tip:</strong> For examples of cross-format content sharing between topics in XDITA, HDITA, extended-profile MDITA, and DITA 1.3, see the LwDITA sample files in the DITA-OT installation directory under plugins/org.oasis-open.xdita.v0_2_2/samples.</p>
<h2><a class="header" href="#mdita" id="mdita">MDITA</a></h2>
<p>MDITA is the LwDITA authoring format based on Markdown. It is designed for users who want to write structured content with the minimum of overhead, but who also want to take advantage of the reuse mechanisms associated with the DITA standard and the multi-channel publishing afforded by standard DITA tooling.</p>
<p>Recent proposals for LwDITA include two profiles for authoring MDITA topics:</p>
<ul>
<li>The “Core profile” is based on <a href="https://github.github.com/gfm/">GitHub-Flavored Markdown</a> and includes elements that are common to many other Markdown implementations.</li>
<li>The “Extended profile” borrows additional features from other flavors of Markdown to represent a broader range of DITA content with existing plain-text syntax conventions.</li>
</ul>
<p>The Markdown DITA parser included in the <code>org.lwdita</code> plug-in provides preliminary support for these profiles and additional Markdown constructs as described in the syntax reference.</p>
<p>To apply LwDITA-specific processing to Markdown topics, set the <code>@format</code> attribute to <code>mdita</code>:</p>
<pre><code>&lt;map&gt;
  &lt;topicref href=&quot;mdita-topic.md&quot; **format=&quot;mdita&quot;**/&gt;
&lt;/map&gt;
</code></pre>
<p>In this case, the first paragraph in the topic will be treated as a short description, for example, and additional metadata can be specified for the topic via a YAML front matter block.</p>
<p><strong>Note:</strong> Setting the <code>@format</code> attribute to <code>mdita</code> triggers stricter parsing than the more lenient document parsing approach that is applied to <code>markdown</code> documents.</p>
<p><strong>Attention:</strong> The MDITA map format is not yet supported. To include Markdown content in publications, use an XDITA map or a DITA 1.3 map.</p>
<h2><a class="header" href="#hdita" id="hdita">HDITA</a></h2>
<p>HDITA is the LwDITA authoring format based on HTML5, which is intended to support structured content authoring with tools designed for HTML authoring. HDITA also uses custom data attributes to provide interoperability with DITA.</p>
<p>The HDITA parser included in the <code>org.lwdita</code> plug-in provides preliminary support for these constructs.</p>
<p>To apply LwDITA-specific processing to HTML topics, set the <code>@format</code> attribute to <code>hdita</code>:</p>
<pre><code>&lt;map&gt;
  &lt;topicref href=&quot;hdita-topic.html&quot; **format=&quot;hdita&quot;**/&gt;
&lt;/map&gt;
</code></pre>
<p><strong>Attention:</strong> The HDITA map format is not yet supported. To include HDITA content, use an XDITA map or a DITA 1.3 map.</p>
<h2><a class="header" href="#converting-lightweight-formats-to-dita-xml" id="converting-lightweight-formats-to-dita-xml">Converting lightweight formats to DITA XML</a></h2>
<p>When you add LwDITA topics to a DITA publication, the content is temporarily converted to DITA in the background when generating other output formats like HTML or PDF, but the source files remain unchanged.</p>
<p>If you prefer to maintain this content in DITA in the future, you can generate DITA output by passing the --format=dita option on the command line.</p>
<p>This converts all input files (both LwDITA formats and DITA XML) to <a href="topics/dita2dita.html">Normalized DITA</a>. You can then copy the generated DITA files from the output folder to your project and replace references to the lightweight topics with their DITA equivalents.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/dita-xml-input.html">Standard DITA XML</a></p>
<p><a href="topics/../topics/markdown-input.html">Markdown content</a></p>
<p><a href="topics/../topics/markdown-dita-syntax-reference.html">Markdown DITA syntax reference</a></p>
<h1><a class="header" href="#markdown-dita-syntax-reference" id="markdown-dita-syntax-reference">Markdown DITA syntax reference</a></h1>
<p>Markdown DITA uses <a href="http://commonmark.org">CommonMark</a> as the underlying markup language.</p>
<p>Markdown DITA files must be UTF-8 encoded.</p>
<h2><a class="header" href="#titles-and-document-structure" id="titles-and-document-structure">Titles and document structure</a></h2>
<p>Each header level will generate a topic and associated title:</p>
<pre><code># Topic title

## Nested topic title
</code></pre>
<pre><code>&lt;topic id=&quot;topic_title&quot;&gt;
  &lt;title&gt;Topic title&lt;/title&gt;
  &lt;topic id=&quot;nested_topic_title&quot;&gt;
    &lt;title&gt;Nested topic title&lt;/title&gt;
  &lt;/topic&gt;
&lt;/topic&gt;
</code></pre>
<p>Pandoc <a href="http://pandoc.org/MANUAL.html#extension-header_attributes">header_attributes</a> can be used to define <code>id</code> or <code>outputclass</code> attributes:</p>
<pre><code># Topic title {#carrot .juice}
</code></pre>
<pre><code>&lt;topic id=&quot;carrot&quot; outputclass=&quot;juice&quot;&gt;
  &lt;title&gt;Topic title&lt;/title&gt;
</code></pre>
<p>If topic ID is not defined using header_attributes, the ID is generated from title contents.</p>
<p>Pandoc <a href="http://pandoc.org/MANUAL.html#extension-pandoc_title_block">pandoc_title_block</a> extension can be used to group multiple level 1 headers under a common title:</p>
<pre><code>% Common title

# Topic title

# Second title
</code></pre>
<pre><code>&lt;topic id=&quot;common_title&quot;&gt;
  &lt;title&gt;Common title&lt;/title&gt;
  &lt;topic id=&quot;topic_title&quot;&gt;
    &lt;title&gt;Topic title&lt;/title&gt;
  &lt;/topic&gt;
  &lt;topic id=&quot;second_title&quot;&gt;
    &lt;title&gt;Second title&lt;/title&gt;
  &lt;/topic&gt;
&lt;/topic&gt;
</code></pre>
<h2><a class="header" href="#topic-content" id="topic-content">Topic content</a></h2>
<p>In LwDITA compatible documents (MDITA) the first paragraph is treated as a <code>shortdesc</code> element. In generic Markdown documents all paragraphs appear inside the <code>body</code> element.</p>
<h2><a class="header" href="#specialization-types" id="specialization-types">Specialization types</a></h2>
<p>The following class values in <a href="http://pandoc.org/MANUAL.html#extension-header_attributes">header_attributes</a> have a special meaning on level 1 headers:</p>
<ul>
<li><code>concept</code></li>
<li><code>task</code></li>
<li><code>reference</code></li>
</ul>
<p>They can be used to change the Markdown DITA topic type to one of the built-in structural specialization types.</p>
<pre><code># Task {.task}

Context

1.  Command

    Info.
</code></pre>
<pre><code>&lt;task id=&quot;task&quot;&gt;
  &lt;title&gt;Task &lt;/title&gt;
  &lt;taskbody&gt;
    &lt;context&gt;
      &lt;p&gt;Context&lt;/p&gt;
    &lt;/context&gt;
    &lt;steps&gt;
      &lt;step&gt;
        &lt;cmd&gt;Command&lt;/cmd&gt;
        &lt;info&gt;
          &lt;p&gt;Info.&lt;/p&gt;
        &lt;/info&gt;
      &lt;/step&gt;
    &lt;/steps&gt;
  &lt;/taskbody&gt;
&lt;/task&gt;
</code></pre>
<h2><a class="header" href="#sections" id="sections">Sections</a></h2>
<p>The following class values in <a href="http://pandoc.org/MANUAL.html#extension-header_attributes">header_attributes</a> have a special meaning on header levels other than 1:</p>
<ul>
<li><code>section</code></li>
<li><code>example</code></li>
</ul>
<p>They are used to generate <a href="http://docs.oasis-open.org/dita/v1.2/os/spec/langref/section.html"><code>section</code></a> and <a href="http://docs.oasis-open.org/dita/v1.2/os/spec/langref/example.html"><code>example</code></a> elements:</p>
<pre><code># Topic title

## Section title {.section}

## Example title {.example}
</code></pre>
<pre><code>&lt;topic id=&quot;topic_title&quot;&gt;
  &lt;title&gt;Topic title&lt;/title&gt;
  &lt;body&gt;
    &lt;section&gt;
      &lt;title&gt;Section title&lt;/title&gt;
    &lt;/section&gt;
    &lt;example&gt;
      &lt;title&gt;Example title&lt;/title&gt;
    &lt;/example&gt;
  &lt;/body&gt;
&lt;/topic&gt;
</code></pre>
<h2><a class="header" href="#hard-line-breaks" id="hard-line-breaks">Hard line breaks</a></h2>
<p>A line break that is preceded by two or more spaces is parsed as a hard line break. Because DITA doesn't have a <code>&lt;br&gt;</code> element for line break, hard line breaks are converted into <code>linebreak</code> processing instructions.</p>
<pre><code>foo··
baz
</code></pre>
<pre><code>&lt;p&gt;foo&lt;?linebreak?&gt;baz&lt;/p&gt;
</code></pre>
<h2><a class="header" href="#links" id="links">Links</a></h2>
<p>The format of local link targets is detected based on file extension. The following extensions are treated as DITA files:</p>
<table><thead><tr><th>extension</th><th>format</th></tr></thead><tbody>
<tr><td><code>.dita</code></td><td><code>dita</code></td></tr>
<tr><td><code>.xml</code></td><td><code>dita</code></td></tr>
<tr><td><code>.md</code></td><td><code>markdown</code></td></tr>
<tr><td><code>.markdown</code></td><td><code>markdown</code></td></tr>
</tbody></table>
<p>All other link targets use <code>format</code> from file extension and are treated as non-DITA files. Absolute links targets are treated as external scope links:</p>
<pre><code>[Markdown](test.md)
[DITA](test.dita)
[HTML](test.html)
[External](http://www.example.com/test.html)
</code></pre>
<pre><code>&lt;xref href=&quot;test.md&quot;&gt;Markdown&lt;/xref&gt;
&lt;xref href=&quot;test.dita&quot;&gt;DITA&lt;/xref&gt;
&lt;xref href=&quot;test.html&quot; format=&quot;html&quot;&gt;HTML&lt;/xref&gt;
&lt;xref href=&quot;http://www.example.com/test.html&quot; format=&quot;html&quot; scope=&quot;external&quot;&gt;External&lt;/xref&gt;
</code></pre>
<h2><a class="header" href="#images" id="images">Images</a></h2>
<p>Images used in inline content will result in inline placement. If a block level image contains a title, it will be treated as an image wrapped in figure:</p>
<pre><code>An inline ![Alt](test.jpg).

![Alt](test.jpg)

![Alt](test.jpg &quot;Title&quot;)
</code></pre>
<pre><code>&lt;p&gt;An inline &lt;image href=&quot;test.jpg&quot;&gt;&lt;alt&gt;Alt&lt;/alt&gt;&lt;/image&gt;.&lt;/p&gt;
&lt;image href=&quot;test.jpg&quot; placement=&quot;break&quot;&gt;
  &lt;alt&gt;Alt&lt;/alt&gt;
&lt;/image&gt;
&lt;fig&gt;
  &lt;title&gt;Title&lt;/title&gt;
  &lt;image href=&quot;test.jpg&quot;&gt;
    &lt;alt&gt;Alt&lt;/alt&gt;
  &lt;/image&gt;
&lt;/fig&gt;
</code></pre>
<h2><a class="header" href="#key-references" id="key-references">Key references</a></h2>
<p>Key reference can be used with <a href="http://spec.commonmark.org/0.18/#shortcut-reference-link">shortcut reference links</a>:</p>
<pre><code>[key]
![image-key]
</code></pre>
<pre><code>&lt;xref keyref=&quot;key&quot;/&gt;
&lt;image keyref=&quot;image-key&quot;/&gt;
</code></pre>
<h2><a class="header" href="#inline" id="inline">Inline</a></h2>
<p>The following inline elements are supported:</p>
<pre><code>**bold**
*italic*
`code`
~~strikethrough~~
</code></pre>
<pre><code>&lt;b&gt;bold&lt;/b&gt;
&lt;i&gt;italic&lt;/i&gt;
&lt;codeph&gt;code&lt;/codeph&gt;
&lt;ph status=&quot;deleted&quot;&gt;strikethrough&lt;/ph&gt;
</code></pre>
<h2><a class="header" href="#lists" id="lists">Lists</a></h2>
<p>Unordered can be marked up with either hyphen or asterisk:</p>
<pre><code>*   one
*   two
    -   three
    -   four
</code></pre>
<pre><code>&lt;ul&gt;
  &lt;li&gt;one&lt;/li&gt;
  &lt;li&gt;two
    &lt;ul&gt;
      &lt;li&gt;three&lt;/li&gt;
      &lt;li&gt;four&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p>Ordered can be marked up with either number or number sign, followed by a period:</p>
<pre><code>1.  one
2.  two
    #.  three
    #.  four
</code></pre>
<pre><code>&lt;ol&gt;
  &lt;li&gt;one&lt;/li&gt;
  &lt;li&gt;two
    &lt;ol&gt;
      &lt;li&gt;three&lt;/li&gt;
      &lt;li&gt;four&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p>Definition lists use the <a href="http://michelf.com/projects/php-markdown/extra/#def-list">PHP Markdown Extra</a> format:</p>
<pre><code>Term
:   Definition.
</code></pre>
<pre><code>&lt;dl&gt;
  &lt;delentry&gt;
    &lt;dt&gt;Term&lt;/dt&gt;
    &lt;dd&gt;Defintion.&lt;/dd&gt;
  &lt;/delentry&gt;
&lt;/dl&gt;
</code></pre>
<p>Each definition entry must have only one term and contain only inline content.</p>
<h2><a class="header" href="#tables" id="tables">Tables</a></h2>
<p>Tables use <a href="http://fletcherpenney.net/multimarkdown/">MultiMarkdown</a> table extension format:</p>
<pre><code>| First Header | Second Header | Third Header |
| ------------ | :-----------: | -----------: |
| Content      | *Long Cell*                 ||
| Content      | **Cell**      | Cell         |
</code></pre>
<pre><code>&lt;table&gt;
  &lt;tgroup cols=&quot;3&quot;&gt;
    &lt;colspec colname=&quot;col1&quot;/&gt;
    &lt;colspec colname=&quot;col2&quot; align=&quot;center&quot;/&gt;
    &lt;colspec colname=&quot;col3&quot; align=&quot;right&quot;/&gt;
    &lt;thead&gt;
      &lt;row&gt;
        &lt;entry&gt;First Header &lt;/entry&gt;
        &lt;entry&gt;Second Header &lt;/entry&gt;
        &lt;entry&gt;Third Header &lt;/entry&gt;
      &lt;/row&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;row&gt;
        &lt;entry&gt;Content &lt;/entry&gt;
        &lt;entry namest=&quot;col2&quot; nameend=&quot;col3&quot;&gt;&lt;i&gt;Long Cell&lt;/i&gt;&lt;/entry&gt;
      &lt;/row&gt;
      &lt;row&gt;
        &lt;entry&gt;Content &lt;/entry&gt;
        &lt;entry&gt;&lt;b&gt;Cell&lt;/b&gt;&lt;/entry&gt;
        &lt;entry&gt;Cell &lt;/entry&gt;
      &lt;/row&gt;
    &lt;/tbody&gt;
  &lt;/tgroup&gt;
&lt;/table&gt;
</code></pre>
<p>Table cells may only contain inline content and column spans; block content and row spans are not supported by Markdown DITA.</p>
<h2><a class="header" href="#metadata" id="metadata">Metadata</a></h2>
<p><a href="http://www.yaml.org/">YAML</a> metadata block as defined in Pandoc <a href="http://pandoc.org/MANUAL.html#extension-yaml_metadata_block">pandoc_metadata_block</a> can be used to specify different metadata elements. The supported elements are:</p>
<ul>
<li><code>author</code></li>
<li><code>source</code></li>
<li><code>publisher</code></li>
<li><code>permissions</code></li>
<li><code>audience</code></li>
<li><code>category</code></li>
<li><code>keyword</code></li>
<li><code>resourceid</code></li>
</ul>
<p>Unrecognized keys are output using <code>data</code> element.</p>
<pre><code>---
author:
  - Author One
  - Author Two
source: Source
publisher: Publisher
permissions: Permissions
audience: Audience
category: Category
keyword:
  - Keyword1
  - Keyword2
resourceid:
  - Resourceid1
  - Resourceid2
workflow: review
---

# Sample with YAML header
</code></pre>
<pre><code>&lt;title&gt;Sample with YAML header&lt;/title&gt;
&lt;prolog&gt;
  &lt;author&gt;Author One&lt;/author&gt;
  &lt;author&gt;Author Two&lt;/author&gt;
  &lt;source&gt;Source&lt;/source&gt;
  &lt;publisher&gt;Publisher&lt;/publisher&gt;
  &lt;permissions view=&quot;Permissions&quot;/&gt;
  &lt;metadata&gt;
    &lt;audience audience=&quot;Audience&quot;/&gt;
    &lt;category&gt;Category&lt;/category&gt;
    &lt;keywords&gt;
      &lt;keyword&gt;Keyword1&lt;/keyword&gt;
      &lt;keyword&gt;Keyword2&lt;/keyword&gt;
    &lt;/keywords&gt;
  &lt;/metadata&gt;
  &lt;resourceid appid=&quot;Resourceid1&quot;/&gt;
  &lt;resourceid appid=&quot;Resourceid2&quot;/&gt;
  &lt;data name=&quot;workflow&quot; value=&quot;review&quot;/&gt;
&lt;/prolog&gt;
</code></pre>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/dita-xml-input.html">Standard DITA XML</a></p>
<p><a href="topics/../topics/markdown-input.html">Markdown content</a></p>
<p><a href="topics/../topics/lwdita-input.html">Preview support for Lightweight DITA</a></p>
<h1><a class="header" href="#dita-ot-transformations-output-formats" id="dita-ot-transformations-output-formats">DITA-OT transformations (output formats)</a></h1>
<p>DITA Open Toolkit ships with several core transformations that convert DITA content to different output formats. Additional formats are available from the plug-in registry at <a href="https://www.dita-ot.org/plugins">dita-ot.org/plugins</a>.</p>
<p><strong>Tip:</strong> For information on how to install other formats, see <a href="topics/adding-plugins.html">Adding and removing plug-ins</a>.</p>
<h1><a class="header" href="#pdf" id="pdf">PDF</a></h1>
<p>The pdf transformation generates output in Portable Document Format.</p>
<p>This transformation was originally created as a plug-in and maintained outside of the main toolkit code. It was created as a more robust alternative to the demo PDF transformation in the original toolkit, and thus was known as PDF2. The plug-in was bundled into the default toolkit distribution with release 1.4.3.</p>
<p>To run the PDF transformation, set the transtype parameter to pdf, or pass the --format=pdf option to the dita command line.</p>
<pre><code>dita --input=input-file --format=pdf
</code></pre>
<p>where:</p>
<ul>
<li>input-file is the DITA map or DITA file that you want to process.</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="topics/../parameters/parameters-base.html">Common parameters</a></p>
<p><a href="topics/../parameters/parameters-pdf.html">PDF parameters</a></p>
<p><a href="topics/../topics/pdf2-creating-change-bars.html">Generating revision bars</a></p>
<h1><a class="header" href="#html5" id="html5">HTML5</a></h1>
<p>The html5 transformation generates HTML5 output and a table of contents (TOC) file.</p>
<p>The HTML5 output is always associated with the default DITA-OT CSS file (commonltr.css or commonrtl.css for right-to-left languages). You can use toolkit parameters to add a custom style sheet that overrides the default styles, or generate a <code>nav</code> element with a navigation TOC in topic pages.</p>
<p>To run the HTML5 transformation, set the transtype parameter to html5, or pass the --format=html5 option to the dita command line.</p>
<pre><code>dita --input=input-file --format=html5
</code></pre>
<p>where:</p>
<ul>
<li>input-file is the DITA map or DITA file that you want to process.</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/html-customization-parameters.html">Setting parameters for custom HTML</a></p>
<p><a href="topics/../parameters/parameters-base.html">Common parameters</a></p>
<p><a href="topics/../parameters/parameters-base-html.html">HTML-based output parameters</a></p>
<p><a href="topics/../parameters/parameters-html5.html">HTML5 parameters</a></p>
<p><a href="topics/../parameters/generate-copy-outer.html">Handling content outside the map directory</a></p>
<h1><a class="header" href="#eclipse-help" id="eclipse-help">Eclipse help</a></h1>
<p>The eclipsehelp transformation generates XHTML output, CSS files, and the control files that are needed for Eclipse help.</p>
<p>In addition to the XHTML output and CSS files, this transformation returns the following files, where mapname is the name of the master DITA map.</p>
<table><thead><tr><th>File name</th><th>Description</th></tr></thead><tbody>
<tr><td>plugin.xml</td><td>Control file for the Eclipse plug-in</td></tr>
<tr><td>mapname.xml</td><td>Table of contents</td></tr>
<tr><td>index.xml</td><td>Index file</td></tr>
<tr><td>plugin.properties</td><td> </td></tr>
<tr><td>META-INF/MANIFEST.MF</td><td> </td></tr>
</tbody></table>
<p>To run the Eclipse help transformation, set the transtype parameter to eclipsehelp, or pass the --format=eclipsehelp option to the dita command line.</p>
<pre><code>dita --input=input-file --format=eclipsehelp
</code></pre>
<p>where:</p>
<ul>
<li>input-file is the DITA map or DITA file that you want to process.</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2014/dita-ot_day.html#Publishing_DITA_content_re-used_in_different_context">Publishing DITA Content Re-Used in Different Context in EPUB and Eclipse Infocenter by Using DITA-OT</a></p>
<p><a href="topics/../parameters/parameters-base.html">Common parameters</a></p>
<p><a href="topics/../parameters/parameters-base-html.html">HTML-based output parameters</a></p>
<p><a href="topics/../parameters/parameters-eclipsehelp.html">Eclipse Help parameters</a></p>
<p><a href="topics/../parameters/generate-copy-outer.html">Handling content outside the map directory</a></p>
<p><a href="http://www.eclipse.org">Official Eclipse website</a></p>
<h1><a class="header" href="#html-help" id="html-help">HTML Help</a></h1>
<p>The htmlhelp transformation generates HTML output, CSS files, and the control files that are needed to produce a Microsoft Compiled HTML Help (.chm) file.</p>
<p>In addition to the HTML output and CSS files, this transformation returns the following files, where mapname is the name of the master DITA map.</p>
<table><thead><tr><th>File name</th><th>Description</th></tr></thead><tbody>
<tr><td>mapname.hhc</td><td>Table of contents</td></tr>
<tr><td>mapname.hhk</td><td>Sorted index</td></tr>
<tr><td>mapname.hhp</td><td>HTML Help project file</td></tr>
<tr><td>mapname.chm</td><td>Compiled HTML Help file</td></tr>
</tbody></table>
<p><strong>Note:</strong> The compiled file is only generated if the HTML Help Workshop is installed on the build system.</p>
<table><thead><tr></tr></thead><tbody>
<tr><td>To run the HTML Help transformation, set the transtype parameter to htmlhelp, or pass the --format=htmlhelp option to the dita command line.</td></tr>
</tbody></table>
<pre><code>dita --input=input-file --format=htmlhelp
</code></pre>
<p>where:</p>
<ul>
<li>input-file is the DITA map or DITA file that you want to process.</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="topics/../parameters/parameters-base.html">Common parameters</a></p>
<p><a href="topics/../parameters/parameters-base-html.html">HTML-based output parameters</a></p>
<p><a href="topics/../parameters/parameters-htmlhelp.html">Microsoft Compiled HTML Help parameters</a></p>
<p><a href="topics/../parameters/generate-copy-outer.html">Handling content outside the map directory</a></p>
<h1><a class="header" href="#markdown" id="markdown">Markdown</a></h1>
<p>Along with Markdown input, DITA-OT now provides three new transformation types to convert DITA content to Markdown, including the original syntax, GitHub-Flavored Markdown, and GitBook.</p>
<p>The new output formats can be used to feed DITA content into Markdown-based publishing systems or other workflows that lack the ability to process DITA XML.</p>
<h2><a class="header" href="#generating-markdown-output" id="generating-markdown-output">Generating Markdown output</a></h2>
<p>Markdown output can be generated by passing one of the following transformation types to the dita command with the --format option:</p>
<ul>
<li>
<p>To publish Markdown DITA files, use the markdown transtype.</p>
</li>
<li>
<p>To generate <a href="https://github.github.com/gfm/">GitHub-Flavored Markdown</a> files, use the markdown_github transtype.</p>
</li>
<li>
<p>To publish GitHub-Flavored Markdown and generate a SUMMARY.md table of contents file for publication via <a href="https://www.gitbook.com">GitBook</a>, use the markdown_gitbook transtype.</p>
</li>
</ul>
<p>Run the dita command and set the value of the output --format option to the desired format, for example:</p>
<pre><code>dita --input=input-file --format=markdown
</code></pre>
<p>where:</p>
<ul>
<li>input-file is the DITA map or DITA file that you want to process.</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2017/dita-ot_day.html#Markdown_support_inside-out">Markdown support inside-out</a></p>
<p><a href="https://www.oxygenxml.com/events/2015/dita-ot_day.html#Markdown_plugin">Markdown plugin</a></p>
<p><a href="topics/../parameters/parameters-base.html">Common parameters</a></p>
<h1><a class="header" href="#normalized-dita" id="normalized-dita">Normalized DITA</a></h1>
<p>The <code>dita</code> transformation generates normalized topics and maps from DITA input. The normalized output includes the results of DITA Open Toolkit pre-processing operations, which resolve map references, keys, content references, code references and push metadata back and forth between maps and topics.</p>
<p>In comparison to the source DITA files, the normalized DITA files are modified in the following ways:</p>
<ul>
<li>References from one DITA map to another are resolved</li>
<li>Map-based links, such as those generated by map hierarchy and relationship tables, are added to the topics.</li>
<li>Link text is resolved.</li>
<li>Map attributes that cascade are made explicit on child elements.</li>
<li>Map metadata such as index entries and copyrights are pushed into topics.</li>
<li>Topic metadata such as navigation titles, link text and short descriptions are pulled from topics into the map.</li>
<li>XML comments are removed.</li>
</ul>
<h2><a class="header" href="#applications" id="applications">Applications</a></h2>
<p>Normalized output may be useful in situations where post-processing of DITA content is required, but the downstream systems are limited in their ability to resolve DITA references.</p>
<p><strong>Tip:</strong> You can also use the normalized DITA transformation to convert <a href="topics/markdown-input.html">Markdown</a> or <a href="topics/lwdita-input.html">Lightweight DITA</a> formats to DITA XML. You can then copy the generated DITA files from the output folder to your project and replace references to the lightweight topics with their XML equivalents.</p>
<h2><a class="header" href="#generating-normalized-dita-output" id="generating-normalized-dita-output">Generating normalized DITA output</a></h2>
<p>Run the dita command and set the value of the output --format option to dita:</p>
<pre><code>dita --input=input-file --format=dita
</code></pre>
<p>where:</p>
<ul>
<li>input-file is the DITA map or DITA file that you want to process.</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2016/dita-ot_day.html#DITA_to_resolved_DITA_transformation">The use-cases for a &quot;DITA to resolved DITA&quot; transformation</a></p>
<p><a href="topics/../parameters/parameters-base.html">Common parameters</a></p>
<h1><a class="header" href="#xhtml" id="xhtml">XHTML</a></h1>
<p>The xhtml transformation generates XHTML output and a table of contents (TOC) file. This was the first transformation created for DITA Open Toolkit, and originally served as the basis for all HTML-based transformations.</p>
<p>The XHTML output is always associated with the default DITA-OT CSS file (commonltr.css or commonrtl.css for right-to-left languages). You can use toolkit parameters to add a custom style sheet to override the default styles.</p>
<p>To run the XHTML transformation, set the transtype parameter to xhtml, or pass the --format=xhtml option to the dita command line.</p>
<pre><code>dita --input=input-file --format=xhtml
</code></pre>
<p>where:</p>
<ul>
<li>input-file is the DITA map or DITA file that you want to process.</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/html-customization-parameters.html">Setting parameters for custom HTML</a></p>
<p><a href="topics/../parameters/parameters-base.html">Common parameters</a></p>
<p><a href="topics/../parameters/parameters-base-html.html">HTML-based output parameters</a></p>
<p><a href="topics/../parameters/parameters-xhtml.html">XHTML parameters</a></p>
<p><a href="topics/../parameters/generate-copy-outer.html">Handling content outside the map directory</a></p>
<h1><a class="header" href="#dita-open-toolkit-parameters" id="dita-open-toolkit-parameters">DITA Open Toolkit parameters</a></h1>
<p>You can adjust DITA Open Toolkit behavior via dita command arguments and options, DITA-OT parameter settings, and configuration properties.</p>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2015/dita-ot_day.html#Parameters_Annotations_For_DITA_OT_Plugins">Parameters annotations for DITA-OT plugins</a></p>
<h1><a class="header" href="#arguments-and-options-for-the-dita-command" id="arguments-and-options-for-the-dita-command">Arguments and options for the dita command</a></h1>
<p>The dita command takes mandatory arguments to process DITA content. Subcommands can be used to manage plug-ins, or print information about the current configuration. A series of options are available to modify the command behavior or specify additional configuration parameters.</p>
<h2><a class="header" href="#usage" id="usage">Usage</a></h2>
<p>To convert content from one format to another, specify the file to transform and the desired output format. If necessary, you can set additional configuration parameters with options.</p>
<blockquote>
<p><code>**dita**</code> <code>**--input**</code> <code>=</code> <em>file</em> <code>**--format**</code> <code>=</code> <em>name</em> [ <em>options</em> ]</p>
</blockquote>
<blockquote>
<p><code>**dita**</code> <code>**--project**</code> <code>=</code> <em>file</em> [ <em>options</em> ]</p>
</blockquote>
<p><strong>Note:</strong> Most dita command options support several syntax alternatives. All options can be specified with a GNU-style option keyword preceded by two hyphens. In many cases, Unix-style single-letter options (preceded by a single hyphen) are also available for brevity and backwards compatibility.</p>
<p>The dita command also supports a series of subcommands that can be used to manage plug-ins, or print information about the current configuration or version.</p>
<blockquote>
<p><code>**dita**</code> <code>**deliverables**</code> <em>file</em></p>
</blockquote>
<blockquote>
<p><code>**dita**</code> <code>**install**</code> [ { <em>ID</em> <em>| URL</em> <em>| file</em> } ]</p>
</blockquote>
<blockquote>
<p><code>**dita**</code> <code>**plugins**</code></p>
</blockquote>
<blockquote>
<p><code>**dita**</code> <code>**transtypes**</code></p>
</blockquote>
<blockquote>
<p><code>**dita**</code> <code>**uninstall**</code> <em>ID</em></p>
</blockquote>
<blockquote>
<p><code>**dita**</code> <code>**version**</code></p>
</blockquote>
<p><strong>Attention:</strong> Prior to DITA-OT 3.5, subcommands were specified with the double-hyphen option syntax, which is still supported for backwards compatibility. (For example, dita --install will still work.)</p>
<h2><a class="header" href="#arguments" id="arguments">Arguments</a></h2>
<p>Each transformation requires you to specify at least the file to transform and the desired output format.</p>
<ul>
<li>
<p><strong>--input=file -i file</strong></p>
<p>Specifies the master file for your documentation project. This argument corresponds to the common parameter args.input. Typically this is a DITA map, however it also can be a DITA topic if you want to transform a single DITA file. The path can be absolute, relative to args.input.dir, or relative to the current directory if args.input.dir is not defined.</p>
</li>
<li>
<p><strong>--format=name -f name</strong></p>
<p>Specifies the output format (transformation type).</p>
<p>This argument corresponds to the common parameter transtype.</p>
<p>To list the formats that are currently available in your environment, use dita transtypes.</p>
<p>You can create plug-ins to add new output formats; by default, the following values are available:</p>
<ul>
<li>dita</li>
<li>eclipsehelp</li>
<li>html5</li>
<li>htmlhelp</li>
<li>markdown, markdown_gitbook, and markdown_github</li>
<li>pdf</li>
<li>xhtml
<strong>Tip:</strong> See <a href="parameters/../topics/output-formats.html">DITA-OT transformations (output formats)</a> for sample command line syntax and more information on each transformation.</li>
</ul>
</li>
</ul>
<h2><a class="header" href="#subcommands" id="subcommands">Subcommands</a></h2>
<ul>
<li>
<p><strong>deliverables file</strong></p>
<p>Show a list of the available deliverables in the specified project file.</p>
</li>
<li>
<p><strong>install { ID | URL | file } --install={ ID | URL | file }</strong></p>
<p>Install a single plug-in IDfrom the registry at <a href="https://www.dita-ot.org/plugins">dita-ot.org/plugins</a> (or a local registry), from a remote URL, or a local ZIP file.</p>
</li>
<li>
<p><strong>install --install</strong></p>
<p>If no ID, URL, or file argument is provided, the installation process reloads the current set of plug-ins from the plugins directory (or any custom locations defined via the pluginsdir property in the configuration.properties file in the config directory). This approach can be used to add or remove multiple plug-ins at once, or any individual plug-ins you have already copied to (or removed from) the plug-in directories. Any plug-ins added or removed in the process will be listed by their plug-in ID.</p>
</li>
<li>
<p><strong>uninstall ID --uninstall=ID</strong></p>
<p>Remove the plug-in with the specified ID.</p>
<p>For a list of the currently installed plug-in IDs, use dita plugins.</p>
<p><strong>Attention:</strong> The uninstall subcommand also removes the corresponding plug-in directory from the plugins folder.</p>
</li>
<li>
<p><strong>plugins --plugins</strong></p>
<p>Show a list of the currently installed plug-ins.</p>
</li>
<li>
<p><strong>transtypes --transtypes</strong></p>
<p>Show a list of the available output formats (transformation types).</p>
<p>The entries in this list may be passed as values to the --format argument.</p>
</li>
<li>
<p><strong>version --version</strong></p>
<p>Print version information and exit.</p>
</li>
</ul>
<h2><a class="header" href="#options" id="options">Options</a></h2>
<ul>
<li>
<p><strong>--debug -d</strong></p>
<p>Debug logging prints considerably more additional information. The debug log includes all information from the verbose log, plus details on Java classes, additional Ant properties and overrides, preprocessing filters, parameters, and stages, and the complete build sequence. Debug logging requires additional resources and can slow down the build process, so it should only be enabled when further details are required to diagnose problems.</p>
</li>
<li>
<p><strong>--output=dir -o dir</strong></p>
<p>Specifies the path of the output directory; the path can be absolute or relative to the current directory.</p>
<p>This argument corresponds to the common parameter output.dir. By default, the output is written to the out subdirectory of the current directory.</p>
</li>
<li>
<p><strong>--filter=files</strong></p>
<p>Specifies filter file(s) used to include, exclude, or flag content. Relative paths are resolved against the current directory and internally converted to absolute paths.</p>
<p><strong>Note:</strong></p>
<p>To specify multiple filter files, use the system path separator character to delimit individual file paths (semicolon ‘<code>;</code>’ on Windows, and colon ‘<code>:</code>’ on macOS and Linux) and wrap the value in quotes:</p>
<p><code>--filter=&quot;filter1.ditaval;filter2.ditaval;filter3.ditaval&quot;</code></p>
<p>As of DITA-OT 3.6, the --filter option can also be passed multiple times:</p>
<p><code>--filter=filter1.ditaval --filter=filter2.ditaval --filter=filter3.ditaval</code></p>
<p>DITAVAL files are evaluated in the order specified, so conditions specified in the first file take precedence over matching conditions specified in later files, just as conditions at the start of a DITAVAL document take precedence over matching conditions later in the same document.</p>
</li>
<li>
<p><strong>--force</strong></p>
<p>Force-install an existing plug-in.</p>
<p>Passed as an additional option to the installation subcommand: dita install plug-in-zip --force</p>
</li>
<li>
<p><strong>--help -h</strong></p>
<p>Print a list of available arguments, options, and subcommands.</p>
</li>
<li>
<p><strong>--logfile=file -l file</strong></p>
<p>Write logging messages to a file.</p>
</li>
<li>
<p><strong>--parameter=value -Dparameter=value</strong></p>
<p>Specify a value for a DITA-OT or Ant build parameter.</p>
<p>The GNU-style --parameter=value form is only available for parameters that are configured in the plug-in configuration file; the Java-style -D form can also be used to specify additional non-configured parameters or set system properties.</p>
<p>Parameters not implemented by the specified transformation type or referenced in a .properties file are ignored.</p>
<p><strong>Tip:</strong> If you are building in different environments where the location of the input files is not consistent, set args.input.dir with the dita command and reference its value with <code>${args.input.dir}</code> in your .properties file.</p>
</li>
<li>
<p><strong>--propertyfile=file</strong></p>
<p>Use build parameters defined in the referenced .properties file.</p>
<p>Build parameters specified on the command line override those set in the .properties file.</p>
</li>
<li>
<p><strong>--repeat=N</strong></p>
<p>Repeat the transformation N number of times.</p>
<p>This option can be used by plug-in developers to measure performance. To run a conversion five times, for example, use --repeat=5. The duration of each execution will appear in the console when the final transformation is complete.</p>
<pre><code>$ dita --input=docsrc/samples/sequence.ditamap --format=html5 --repeat=5
1 11281ms
2 4132ms
3 3690ms
4 4337ms
5 3634ms
</code></pre>
</li>
<li>
<p><strong>--resource=file -r file</strong></p>
<p>Convert partial documentation sets by processing input with additional resources.</p>
<p>For example, to process a single topic file with a map that contains key definitions, use a command like this:</p>
<pre><code class="language-syntax-bash">dita --input=topic.dita --resource=keys.ditamap --format=html5
</code></pre>
<p>To convert a chapter map to HTML5 and insert related links from relationship tables in a separate map, use:</p>
<pre><code class="language-syntax-bash">dita --input=chapter.ditamap --resource=reltables.ditamap --format=html5
</code></pre>
</li>
<li>
<p><strong>--temp=dir -t dir</strong></p>
<p>Specifies the location of the temporary directory.</p>
<p>This argument corresponds to the common parameter dita.temp.dir.</p>
</li>
<li>
<p><strong>--verbose -v</strong></p>
<p>Verbose logging prints additional information to the console, including directory settings, effective values for Ant properties, input/output files, and informational messages to assist in troubleshooting.</p>
</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="parameters/../topics/build-using-dita-command.html">Building output using the dita command</a></p>
<p><a href="parameters/../parameters/parameters_intro.html">DITA-OT parameters</a></p>
<p><a href="parameters/../parameters/internal-ant-properties.html">Internal Ant properties</a></p>
<p><a href="parameters/../topics/using-dita-properties-file.html">Setting build parameters with .properties files</a></p>
<p><a href="parameters/../topics/dita-command-help.html">Accessing help for the dita command</a></p>
<h1><a class="header" href="#dita-ot-parameters" id="dita-ot-parameters">DITA-OT parameters</a></h1>
<p>Certain parameters apply to all DITA-OT transformations. Other parameters are common to the HTML-based transformations. Some parameters apply only to specific transformation types. These parameters can be passed as options to the dita command using the --parameter=value syntax or included in build scripts as Ant properties.</p>
<p>If your toolkit installation includes custom plug-ins that define additional parameters, you can add entries to the following topics by rebuilding the DITA-OT documentation.</p>
<p><strong>Related information</strong></p>
<p><a href="parameters/../topics/using-dita-properties-file.html">Setting build parameters with .properties files</a></p>
<p><a href="parameters/../topics/rebuilding-docs.html">Rebuilding the DITA-OT documentation</a></p>
<h1><a class="header" href="#common-parameters" id="common-parameters">Common parameters</a></h1>
<p>Certain parameters apply to all transformations that DITA Open Toolkit supports.</p>
<ul>
<li>
<p><strong>args.debug</strong></p>
<p>Specifies whether debugging information is included in the log. The allowed values are yes and no; the default value is no.</p>
</li>
<li>
<p><strong>args.draft</strong></p>
<p>Specifies whether the content of &lt;draft-comment&gt; and &lt;required-cleanup&gt; elements is included in the output. The allowed values are yes and no; the default value is no.</p>
<p>Corresponds to the XSLT parameter DRAFT in most XSLT modules.</p>
<p><strong>Tip:</strong> For PDF output, setting the args.draft parameter to yes causes the contents of the <code>titlealts</code> element to be rendered below the title.</p>
</li>
<li>
<p><strong>args.figurelink.style</strong></p>
<p>Specifies how cross references to figures are styled in output. The allowed values are NUMBER, TITLE, and NUMTITLE.</p>
<p>Specifying NUMBER results in &quot;Figure 5&quot;; specifying TITLE results in the title of the figure. Corresponds to the XSLT parameter FIGURELINK.</p>
<p><strong>Note:</strong> Support for PDF was added in DITA-OT 2.0. By default PDF uses the value NUMTITLE, which is not supported for other transformation types; this results in &quot;Figure 5. Title&quot;.</p>
</li>
<li>
<p><strong>args.filter</strong></p>
<p>Specifies filter file(s) used to include, exclude, or flag content. Relative paths are resolved against the DITA-OT base directory (for backwards compatibility) and internally converted to absolute paths.</p>
<p><strong>Note:</strong></p>
<p>To specify multiple filter files, use the system path separator character to delimit individual file paths (semicolon ‘<code>;</code>’ on Windows, and colon ‘<code>:</code>’ on macOS and Linux) and wrap the value in quotes:</p>
<p><code>--args.filter=&quot;filter1.ditaval;filter2.ditaval;filter3.ditaval&quot;</code></p>
<p>DITAVAL files are evaluated in the order specified, so conditions specified in the first file take precedence over matching conditions specified in later files, just as conditions at the start of a DITAVAL document take precedence over matching conditions later in the same document.</p>
</li>
<li>
<p><strong>args.gen.task.lbl</strong></p>
<p>Specifies whether to generate headings for sections within task topics. The allowed values are YES and NO.</p>
<p>Corresponds to the XSLT parameter GENERATE-TASK-LABELS.</p>
</li>
<li>
<p><strong>args.grammar.cache</strong></p>
<p>Specifies whether the grammar-caching feature of the XML parser is used. The allowed values are yes and no; the default value is yes.</p>
<p><strong>Note:</strong> This option dramatically speeds up processing time. However, there is a known problem with using this feature for documents that use XML entities. If your build fails with parser errors about entity resolution, set this parameter to no.</p>
</li>
<li>
<p><strong>args.input</strong></p>
<p>Specifies the master file for your documentation project.</p>
<p>Typically this is a DITA map, however it also can be a DITA topic if you want to transform a single DITA file. The path can be absolute, relative to args.input.dir, or relative to the directory where your project’s Ant build script resides if args.input.dir is not defined.</p>
</li>
<li>
<p><strong>args.input.dir</strong></p>
<p>Specifies the base directory for your documentation project.</p>
</li>
<li>
<p><strong>args.output.base</strong></p>
<p>Specifies the name of the output file without file extension.</p>
</li>
<li>
<p><strong>args.rellinks</strong></p>
<p>Specifies which links to include in the output. The following values are supported:</p>
<ul>
<li>none – No links are included.</li>
<li>all – All links are included.</li>
<li>noparent – Parent links are not included.</li>
<li>nofamily – Parent, child, next, and previous links are not included.
For PDF output, the default value is nofamily. For all other formats, the default value is all.</li>
</ul>
</li>
<li>
<p><strong>args.resources</strong></p>
<p>Specifies resource files.</p>
</li>
<li>
<p><strong>args.tablelink.style</strong></p>
<p>Specifies how cross references to tables are styled. The allowed values are NUMBER, TITLE, and NUMTITLE.</p>
<p>Specifying NUMBER results in &quot;Table 5&quot;; specifying TITLE results in the title of the table. Corresponds to the XSLT parameter TABLELINK.</p>
<p><strong>Note:</strong> Support for PDF was added in DITA-OT 2.0. By default PDF uses the value NUMTITLE, which is not supported for other transformation types; this results in &quot;Table 5. Title&quot;.</p>
</li>
<li>
<p><strong>clean.temp</strong></p>
<p>Specifies whether DITA-OT deletes the files in the temporary directory after it finishes a build. The allowed values are yes and no; the default value is yes.</p>
</li>
<li>
<p><strong>conserve-memory</strong></p>
<p>Conserve memory at the expense of processing speed. The allowed values are true and false; the default value is false.</p>
</li>
<li>
<p><strong>default.language</strong></p>
<p>Specifies the language that is used if the input file does not have the <code>@xml:lang</code> attribute set on the root element. By default, this is set to en. The allowed values are those that are defined in IETF BCP 47, <a href="https://tools.ietf.org/html/bcp47">Tags for Identifying Languages</a>.</p>
</li>
<li>
<p><strong>dita.dir</strong></p>
<p>Specifies where DITA-OT is installed.</p>
</li>
<li>
<p><strong>dita.input.valfile</strong></p>
<p>Specifies a filter file to be used to include, exclude, or flag content.</p>
<p><strong>Note:</strong> Deprecated in favor of the args.filter parameter.</p>
</li>
<li>
<p><strong>dita.temp.dir</strong></p>
<p>Specifies the location of the temporary directory.</p>
<p>The temporary directory is where DITA-OT writes temporary files that are generated during the transformation process.</p>
</li>
<li>
<p><strong>filter-stage</strong></p>
<p>Specifies whether filtering is done before all other processing, or after key and conref processing. The allowed values are early and late; the default value is early.</p>
<p><strong>Note:</strong> Changing the filtering stage may produce different results for the same initial data set and filtering conditions.</p>
</li>
<li>
<p><strong>force-unique</strong></p>
<p>Generate copy-to attributes to duplicate topicref elements. The allowed values are true and false; the default value is false.</p>
<p>Setting this to true ensures that unique output files are created for each instance of a resource when a map contains multiple references to a single topic.</p>
</li>
<li>
<p><strong>generate-debug-attributes</strong></p>
<p>Specifies whether the @xtrf and @xtrc debugging attributes are generated in the temporary files. The following values are supported:</p>
<ul>
<li>true (default) – Enables generation of debugging attributes</li>
<li>false – Disables generation of debugging attributes
<strong>Note:</strong> Disabling debugging attributes reduces the size of temporary files and thus reduces memory consumption. However, the log messages no longer have the source information available and thus the ability to debug problems might deteriorate.</li>
</ul>
</li>
<li>
<p><strong>generate.copy.outer</strong></p>
<p>Adjust how output is generated for content that is located outside the directory containing the DITA map. The following values are supported:</p>
<ul>
<li>1 (default) – Do not generate output for content that is located outside the DITA map directory.</li>
<li>3 – Shift the output directory so that it contains all output for the publication.
See <a href="parameters/generate-copy-outer.html">Handling content outside the map directory</a> for more information.</li>
</ul>
</li>
<li>
<p><strong>link-crawl</strong></p>
<p>Specifies whether to crawl only those topic links found in maps, or all discovered topic links. The allowed values are map and topic; the default value is topic.</p>
</li>
<li>
<p><strong>onlytopic.in.map</strong></p>
<p>Specifies whether files that are linked to, or referenced with a @conref attribute, generate output. The allowed values are true and false; the default value is false.</p>
<p>If set to true, only files that are referenced directly from the map will generate output.</p>
</li>
<li>
<p><strong>outer.control</strong></p>
<p>Specifies whether to warn or fail if content is located outside the directory containing the DITA map. The following values are supported:</p>
<ul>
<li>fail – Fail quickly if files are going to be generated or copied outside of the directory.</li>
<li>warn (default) – Complete the operation if files will be generated or copied outside of the directory, but log a warning.</li>
<li>quiet – Quietly finish without generating warnings or errors.
<strong>Warning:</strong> Microsoft HTML Help Compiler cannot produce HTML Help for documentation projects that use outer content. The content files must reside in or below the directory containing the master DITA map file, and the map file cannot specify &quot;..&quot; at the start of the <code>@href</code> attributes for <code>topicref</code> elements.</li>
</ul>
</li>
<li>
<p><strong>output.dir</strong></p>
<p>Specifies the name and location of the output directory.</p>
<p>By default, the output is written to DITA-dir/out.</p>
</li>
<li>
<p><strong>parallel</strong></p>
<p>Run processes in parallel when possible. The allowed values are true and false; the default value is false.</p>
</li>
<li>
<p><strong>processing-mode</strong></p>
<p>Specifies how DITA-OT handles errors and error recovery. The following values are supported:</p>
<ul>
<li>strict – When an error is encountered, DITA-OT stops processing</li>
<li>lax (default) – When an error is encountered, DITA-OT attempts to recover from it</li>
<li>skip – When an error is encountered, DITA-OT continues processing but does not attempt error recovery</li>
</ul>
</li>
<li>
<p><strong>remove-broken-links</strong></p>
<p>Remove broken related links. The allowed values are true and false; the default value is false.</p>
</li>
<li>
<p><strong>result.rewrite-rule.class</strong></p>
<p>Specifies the name of the Java class used to rewrite filenames.</p>
<p>The custom class should implement the <code>org.dita.dost.module.RewriteRule</code> interface.</p>
</li>
<li>
<p><strong>result.rewrite-rule.xsl</strong></p>
<p>Specifies the name of the XSLT file used to rewrite filenames.</p>
<p>See <a href="parameters/../topics/plugin-rewrite-rules.html">Adjusting file names in map-first pre-processing</a> for details.</p>
</li>
<li>
<p><strong>root-chunk-override</strong></p>
<p>Override for map chunk attribute value.</p>
<p>Acceptable values include any value normally allowed on the <code>@chunk</code> attribute. If the map does not have a <code>@chunk</code> attribute, this value will be used; if the map already has a <code>@chunk</code> attribute specified, this value will be used instead.</p>
</li>
<li>
<p><strong>store-type</strong></p>
<p>Temporary file store type. The allowed values are file and memory; the default value is file.</p>
<p>In-memory processing provides performance advantages in I/O bound environments such as cloud computing platforms, where processing time depends primarily on how long it takes to read and write temporary files. For more information, see <a href="parameters/../reference/store-api.html">Store API – Processing in memory</a>.</p>
<p><strong>Important:</strong> Custom plug-ins that expect to find certain files on disk in the temporary directory will not work with in-memory processing.</p>
</li>
<li>
<p><strong>transtype</strong></p>
<p>Specifies the output format (transformation type).</p>
<p>You can create plug-ins to add new output formats; by default, the following values are available:</p>
<ul>
<li>dita</li>
<li>eclipsehelp</li>
<li>html5</li>
<li>htmlhelp</li>
<li>markdown, markdown_gitbook, and markdown_github</li>
<li>pdf</li>
<li>xhtml
<strong>Tip:</strong> See <a href="parameters/../topics/output-formats.html">DITA-OT transformations (output formats)</a> for sample command line syntax and more information on each transformation.</li>
</ul>
</li>
<li>
<p><strong>validate</strong></p>
<p>Specifies whether DITA-OT validates the content. The allowed values are true and false; the default value is true.</p>
</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="parameters/../topics/dita2eclipsehelp.html">Eclipse help transformation</a></p>
<p><a href="parameters/../topics/dita2htmlhelp.html">HTML help transformation</a></p>
<p><a href="parameters/../topics/dita2pdf.html">PDF transformation</a></p>
<p><a href="parameters/../topics/dita2xhtml.html">XHTML transformation</a></p>
<p><a href="parameters/../topics/html-customization-parameters.html">Setting parameters for custom HTML</a></p>
<p><a href="parameters/../topics/dita2html5.html">HTML5 transformation</a></p>
<p><a href="parameters/../topics/dita2markdown.html">Markdown transformations</a></p>
<p><a href="parameters/../topics/dita2dita.html">Normalized DITA transformations</a></p>
<h1><a class="header" href="#pdf-parameters" id="pdf-parameters">PDF parameters</a></h1>
<p>Certain parameters are specific to the PDF transformation.</p>
<ul>
<li>
<p><strong>args.artlbl</strong></p>
<p>Specifies whether to generate a label for each image; the label will contain the image file name. The allowed values are yes and no; the default value is no.</p>
</li>
<li>
<p><strong>args.bookmap-order</strong></p>
<p>Specifies if the frontmatter and backmatter content order is retained in bookmap. The allowed values are retain and discard; the default value is discard.</p>
</li>
<li>
<p><strong>args.bookmark.style</strong></p>
<p>Specifies whether PDF bookmarks are by default expanded or collapsed. The allowed values are EXPANDED and COLLAPSE.</p>
</li>
<li>
<p><strong>args.chapter.layout</strong></p>
<p>Specifies whether chapter level TOCs are generated. The allowed values are MINITOC and BASIC; the default value is MINITOC.</p>
</li>
<li>
<p><strong>args.fo.userconfig</strong></p>
<p>Specifies the user configuration file for FOP.</p>
</li>
<li>
<p><strong>args.xsl.pdf</strong></p>
<p>Specifies an XSL file that is used to override the default XSL transformation.</p>
<p>You must specify the fully qualified file name.</p>
</li>
<li>
<p><strong>axf.cmd</strong></p>
<p>Specifies the path to the Antenna House Formatter executable.</p>
</li>
<li>
<p><strong>axf.opt</strong></p>
<p>Specifies the user configuration file for Antenna House Formatter.</p>
</li>
<li>
<p><strong>custom.xep.config</strong></p>
<p>Specifies the user configuration file for RenderX.</p>
</li>
<li>
<p><strong>customization.dir</strong></p>
<p>Specifies the customization directory.</p>
</li>
<li>
<p><strong>maxJavaMemory</strong></p>
<p>Specifies the amount of memory allocated to the RenderX process.</p>
</li>
<li>
<p><strong>org.dita.index.skip</strong></p>
<p>Disable index processing. The allowed values are yes and no; the default value is no.</p>
<p>Up until DITA-OT 3.4, indexing code was provided in the PDF plug-in and only available for PDF output. In version 3.4 and above, indexing is provided by a separate plug-in to allow other transformations to access the results.</p>
<p>If you have overridden PDF index processing via the <code>transform.topic2fo</code> target in the past, you can set the org.dita.index.skip property to yes and re-enable the <code>transform.topic2fo.index</code> target with <code>feature extension=&quot;depend.org.dita.pdf2.index&quot; value=&quot;transform.topic2fo.index&quot;/</code> in your plug-in configuration.</p>
</li>
<li>
<p><strong>org.dita.pdf2.chunk.enabled</strong></p>
<p>Enables chunk attribute processing. The following values are supported:</p>
<ul>
<li>true – Enables chunk processing</li>
<li>false (default) – Disables chunk processing</li>
</ul>
</li>
<li>
<p><strong>org.dita.pdf2.i18n.enabled</strong></p>
<p>Enables internationalization (I18N) font processing to provide per-character font selection for FO renderers that do not support the <code>font-selection-strategy</code> property (such as Apache FOP).</p>
<p>When this feature is enabled, DITA-OT uses a font mapping process that takes the content language into consideration. The mapping process uses configuration files for each language to define characters that should be rendered with certain logical fonts, and font mappings that associate each logical font to physical font files.</p>
<p>The following values are allowed:</p>
<ul>
<li>true (default) — Enables font mapping</li>
<li>false — Disables font mapping
<strong>Tip:</strong> If you don’t use custom character mappings, turning off font mapping makes it easier to define custom fonts simply by changing font names in the XSL attributes files of your custom PDF plug-in. For details, see <a href="http://www.elovirta.com/2016/02/18/font-configuration-in-pdf2.html">Font configuration in PDF2</a>.</li>
</ul>
</li>
<li>
<p><strong>outputFile.base</strong></p>
<p>Specifies the base file name of the generated PDF file.</p>
<p>By default, the PDF file uses the base filename of the input .ditamap file.</p>
</li>
<li>
<p><strong>pdf.formatter</strong></p>
<p>Specifies the XSL processor. The following values are supported:</p>
<ul>
<li>xep – RenderX XEP Engine</li>
<li>ah – Antenna House Formatter</li>
<li>fop (default) – Apache FOP</li>
</ul>
</li>
<li>
<p><strong>publish.required.cleanup</strong></p>
<p>Specifies whether draft-comment and required-cleanup elements are included in the output. The allowed values are yes, no, yes, and no.</p>
<p>The default value is the value of the args.draft parameter. Corresponds to the XSLT parameter publishRequiredCleanup.</p>
<p><strong>Note:</strong> This parameter is deprecated in favor of the args.draft parameter.</p>
</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="parameters/../topics/dita2pdf.html">PDF transformation</a></p>
<p><a href="parameters/../parameters/parameters-base.html">Common parameters</a></p>
<h1><a class="header" href="#html-based-output-parameters" id="html-based-output-parameters">HTML-based output parameters</a></h1>
<p>Certain parameters apply to all HTML-based transformation types: HTML5, XHTML, HTML Help, and Eclipse help. </p>
<ul>
<li>
<p><strong>args.artlbl</strong></p>
<p>Specifies whether to generate a label for each image; the label will contain the image file name. The allowed values are yes and no; the default value is no.</p>
</li>
<li>
<p><strong>args.copycss</strong></p>
<p>Specifies whether to copy the custom .css file to the output directory. The allowed values are yes and no; the default value is no.</p>
<p>If an external process will copy your custom .css file to the output directory, leave this parameter unset (or set it to no). If DITA-OT should copy the file when generating output, set it to yes.</p>
</li>
<li>
<p><strong>args.css</strong></p>
<p>Specifies the name of a custom .css file.</p>
<p>The value of this parameter should be only the file name. The absolute path to the parent directory should be specified with args.cssroot.</p>
</li>
<li>
<p><strong>args.csspath</strong></p>
<p>Specifies the <strong>destination</strong> directory to which .css files are copied (relative to the output directory).</p>
<p>Corresponds to the XSLT parameter CSSPATH.</p>
<p>DITA-OT will copy the file <strong>to</strong> this location.</p>
<p><strong>Tip:</strong> If args.csspath is not set, the custom CSS file (and the default CSS files) will be copied to the root level of the output folder. To copy CSS files to an output subfolder named css, set args.csspath to css.</p>
</li>
<li>
<p><strong>args.cssroot</strong></p>
<p>Specifies the <strong>source</strong> directory that contains the custom .css file.</p>
<p>DITA-OT will copy the file <strong>from</strong> this location.</p>
<p><strong>Important:</strong> Enter the absolute path to the parent directory of the custom CSS file specified with args.css.</p>
</li>
<li>
<p><strong>args.dita.locale</strong></p>
<p>Specifies the language locale file to use for sorting index entries.</p>
<p><strong>Note:</strong> This parameter is not available for the XHTML transformation.</p>
</li>
<li>
<p><strong>args.eclipse.provider</strong></p>
<p>Specifies the name of the person or organization that provides the Eclipse help.</p>
</li>
<li>
<p><strong>args.eclipse.symbolic.name</strong></p>
<p>Specifies the symbolic name (aka plugin ID) in the output for an Eclipse Help project.</p>
</li>
<li>
<p><strong>args.eclipse.version</strong></p>
<p>Specifies the version number to include in the output.</p>
</li>
<li>
<p><strong>args.eclipsehelp.country</strong></p>
<p>Specifies the region for the language that is specified by the args.</p>
</li>
<li>
<p><strong>args.eclipsehelp.jar.name</strong></p>
<p>Specifies that the output should be zipped and returned using this name.</p>
</li>
<li>
<p><strong>args.eclipsehelp.language</strong></p>
<p>Specifies the base language for translated content, such as en for English.</p>
</li>
<li>
<p><strong>args.ftr</strong></p>
<p>Specifies an XML file that contains content for a running footer.</p>
<p>Corresponds to the XSLT parameter FTR.</p>
<p><strong>Note:</strong> The footer file should be specified using an absolute path and must contain valid XML. A common practice is to place all content into a <code>div</code> element. In HTML5 output, the footer file contents will be wrapped in an HTML5 <code>footer</code> element with the <code>@role</code> attribute set to contentinfo.</p>
</li>
<li>
<p><strong>args.gen.default.meta</strong></p>
<p>Generate metadata for parental control scanners, meta elements with name=&quot;security&quot; and name=&quot;Robots&quot;. The allowed values are yes and no; the default value is no.</p>
<p>Corresponds to the XSLT parameter genDefMeta.</p>
</li>
<li>
<p><strong>args.hdf</strong></p>
<p>Specifies an XML file that contains content to be placed in the document head.</p>
<p>The contents of the header file will be inserted in the <code>head</code> element of the generated HTML files.</p>
<p><strong>Tip:</strong> The header file should be specified using an absolute path and must contain valid XML. If you need to insert more than one element into the HTML page head, wrap the content in a <code>div</code> element. The division wrapper in the header file will be discarded when generating HTML files, and the contents will be inserted into each page head.</p>
</li>
<li>
<p><strong>args.hdr</strong></p>
<p>Specifies an XML file that contains content for a running header.</p>
<p>Corresponds to the XSLT parameter HDR.</p>
<p><strong>Note:</strong> The header file should be specified using an absolute path and must contain valid XML. A common practice is to place all content into a <code>div</code> element. In HTML5 output, the contents of the header file will be wrapped in an HTML5 <code>header</code> element with the <code>@role</code> attribute set to banner.</p>
</li>
<li>
<p><strong>args.hide.parent.link</strong></p>
<p>Specifies whether to hide links to parent topics in the HTML or XHTML output. The allowed values are yes and no; the default value is no.</p>
<p>Corresponds to the XSLT parameter NOPARENTLINK.</p>
<p><strong>Note:</strong> This parameter is deprecated in favor of the args.rellinks parameter.</p>
</li>
<li>
<p><strong>args.htmlhelp.includefile</strong></p>
<p>Specifies the name of a file that you want included in the HTML Help.</p>
</li>
<li>
<p><strong>args.indexshow</strong></p>
<p>Specifies whether the content of &lt;indexterm&gt; elements are rendered in the output. The allowed values are yes and no; the default value is no.</p>
</li>
<li>
<p><strong>args.outext</strong></p>
<p>Specifies the file extension for HTML or XHTML output.</p>
<p>Corresponds to the XSLT parameter OUTEXT.</p>
</li>
<li>
<p><strong>args.xhtml.classattr</strong></p>
<p>Specifies whether to include the DITA class ancestry inside the XHTML elements. The allowed values are yes and no; the default value is yes.</p>
<p>For example, the <code>prereq</code> element (which is specialized from <code>section</code>) would generate <code>class=&quot;section prereq&quot;</code>. Corresponds to the XSLT parameter PRESERVE-DITA-CLASS.</p>
<p><strong>Note:</strong> Beginning with DITA-OT release 1.5.2, the default value is yes. For release 1.5 and 1.5.1, the default value was no.</p>
</li>
<li>
<p><strong>args.xhtml.contenttarget</strong></p>
<p>Specifies the value of the @target attribute on the &lt;base&gt; element in the TOC file.</p>
</li>
<li>
<p><strong>args.xhtml.toc</strong></p>
<p>Specifies the base name of the TOC file.</p>
</li>
<li>
<p><strong>args.xhtml.toc.class</strong></p>
<p>Specifies the value of the @class attribute on the &lt;body&gt; element in the TOC file.</p>
</li>
<li>
<p><strong>args.xhtml.toc.xsl</strong></p>
<p>Specifies a custom XSL file to be used for TOC generation.</p>
</li>
<li>
<p><strong>args.xsl</strong></p>
<p>Specifies a custom XSL file to be used instead of the default XSL transformation.</p>
<p>The parameter must specify a fully qualified file name.</p>
</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="parameters/../topics/dita2eclipsehelp.html">Eclipse help transformation</a></p>
<p><a href="parameters/../topics/dita2htmlhelp.html">HTML help transformation</a></p>
<p><a href="parameters/../topics/dita2xhtml.html">XHTML transformation</a></p>
<p><a href="parameters/../topics/html-customization-parameters.html">Setting parameters for custom HTML</a></p>
<p><a href="parameters/../topics/dita2html5.html">HTML5 transformation</a></p>
<p><a href="parameters/../topics/html-customization-plugin-bundle-css.html">Bundling CSS in a custom HTML plug-in</a></p>
<p><a href="parameters/../topics/html-customization-plugin-webfont.html">Embedding web fonts in HTML output</a></p>
<p><a href="parameters/../topics/html-customization-plugin-javascript.html">Inserting JavaScript in generated HTML</a></p>
<p><a href="parameters/../parameters/parameters-eclipsehelp.html">Eclipse Help parameters</a></p>
<p><a href="parameters/../parameters/parameters-html5.html">HTML5 parameters</a></p>
<p><a href="parameters/../parameters/parameters-htmlhelp.html">Microsoft Compiled HTML Help parameters</a></p>
<p><a href="parameters/../parameters/parameters-xhtml.html">XHTML parameters</a></p>
<h1><a class="header" href="#html5-parameters" id="html5-parameters">HTML5 parameters</a></h1>
<p>The HTML5 transformation shares common parameters with other HTML-based transformations and provides additional parameters that are specific to HTML5 output. </p>
<ul>
<li>
<p><strong>args.artlbl</strong></p>
<p>Specifies whether to generate a label for each image; the label will contain the image file name. The allowed values are yes and no; the default value is no.</p>
</li>
<li>
<p><strong>args.copycss</strong></p>
<p>Specifies whether to copy the custom .css file to the output directory. The allowed values are yes and no; the default value is no.</p>
<p>If an external process will copy your custom .css file to the output directory, leave this parameter unset (or set it to no). If DITA-OT should copy the file when generating output, set it to yes.</p>
</li>
<li>
<p><strong>args.css</strong></p>
<p>Specifies the name of a custom .css file.</p>
<p>The value of this parameter should be only the file name. The absolute path to the parent directory should be specified with args.cssroot.</p>
</li>
<li>
<p><strong>args.csspath</strong></p>
<p>Specifies the <strong>destination</strong> directory to which .css files are copied (relative to the output directory).</p>
<p>Corresponds to the XSLT parameter CSSPATH.</p>
<p>DITA-OT will copy the file <strong>to</strong> this location.</p>
<p><strong>Tip:</strong> If args.csspath is not set, the custom CSS file (and the default CSS files) will be copied to the root level of the output folder. To copy CSS files to an output subfolder named css, set args.csspath to css.</p>
</li>
<li>
<p><strong>args.cssroot</strong></p>
<p>Specifies the <strong>source</strong> directory that contains the custom .css file.</p>
<p>DITA-OT will copy the file <strong>from</strong> this location.</p>
<p><strong>Important:</strong> Enter the absolute path to the parent directory of the custom CSS file specified with args.css.</p>
</li>
<li>
<p><strong>args.dita.locale</strong></p>
<p>Specifies the language locale file to use for sorting index entries.</p>
</li>
<li>
<p><strong>args.ftr</strong></p>
<p>Specifies an XML file that contains content for a running footer.</p>
<p>Corresponds to the XSLT parameter FTR.</p>
<p><strong>Note:</strong> The footer file should be specified using an absolute path and must contain valid XML. A common practice is to place all content into a <code>div</code> element. In HTML5 output, the footer file contents will be wrapped in an HTML5 <code>footer</code> element with the <code>@role</code> attribute set to contentinfo.</p>
</li>
<li>
<p><strong>args.gen.default.meta</strong></p>
<p>Generate metadata for parental control scanners, meta elements with name=&quot;security&quot; and name=&quot;Robots&quot;. The allowed values are yes and no; the default value is no.</p>
<p>Corresponds to the XSLT parameter genDefMeta.</p>
</li>
<li>
<p><strong>args.hdf</strong></p>
<p>Specifies an XML file that contains content to be placed in the document head.</p>
<p>The contents of the header file will be inserted in the <code>head</code> element of the generated HTML files.</p>
<p><strong>Tip:</strong> The header file should be specified using an absolute path and must contain valid XML. If you need to insert more than one element into the HTML page head, wrap the content in a <code>div</code> element. The division wrapper in the header file will be discarded when generating HTML files, and the contents will be inserted into each page head.</p>
</li>
<li>
<p><strong>args.hdr</strong></p>
<p>Specifies an XML file that contains content for a running header.</p>
<p>Corresponds to the XSLT parameter HDR.</p>
<p><strong>Note:</strong> The header file should be specified using an absolute path and must contain valid XML. A common practice is to place all content into a <code>div</code> element. In HTML5 output, the contents of the header file will be wrapped in an HTML5 <code>header</code> element with the <code>@role</code> attribute set to banner.</p>
</li>
<li>
<p><strong>args.hide.parent.link</strong></p>
<p>Specifies whether to hide links to parent topics in the HTML5 output. The allowed values are yes and no; the default value is no.</p>
<p>Corresponds to the XSLT parameter NOPARENTLINK.</p>
<p><strong>Note:</strong> This parameter is deprecated in favor of the args.rellinks parameter.</p>
</li>
<li>
<p><strong>args.html5.classattr</strong></p>
<p>Specifies whether to include the DITA class ancestry inside the HTML5 elements. The allowed values are yes and no; the default value is yes.</p>
</li>
<li>
<p><strong>args.html5.contenttarget</strong></p>
<p>Specifies the value of the @target attribute on the &lt;base&gt; element in the TOC file.</p>
</li>
<li>
<p><strong>args.html5.toc</strong></p>
<p>Specifies the base name of the TOC file.</p>
</li>
<li>
<p><strong>args.html5.toc.class</strong></p>
<p>Specifies the value of the @class attribute on the &lt;body&gt; element in the TOC file.</p>
</li>
<li>
<p><strong>args.html5.toc.xsl</strong></p>
<p>Specifies a custom XSL file to be used for TOC generation.</p>
</li>
<li>
<p><strong>args.indexshow</strong></p>
<p>Specifies whether the content of &lt;indexterm&gt; elements are rendered in the output. The allowed values are yes and no; the default value is no.</p>
</li>
<li>
<p><strong>args.outext</strong></p>
<p>Specifies the file extension for HTML5 output.</p>
<p>Corresponds to the XSLT parameter OUTEXT.</p>
</li>
<li>
<p><strong>args.xsl</strong></p>
<p>Specifies a custom XSL file to be used instead of the default XSL transformation.</p>
<p>The parameter must specify a fully qualified file name.</p>
</li>
<li>
<p><strong>html5.toc.generate</strong></p>
<p>Generate TOC file from the DITA map. The allowed values are yes and no; the default value is yes.</p>
</li>
<li>
<p><strong>nav-toc</strong></p>
<p>Specifies whether to generate a table of contents (ToC) in the HTML5 <code>nav</code> element of each page. The navigation can then be rendered in a sidebar or menu via CSS.</p>
<p>The following values are supported:</p>
<ul>
<li>none (default) – No table of contents will be generated</li>
<li>partial – Include the current topic in the ToC along with its parents, siblings and children</li>
<li>full – Generate a complete ToC for the entire map</li>
</ul>
</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="parameters/../topics/dita2html5.html">HTML5 transformation</a></p>
<p><a href="parameters/../topics/html-customization-parameters.html">Setting parameters for custom HTML</a></p>
<p><a href="parameters/../parameters/parameters-base-html.html">HTML-based output parameters</a></p>
<h1><a class="header" href="#xhtml-parameters" id="xhtml-parameters">XHTML parameters</a></h1>
<p>Certain parameters are specific to the XHTML transformation.</p>
<ul>
<li>
<p><strong>args.xhtml.contenttarget</strong></p>
<p>Specifies the value of the @target attribute on the &lt;base&gt; element in the TOC file.</p>
<p>The default value is contentwin. Change this value to use a different target name for the table of contents.</p>
</li>
<li>
<p><strong>args.xhtml.toc</strong></p>
<p>Specifies the base name of the TOC file.</p>
</li>
<li>
<p><strong>args.xhtml.toc.class</strong></p>
<p>Specifies the value of the @class attribute on the &lt;body&gt; element in the TOC file.</p>
</li>
<li>
<p><strong>args.xhtml.toc.xsl</strong></p>
<p>Specifies a custom XSL file to be used for TOC generation.</p>
</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="parameters/../topics/dita2xhtml.html">XHTML transformation</a></p>
<p><a href="parameters/../topics/html-customization-parameters.html">Setting parameters for custom HTML</a></p>
<p><a href="parameters/../parameters/parameters-base.html">Common parameters</a></p>
<p><a href="parameters/../parameters/parameters-base-html.html">HTML-based output parameters</a></p>
<h1><a class="header" href="#microsoft-compiled-html-help-parameters" id="microsoft-compiled-html-help-parameters">Microsoft Compiled HTML Help parameters</a></h1>
<p>Certain parameters are specific to the Microsoft Compiled HTML Help (.chm) transformation.</p>
<ul>
<li>
<p><strong>args.htmlhelp.includefile</strong></p>
<p>Specifies the name of a file that you want included in the HTML Help.</p>
</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="parameters/../topics/dita2htmlhelp.html">HTML help transformation</a></p>
<p><a href="parameters/../parameters/parameters-base.html">Common parameters</a></p>
<p><a href="parameters/../parameters/parameters-base-html.html">HTML-based output parameters</a></p>
<h1><a class="header" href="#eclipse-help-parameters" id="eclipse-help-parameters">Eclipse Help parameters</a></h1>
<p>Certain parameters are specific to the Eclipse help transformation.</p>
<ul>
<li>
<p><strong>args.eclipse.provider</strong></p>
<p>Specifies the name of the person or organization that provides the Eclipse help.</p>
<p>The default value is DITA.</p>
<p><strong>Tip:</strong> The toolkit ignores the value of this parameter when it processes an Eclipse map.</p>
</li>
<li>
<p><strong>args.eclipse.symbolic.name</strong></p>
<p>Specifies the symbolic name (aka plugin ID) in the output for an Eclipse Help project.</p>
<p>The <code>@id</code> value from the DITA map or the Eclipse map collection (Eclipse help specialization) is the symbolic name for the plugin in Eclipse. The default value is org.sample.help.doc.</p>
<p><strong>Tip:</strong> The toolkit ignores the value of this parameter when it processes an Eclipse map.</p>
</li>
<li>
<p><strong>args.eclipse.version</strong></p>
<p>Specifies the version number to include in the output.</p>
<p>The default value is 0.0.0.</p>
<p><strong>Tip:</strong> The toolkit ignores the value of this parameter when it processes an Eclipse map.</p>
</li>
<li>
<p><strong>args.eclipsehelp.country</strong></p>
<p>Specifies the region for the language that is specified by the args.</p>
<p>For example, us, ca, and gb would clarify a value of en set for the args.eclipsehelp.language parameter. The content will be moved into the appropriate directory structure for an Eclipse fragment.</p>
</li>
<li>
<p><strong>args.eclipsehelp.jar.name</strong></p>
<p>Specifies that the output should be zipped and returned using this name.</p>
</li>
<li>
<p><strong>args.eclipsehelp.language</strong></p>
<p>Specifies the base language for translated content, such as en for English.</p>
<p>This parameter is a prerequisite for the args.eclipsehelp.country parameter. The content will be moved into the appropriate directory structure for an Eclipse fragment.</p>
</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="parameters/../topics/dita2eclipsehelp.html">Eclipse help transformation</a></p>
<p><a href="parameters/../parameters/parameters-base.html">Common parameters</a></p>
<p><a href="parameters/../parameters/parameters-base-html.html">HTML-based output parameters</a></p>
<h1><a class="header" href="#other-parameters" id="other-parameters">Other parameters</a></h1>
<p>These parameters enable you to reload style sheets that DITA-OT uses for specific pre-processing stages.</p>
<ul>
<li>
<p><strong>dita.html5.reloadstylesheet dita.preprocess.reloadstylesheet dita.preprocess.reloadstylesheet.clean-map dita.preprocess.reloadstylesheet.conref dita.preprocess.reloadstylesheet.lag-module dita.preprocess.reloadstylesheet.mapref dita.preprocess.reloadstylesheet.mappull dita.preprocess.reloadstylesheet.maplink dita.preprocess.reloadstylesheet.topicpull dita.xhtml.reloadstylesheet</strong></p>
<p>Specifies whether DITA-OT reloads the XSL style sheets that are used for the transformation. The allowed values are true and false; the default value is false.</p>
<p>During the pre-processing stage, DITA-OT processes one DITA topic at a time, using the same XSLT stylesheet for the entire process. These parameters control whether Ant will use the same <code>Transformer</code> object in Java, the object that handles the XSLT processing, for all topics, or create a separate <code>Transformer</code> for each topic.</p>
<p>The default (false) option uses the same <code>Transformer</code>, which is a little faster, because it will not need to parse/compile the XSLT stylesheets and only needs to read the source trees with <code>document()</code> once. The downside is that it will not release the source trees from memory, so you can run out of memory.</p>
<p><strong>Tip:</strong> For large projects that generate Java out-of-memory errors during transformation, set the parameter to true to allow the XSLT processor to release memory. You may also need to increase the memory available to Java.</p>
</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="parameters/../topics/increasing-the-jvm.html">Increasing Java memory allocation</a></p>
<p><a href="parameters/../topics/other-errors.html">Other error messages</a></p>
<h1><a class="header" href="#configuration-properties" id="configuration-properties">Configuration properties</a></h1>
<p>DITA-OT uses .properties files and internal properties that store configuration settings for the toolkit and its plug-ins. Configuration properties are available to both Ant and Java processes, but unlike argument properties, they cannot be set at run time.</p>
<p>When DITA-OT starts the Ant process, it looks for property values in the following order and locations:</p>
<ol>
<li>Any property passed to Ant from the command line with -Dproperty or --property=value</li>
<li>A custom property file passed with --propertyfile</li>
<li>A local.properties file in the root directory of the DITA-OT installation</li>
<li>The lib/org.dita.dost.platform/plugin.properties file</li>
<li>The configuration.properties file</li>
</ol>
<p>If a given property is set in multiple places, the first value “wins” and subsequent entries for the same property are ignored.</p>
<p>You can use this mechanism to override DITA-OT default settings for your environment by passing parameters to the dita command with --property=value, or using entries in .properties files.</p>
<h1><a class="header" href="#the-localproperties-file" id="the-localproperties-file">The local.properties file</a></h1>
<p>A local.properties file in the root directory of the DITA-OT installation can be used to override the default values of various DITA-OT parameters.</p>
<p>For example, if you always use the same rendering engine to produce PDF output for all of your projects, you could create a local.properties file in the root directory of your DITA-OT installation to set the pdf.formatter parameter and additional options for the XSL processor:</p>
<pre><code># Use RenderX XEP Engine for PDF output
pdf.formatter = xep

# Specify the user configuration file for RenderX
custom.xep.config = /path/to/custom.config
</code></pre>
<p>Backslash “\” characters in .properties files must be escaped with a second backslash as “\\”. If you use Antenna House Formatter on a Windows system, for example, you would set the path to the command using a properties file entry like this:</p>
<pre><code># Use Antenna House Formatter for PDF output
pdf.formatter = ah

# Specify the path to the Antenna House Formatter command
axf.cmd=C:\\Program Files\\Antenna House\\AHFormatterV62
</code></pre>
<p><strong>Note:</strong> This file can only be used to set Ant property values that can be passed as argument parameters to the command line. The DITA-OT Java code does not read this file.</p>
<h1><a class="header" href="#the-pluginproperties-file" id="the-pluginproperties-file">The plugin.properties file</a></h1>
<p>The plugin.properties file is used to store configuration properties that are set by the plug-in installation process.</p>
<p>The file is located in the lib/org.dita.dost.platform directory of the DITA-OT installation and stores a cached version of the plug-in configuration used by the Java code.</p>
<p>The contents of this file depend on the installed plug-ins. Each plug-in may contribute properties such as the path to the plug-in folder, supported extensions and print transformation types.</p>
<p><strong>Warning:</strong> The plugin.properties file is regenerated each time the plug-in integration process is run, so it should not be edited manually as these changes would be lost the next time a plug-in is installed or removed.</p>
<h1><a class="header" href="#the-configurationproperties-file" id="the-configurationproperties-file">The configuration.properties file</a></h1>
<p>The configuration.properties file controls certain common properties, as well as some properties that control PDF processing.</p>
<p>The contents of the config/configuration.properties file are added to the DITA-OT configuration in the <code>dost-configuration.jar</code> file when the plug-in integration process runs. The following properties are typically set in this file:</p>
<ul>
<li>
<p><strong>default.cascade</strong></p>
<p>Specifies the processing default value for the DITA 1.3 <code>@cascade</code> attribute, which determines how map-level metadata attributes are applied to the children of elements where the attributes are specified. DITA-OT uses the merge value by default for backwards compatibility with DITA 1.2 and earlier.</p>
<p><strong>Warning:</strong> This property can only be set in configuration.properties and should not be modified.</p>
</li>
<li>
<p><strong>temp-file-name-scheme</strong></p>
<p>This setting specifies the name of the Java class that defines how the source URL of a topic is mapped to the URL of the temporary file name. The current default method uses a 1:1 mapping, though future implementations may use alternative approaches such as hashes or full absolute paths as file names.</p>
<p><strong>Warning:</strong> This property can only be set in configuration.properties and should not be modified.</p>
</li>
<li>
<p><strong>cli.color</strong></p>
<p>Specifies whether the dita command prints colored output on the command line console. When set to true, error messages in dita command output will appear in red on terminals that support <a href="https://en.wikipedia.org/wiki/ANSI_escape_code">ANSI escape codes</a>, such as on Linux or macOS. Set to false to disable the color. (Colored output is not supported on Windows consoles such as cmd.exe or PowerShell).</p>
</li>
<li>
<p><strong>plugindirs</strong></p>
<p>A semicolon-separated list of directory paths that DITA-OT searches for plug-ins to install; any relative paths are resolved against the DITA-OT base directory. Any immediate subdirectory that contains a plugin.xml file is installed.</p>
<p><strong>Tip:</strong> You can use this property to test custom plug-ins that are stored in other locations. For example, to install all of the sample plug-ins that are included in the DITA-OT documentation, append ;docsrc/samples/plugins to the property value and run dita --install. You can maintain custom plug-ins in version-controlled repositories outside of the DITA-OT installation directory, and add the repository locations to the list of plug-in directories here to test your code.</p>
</li>
<li>
<p><strong>plugin.ignores</strong></p>
<p>A semicolon-separated list of directory names to be ignored during plug-in installation; any relative paths are resolved against the DITA-OT base directory.</p>
</li>
<li>
<p><strong>plugin.order</strong></p>
<p>Defines the order in which plug-ins are processed. In XML catalog files, the order of imports is significant. If multiple plug-ins define the same thing (differently), the first catalog entry “wins”. DITA-OT uses this property to define the order in which catalog entries are written. This mechanism is currently used to ensure that DITA 1.3 grammar files take precedence over their DITA 1.2 equivalents.</p>
</li>
<li>
<p><strong>registry</strong></p>
<p>Defines the list (and order) of plug-in repositories that are searched for available plug-ins during the installation process. In addition to the main plug-in registry at <a href="https://www.dita-ot.org/plugins">dita-ot.org/plugins</a>, you can create a registry of your own to store the custom plug-ins for your company or organization. To add a new entry, append the URL for your custom registry directory to the <code>registry</code> key value, separating each entry with a space. For more information, see <a href="parameters/../topics/plugins-registry.html">Adding plug-ins via the registry</a>.</p>
</li>
<li>
<p><strong>org.dita.pdf2.i18n.enabled</strong></p>
<p>Enables internationalization (I18N) font processing to provide per-character font selection for FO renderers that do not support the <code>font-selection-strategy</code> property (such as Apache FOP).</p>
<p>When this feature is enabled, DITA-OT uses a font mapping process that takes the content language into consideration. The mapping process uses configuration files for each language to define characters that should be rendered with certain logical fonts, and font mappings that associate each logical font to physical font files.</p>
<p>The following values are allowed:</p>
<ul>
<li>true (default) — Enables font mapping</li>
<li>false — Disables font mapping
<strong>Tip:</strong> If you don’t use custom character mappings, turning off font mapping makes it easier to define custom fonts simply by changing font names in the XSL attributes files of your custom PDF plug-in. For details, see <a href="http://www.elovirta.com/2016/02/18/font-configuration-in-pdf2.html">Font configuration in PDF2</a>.</li>
</ul>
</li>
<li>
<p><strong>default.coderef-charset</strong></p>
<p>As of DITA-OT 3.3, the default character set for code references can be changed by specifying one of the character set values supported by the Java <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/charset/Charset.html">Charset</a> class.</p>
</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="parameters/../topics/plugins-installing.html">Installing plug-ins</a></p>
<p><a href="http://docs.oasis-open.org/dita/dita/v1.3/errata01/os/complete/part1-base/archSpec/base/cascading-in-a-ditamap.html#cascading-in-a-ditamap">DITA 1.3 specification: Cascading of metadata attributes in a DITA map</a></p>
<p><a href="http://docs.oasis-open.org/dita/dita/v1.3/errata01/os/complete/part1-base/archSpec/base/example-how-cascade-att-functions.html">Example: How the @cascade attribute functions</a></p>
<p><a href="http://www.elovirta.com/2016/02/18/font-configuration-in-pdf2.html">Font configuration in PDF2</a></p>
<h1><a class="header" href="#internal-ant-properties" id="internal-ant-properties">Internal Ant properties</a></h1>
<p>Reference list of Ant properties used by DITA-OT internally.</p>
<ul>
<li>
<p><strong><code>include.rellinks</code></strong></p>
<p>A space-separated list of link roles to be output; the <code>#default</code> value token represents links without an explicit role (those for which no <code>@role</code> attribute is defined). Defined by <code>args.rellinks</code>, but may be overridden directly. Valid roles include:</p>
<ul>
<li>parent</li>
<li>child</li>
<li>sibling</li>
<li>friend</li>
<li>next</li>
<li>previous</li>
<li>cousin</li>
<li>ancestor</li>
<li>descendant</li>
<li>sample</li>
<li>external</li>
<li>other</li>
</ul>
</li>
<li>
<p><strong><code>temp.output.dir.name</code></strong></p>
<p>An internal property for use with custom transform types; this property can be used to place all output in an internal directory, so that a final step in the transform type can do some form of post-processing before the files are placed in the specified output directory.</p>
<p>For example, if a custom HTML5 transform sets the property to <code>zip_dir</code>, all output files (including HTML, images, and CSS) will be placed within the directory zip_dir in the temporary processing directory. A final step can then be used to add more files, zip the directory, and return that zip to the designated output directory.</p>
</li>
</ul>
<h1><a class="header" href="#customizing-html-output" id="customizing-html-output">Customizing HTML output</a></h1>
<p>You can modify the look and feel of your HTML output by changing parameter settings to include custom CSS, headers and footers, or table-of-contents navigation in topics.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/html-customization-plugins.html">Custom HTML plug-ins</a></p>
<p><a href="https://www.oxygenxml.com/events/2017/dita-ot_day.html#Bootstrapping_DITA">Bootstrapping DITA - Customizing HTML output for modern web frameworks</a></p>
<h1><a class="header" href="#setting-parameters-for-custom-html" id="setting-parameters-for-custom-html">Setting parameters for custom HTML</a></h1>
<p>For simple branded HTML pages, you can adjust the look and feel of the default output to match your company style by setting parameters to include custom CSS, header branding, or table-of-contents navigation in topics. (These changes do not require a custom plug-in.)</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/html-customization-properties-file.html">Customizing HTML with a .properties file</a></p>
<p><a href="topics/../topics/dita2xhtml.html">XHTML transformation</a></p>
<p><a href="topics/../parameters/parameters-base.html">Common parameters</a></p>
<p><a href="topics/../parameters/parameters-base-html.html">HTML-based output parameters</a></p>
<p><a href="topics/../parameters/parameters-xhtml.html">XHTML parameters</a></p>
<p><a href="topics/../topics/dita2html5.html">HTML5 transformation</a></p>
<p><a href="topics/../parameters/parameters-html5.html">HTML5 parameters</a></p>
<h1><a class="header" href="#adding-navigation-to-topics" id="adding-navigation-to-topics">Adding navigation to topics</a></h1>
<p>In HTML5 output, you can set a parameter to include table-of-contents navigation in the <code>nav</code> element of each page. The navigation can be rendered in a sidebar or menu via CSS.</p>
<p>Earlier versions of DITA-OT used the TocJS transformation to render a JavaScript-based table of contents in an XHTML frameset for topic navigation. Recent toolkit versions provide a modern HTML5 navigation alternative.</p>
<p>As of DITA-OT 2.2, the nav-toc parameter can be used in HTML5 transformations to embed navigation directly in topics using native HTML5 elements without JavaScript or framesets.</p>
<ol>
<li>
<p>Set the nav-toc parameter to one of the following options:</p>
<ul>
<li>The partial option creates a table of contents with the portion of the navigation hierarchy that contains the current topic (along with its parents, siblings and children).</li>
<li>The full option embeds the complete navigation for the entire map in each topic.</li>
</ul>
</li>
<li>
<p>Add custom CSS rules to style the navigation.</p>
<p>For example, the DITA-OT documentation stylesheet includes the following rules to place the table of contents on the left side of the browser viewport and highlight the current topic in bold:</p>
<pre><code>nav[role='toc'] {
  float: left;
  width: 300px;
}

nav[role='toc'] li.active &gt; a {
  font-weight: bold;
}
</code></pre>
</li>
</ol>
<p><strong>Tip:</strong> For an example of HTML output generated using this method, see the HTML5 version of the DITA-OT documentation included in the installation folder under doc/index.html.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/html-customization-css.html">Adding custom CSS</a></p>
<p><a href="topics/../topics/html-customization-header.html">Adding custom headers and footers</a></p>
<p><a href="topics/../parameters/generate-copy-outer.html">Handling content outside the map directory</a></p>
<h1><a class="header" href="#adding-custom-css" id="adding-custom-css">Adding custom CSS</a></h1>
<p>To modify the appearance of the default HTML output that DITA Open Toolkit generates, you can reference a custom Cascading Style Sheet (CSS) file with the typography, colors, and other presentation aspects that define your corporate identity.</p>
<p>You can use this approach when you need to adjust the look and feel of the default output for a single project, but don’t want to create a custom DITA-OT plug-in.</p>
<p>You can version the CSS file along with the DITA source files in your project, so stylesheet changes can be tracked along with modifications to topic content.</p>
<p>You may also find this approach useful as you develop a custom stylesheet. Once the CSS rules stabilize, you can bundle the CSS file in a custom DITA-OT plug-in to ensure consistent HTML output across projects.</p>
<ol>
<li>
<p>Create a custom CSS file and store it in your project along with your DITA source files.</p>
<p><strong>Note:</strong> As a starting point, you can use the CSS file that is used for the DITA-OT documentation. This file is available in the installation folder under docsrc/resources/dita-ot-doc.css.</p>
</li>
<li>
<p>Set the args.css parameter to the name of your custom CSS file.</p>
<p>The value of this parameter should be only the file name. You can specify the absolute path to the file with args.cssroot.</p>
</li>
<li>
<p>Set the args.copycss parameter to yes.</p>
<p>This setting ensures that your custom CSS file will be copied to the output directory.</p>
</li>
<li>
<p>Set args.cssroot to the absolute path of the folder that contains your custom CSS file.</p>
</li>
<li>
<p>Set args.csspath to specify the location of the CSS file in the output folder.</p>
<p>If args.csspath is not set, the custom CSS file will be copied to the root level of the output folder. To copy the CSS file to a subfolder named css, set args.csspath to css.</p>
</li>
</ol>
<p><strong>Tip:</strong> For an example of HTML output generated using this method, see the HTML5 version of the DITA-OT documentation included in the installation folder under doc/index.html.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/html-customization-navigation.html">Adding navigation to topics</a></p>
<p><a href="topics/../topics/html-customization-header.html">Adding custom headers and footers</a></p>
<p><a href="topics/../parameters/generate-copy-outer.html">Handling content outside the map directory</a></p>
<p><a href="topics/../topics/html-customization-plugin-bundle-css.html">Bundling CSS in a custom HTML plug-in</a></p>
<h1><a class="header" href="#adding-custom-headers-and-footers" id="adding-custom-headers-and-footers">Adding custom headers and footers</a></h1>
<p>You add a custom header to include a publication title, company logo, or other common branding elements in HTML output. A custom footer can also be added with copyright information, legal boilerplate, or other fine print.</p>
<p>In HTML5 output, the contents of the header file will be wrapped in an HTML5 <code>header</code> element with the <code>@role</code> attribute set to banner. The footer file contents are wrapped in an HTML5 <code>footer</code> element with the <code>@role</code> attribute set to contentinfo.</p>
<p>For example, the DITA-OT documentation includes a simple header banner with the publication title and a horizontal rule to separate the header from the generated topic content:</p>
<pre><code>&lt;div class=&quot;header&quot;&gt;
  &lt;p&gt;DITA Open Toolkit&lt;/p&gt;
  &lt;hr/&gt;
&lt;/div&gt;
</code></pre>
<p><strong>Note:</strong> Header and footer files should be specified using absolute paths and must contain valid XML. A common practice is to place all content into a <code>div</code> element.</p>
<ol>
<li>
<p>Set args.hdr to include an XML file as a running header that appears above the page content.</p>
</li>
<li>
<p>Set args.ftr to include an XML file as a running footer that appears below the page content.</p>
</li>
<li>
<p>Add custom CSS rules to style headers and/or footers.</p>
<p>For example, the DITA-OT documentation stylesheet includes the following header rules:</p>
<pre><code>.header {
  font-size: 18pt;
  margin: 0;
  padding: 0 12px;
}

.header p {
  color: #1d365d;
  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
  line-height: 1.3;
  margin: 0;
}

.header hr {
  border: 0;
  border-bottom: 1px solid #eee;
  height: 0;
}
</code></pre>
</li>
</ol>
<p><strong>Tip:</strong> For an example of HTML output generated using this method, see the HTML5 version of the DITA-OT documentation included in the installation folder under doc/index.html.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/html-customization-navigation.html">Adding navigation to topics</a></p>
<p><a href="topics/../topics/html-customization-css.html">Adding custom CSS</a></p>
<p><a href="topics/../parameters/generate-copy-outer.html">Handling content outside the map directory</a></p>
<h1><a class="header" href="#handling-content-outside-the-map-directory" id="handling-content-outside-the-map-directory">Handling content outside the map directory</a></h1>
<p>By default, DITA-OT assumes content is located in or beneath the directory containing the DITA map file. The generate.copy.outer parameter can be used to adjust how output is generated for content that is located outside the map directory.</p>
<h2><a class="header" href="#background" id="background">Background</a></h2>
<p>This is an issue in the following situations:</p>
<ul>
<li>The DITA map is in a directory that is a peer to directories that contain referenced objects.</li>
<li>The DITA map is in a directory that is below the directories that contain the referenced objects.</li>
</ul>
<p>Let’s assume that the directory structure for the DITA content looks like the following:</p>
<pre><code>images/
  fig.png
maps/
  start.ditamap
topics/
  topic.dita
</code></pre>
<p>The DITA map is in the maps directory, the topics are in the topics directory, and the images are in the images directory.</p>
<h2><a class="header" href="#exclude-content-outside-the-map-directory" id="exclude-content-outside-the-map-directory">Exclude content outside the map directory</a></h2>
<p>Let’s assume that you run the HTML5 transformation. By default, DITA-OT uses the generate.copy.outer parameter with a value of 1, which means that no output is generated for content that is located outside the DITA map directory.</p>
<p>You receive only the following output:</p>
<pre><code>index.html
commonltr.css
commonrtl.css
</code></pre>
<p>The index.html file contains the navigation structure, but all the links are broken, since no HTML files were built for the topics.</p>
<p>How do you fix this? By adjusting the parameter setting to shift the output directory.</p>
<h2><a class="header" href="#shift-the-output-directory-to-include-all-content" id="shift-the-output-directory-to-include-all-content">Shift the output directory to include all content</a></h2>
<p>To preserve the links to referenced topics and images and make it easier to copy the output directory, set the generate.copy.outer parameter to 3.</p>
<p>Now your output directory structure resembles the structure of the source directory:</p>
<pre><code>images/
  fig.png
maps/
  index.html
topics/
  topic.html
commonltr.css
commonrtl.css
</code></pre>
<p>The index.html file is in the maps directory, the HTML files for the topics are in the topics directory, and the referenced images are in the images directory.</p>
<p><strong>Tip:</strong> If args.csspath is not set, the default CSS files (and any custom CSS files specified via args.css) will be copied to the root level of the output folder. To copy CSS files to an output subfolder named css, set args.csspath to css.</p>
<p><strong>Related information</strong></p>
<p><a href="parameters/../topics/html-customization-navigation.html">Adding navigation to topics</a></p>
<p><a href="parameters/../topics/html-customization-css.html">Adding custom CSS</a></p>
<p><a href="parameters/../topics/html-customization-header.html">Adding custom headers and footers</a></p>
<h1><a class="header" href="#customizing-html-with-a-properties-file" id="customizing-html-with-a-properties-file">Customizing HTML with a .properties file</a></h1>
<p>You can also use a .properties file to reference a set of build parameters when building output with the dita command. The DITA-OT documentation uses a .properties file to include custom CSS, header branding, and table-of-contents navigation in the HTML5 output.</p>
<ol>
<li>
<p>Create a .properties file to store the parameter settings for your customization.</p>
<p><strong>Tip:</strong> You can use one of the sample .properties files from the DITA-OT documentation as a starting point for your own customizations. These files are available in the installation folder under docsrc/samples/properties/.</p>
<p>For example:</p>
<pre><code># Directory that contains the custom .css file:
args.cssroot = ${args.input.dir}/css/

# Custom .css file used to style output:
args.css = style.css

# Copy the custom .css file to the output directory:
args.copycss = yes

# Location of the copied .css file relative to the output:
args.csspath = branding

# Generate a full navigation TOC in topic pages:
nav-toc = full
</code></pre>
</li>
<li>
<p>Reference your .properties file with the dita command when building your output.</p>
<pre><code class="language-syntax-bash">dita --input=my.ditamap --format=html5 --propertyfile=my.properties
</code></pre>
</li>
</ol>
<p><strong>Note:</strong> For an example of HTML output generated using this method, see the HTML5 version of the DITA-OT documentation included in the installation folder under doc/index.html.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/html-customization-parameters.html">Setting parameters for custom HTML</a></p>
<h1><a class="header" href="#customizing-pdf-output" id="customizing-pdf-output">Customizing PDF output</a></h1>
<p>You can adjust various aspects of PDF output by changing parameter settings. For more complex customizations, you can create custom DITA-OT plug-ins.</p>
<p>For example:</p>
<ul>
<li>To print the file names of the graphics underneath figures, set args.artlbl to yes.</li>
<li>To disable the subsection links on the first page of each chapter, set args.chapter.layout to BASIC.</li>
<li>To change the name of the PDF file to something other than the input map name, set outputFile.base to the desired file name (without the .pdf extension).</li>
</ul>
<p><strong>Note:</strong> For the full list of settings for PDF output, see <a href="topics/../parameters/parameters-pdf.html">PDF parameters</a>.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/pdf-customization-plugins.html">Custom PDF plug-ins</a></p>
<h1><a class="header" href="#pdf-customization-approaches" id="pdf-customization-approaches">PDF customization approaches</a></h1>
<p>Various methods may be used to customize the PDF output that DITA Open Toolkit produces. Each of these approaches have advantages and shortcomings that should be considered when preparing a customization project.</p>
<p><strong>Note:</strong> Some of these methods are considered “anti-patterns” with disadvantages that outweigh their apparent appeal. In most cases, you should create a custom PDF plug-in.</p>
<h2><a class="header" href="#why-not-edit-default-files" id="why-not-edit-default-files">Why not edit default files?</a></h2>
<p>When first experimenting with PDF customization, novice users are often tempted to simply edit the default org.dita.pdf2 files in place to see what happens.</p>
<p>As practical as this approach may seem, the DITA-OT project does not recommend changing any of the files in the default plug-ins.</p>
<p>While this method yields quick results and can help users to determine which files and templates control various aspects of PDF output, it quickly leads to problems, as any errors may prevent the toolkit from generating PDF output.</p>
<p><strong>Warning:</strong> Any changes made in this fashion would be overwritten when upgrading to newer versions of DITA-OT, so users that have customized their toolkit installation in this way are often “stuck” on older versions of the toolkit and unable to take advantage of improvements in recent versions of DITA-OT.</p>
<h2><a class="header" href="#using-the-customization-folder" id="using-the-customization-folder">Using the Customization folder</a></h2>
<p>The original Idiom plug-in used its own extension mechanism to provide overrides to the PDF transformation. With this approach, a dedicated folder within the plug-in is used to store customized files.</p>
<p>Files in the org.dita.pdf2/Customization folder can override their default counterparts, allowing users to adjust certain aspects of PDF output without changing any of the plug-in’s default files, or specifying additional parameters when generating output.</p>
<p><strong>Important:</strong> While this approach is slightly better than editing default files in place, it can still cause problems when upgrading the toolkit to a new version. Since the Customization folder is located within the org.dita.pdf2 plug-in’s parent directory, users must be take care to preserve the contents of this folder when upgrading to new toolkit versions.</p>
<p>Although recent versions of DITA-OT still support this mechanism to ensure backwards compatibility, this practice is deprecated in favor of custom PDF plug-ins.</p>
<p><strong>Tip:</strong> Users who have used the Customization folder to modify the default PDF output are encouraged to create a custom PDF plug-in instead. In many cases, this may be as simple as copying the contents of the Customization folder to a new subfolder in the plugins folder and creating the necessary plugin.xml file and an Ant script to define the transformation type as described in the following example.</p>
<h2><a class="header" href="#specifying-an-external-customization-directory" id="specifying-an-external-customization-directory">Specifying an external customization directory</a></h2>
<p>To ensure that overrides in customization folders are not overwritten when upgrading DITA-OT to a new release, an external customization directory can be specified at build time or in build scripts via the customization.dir parameter.</p>
<p>This method is preferable to the use of the org.dita.pdf2/Customization folder, as the contents of external folders are unaffected when upgrading DITA-OT. In distributed environments, users can use local installations of DITA-OT, yet still take advantage of common customizations stored in a network location available to the entire team, such as a shared drive.</p>
<p>It can also be useful in environments where corporate policy, CMS permissions, or network access rights prevent changes to the toolkit installation, which may prohibit the installation of custom plug-ins.</p>
<p><strong>Tip:</strong> Users who specify external customization directories via customization.dir are encouraged to create a custom PDF plug-in if possible.</p>
<h2><a class="header" href="#combining-custom-plug-ins--customization-directories" id="combining-custom-plug-ins--customization-directories">Combining custom plug-ins &amp; customization directories</a></h2>
<p>A common custom plug-in may be used to store base overrides that are applicable to all company publications, and the customization.dir parameter can be passed at build time to override individual settings as necessary for a given project or publication.</p>
<p>In this case, any settings in the customization directory will take precedence over their counterparts in the custom plug-in or default org.dita.pdf2 plug-in.</p>
<p>This approach allows a single custom plug-in to be shared between multiple publications or the entire company, without the need to create additional plug-in dependencies per project.</p>
<p>However, the use of multiple customization mechanisms can make it difficult to debug the precedence cascade and determine the origin of local formatting or processing overrides.</p>
<p><strong>Tip:</strong> In most scenarios, the use of dedicated PDF customization plug-ins is preferable. Common customizations can be bundled in one plug-in, and any project-specific overrides can be maintained in separate plug-ins that build on the base branding or other settings in the common custom plug-in.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/pdf-customization-plugins.html">Custom PDF plug-ins</a></p>
<h1><a class="header" href="#generating-revision-bars" id="generating-revision-bars">Generating revision bars</a></h1>
<p>You can generate revision bars in your PDF output by using the <code>@changebar</code> and <code>@color</code> attributes of the DITAVAL <code>revprop</code> element.</p>
<p>The DITA <a href="http://docs.oasis-open.org/dita/dita/v1.3/errata02/os/complete/part3-all-inclusive/langRef/ditaval/ditaval-revprop.html#ditaval-revprop">specification</a> for the <code>@changebar</code> attribute of the <code>revprop</code> element simply says:</p>
<ul>
<li>
<blockquote>
<p><strong><code>@changebar</code></strong></p>
</blockquote>
<blockquote>
<p>When flag has been set, specify a changebar color, style, or character, according to the changebar support of the target output format. If flag has not been set, this attribute is ignored.</p>
</blockquote>
</li>
</ul>
<p>The current version of DITA Open Toolkit uses two <code>revprop</code> attribute values to define revision bars:</p>
<ul>
<li>
<p>The <code>@changebar</code> attribute value defines the style to use for the line. The list of possible values is the same as for other XSL-FO rules (see <a href="http://www.w3.org/TR/xsl/#change-bar-style">@change-bar-style</a>). The default value is groove.</p>
</li>
<li>
<p>The <code>@color</code> attribute value specifies the change bar color using any color value recognized by XSL-FO, including the usual color names or a hex color value. The default value is black.</p>
</li>
</ul>
<pre><code class="language-language-xml">&lt;revprop action=&quot;flag&quot; changebar=&quot;solid&quot; color=&quot;green&quot;/&gt;
</code></pre>
<p>DITA-OT uses a default offset of 2 mm to place the revision bar near the edge of the text column. The offset, placement and width are not currently configurable via attribute values.</p>
<p>XSL-FO 1.1 does not provide for revision bars that are not rules, so there is no way to get text revision indicators instead of rules, for example, using a number in place of a rule. Antenna House Formatter provides a proprietary extension to enable this, but the DITA-OT PDF transformation does not take advantage of it.</p>
<h1><a class="header" href="#adding-and-removing-plug-ins" id="adding-and-removing-plug-ins">Adding and removing plug-ins</a></h1>
<p>You can extend DITA-OT with additional plug-ins to change the default output types in various ways, add entirely new kinds of output formats, or implement DITA specializations. A variety of open source plug-ins are available from the plug-in registry at <a href="https://www.dita-ot.org/plugins">dita-ot.org/plugins</a>.</p>
<h1><a class="header" href="#installing-plug-ins" id="installing-plug-ins">Installing plug-ins</a></h1>
<p>Use the dita install subcommand to install plug-ins.</p>
<ol>
<li>
<p>At the command-line prompt, enter the following command:</p>
<pre><code class="language-syntax-bash">dita install &lt;plug-in\&gt;
</code></pre>
<p>where:</p>
<ul>
<li>the optional &lt;plug-in&gt; argument is one of the following:
<ul>
<li>the unique ID of the plug-in as defined in the plug-in registry at <a href="https://www.dita-ot.org/plugins">dita-ot.org/plugins</a> (or a local registry)</li>
<li>the remote URL of the plug-in’s distribution ZIP file</li>
<li>the name of a local ZIP file
<strong>Note:</strong> In earlier versions of DITA-OT (2.4–3.4), use the double-hyphen option syntax dita --install. In DITA-OT 2.0–2.3, use the single-hyphen form: dita -install.</li>
</ul>
</li>
</ul>
<p><strong>Tip:</strong> If no ID, URL, or file argument is provided, the installation process reloads the current set of plug-ins from the plugins directory (or any custom locations defined via the pluginsdir property in the configuration.properties file in the config directory). This approach can be used to add or remove multiple plug-ins at once, or any individual plug-ins you have already copied to (or removed from) the plug-in directories. Any plug-ins added or removed in the process will be listed by their plug-in ID.</p>
</li>
</ol>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/custom-plugins.html">Creating custom plug-ins</a></p>
<p><a href="topics/../topics/plugins-registry.html">Adding plug-ins via the registry</a></p>
<p><a href="topics/../parameters/configuration-properties-file.html">The configuration.properties file</a></p>
<p><a href="topics/../parameters/dita-command-arguments.html">Arguments and options for the dita command</a></p>
<p><a href="https://www.oxygenxml.com/events/2018/dita-ot_day.html#plug-in_installation_made_easier">Plug-in installation made easier</a></p>
<h1><a class="header" href="#removing-plug-ins" id="removing-plug-ins">Removing plug-ins</a></h1>
<p>Use the dita uninstall subcommand to remove a plug-in.</p>
<ol>
<li>
<p>At the command-line prompt, enter the following command:</p>
<pre><code class="language-syntax-bash">dita uninstall &lt;plug-in-id\&gt;
</code></pre>
<p>where:</p>
<ul>
<li>&lt;plug-in-id&gt; is the unique ID of the plug-in, as defined in the plug-in’s configuration file (plugin.xml).
<strong>Note:</strong> In earlier versions of DITA-OT (2.4–3.4), use the double-hyphen option syntax dita --uninstall. In DITA-OT 2.0–2.3, use the single-hyphen form: dita -uninstall.</li>
</ul>
<p><strong>Attention:</strong> The uninstall subcommand also removes the corresponding plug-in directory from the plugins folder.</p>
</li>
</ol>
<p><strong>Related information</strong></p>
<p><a href="topics/../parameters/dita-command-arguments.html">Arguments and options for the dita command</a></p>
<p><a href="https://www.oxygenxml.com/events/2019/dita-ot_day.html#trim_your_toolkit">Trim your toolkit with this one weird trick!</a></p>
<h1><a class="header" href="#adding-plug-ins-via-the-registry" id="adding-plug-ins-via-the-registry">Adding plug-ins via the registry</a></h1>
<p>DITA-OT 3.2 supports a new plug-in registry that makes it easier to discover and install new plug-ins. The registry provides a searchable list of plug-ins at <a href="https://www.dita-ot.org/plugins">dita-ot.org/plugins</a>.</p>
<p>In the past, installing plug-ins required you to either download a plug-in to your computer and provide the path to the plug-in archive (.zip file) or pass the URL of the plug-in distribution file to the dita command and let DITA-OT download the file. This required that you know the URL of the plug-in distribution package.</p>
<h2><a class="header" href="#installing-plug-ins-from-the-registry" id="installing-plug-ins-from-the-registry">Installing plug-ins from the registry</a></h2>
<p>With the registry, you can now search the list of available plug-ins at <a href="https://www.dita-ot.org/plugins">dita-ot.org/plugins</a> and install new plug-ins by name and optional version.</p>
<p>Search the registry for a plug-in and install it by providing the plug-in name to the dita command.</p>
<pre><code class="language-syntax-bash">dita --install=&lt;plugin-name\&gt;
</code></pre>
<p>If the registry includes multiple versions of the same plug-in, you can specify the version to install as follows:</p>
<pre><code class="language-syntax-bash">dita --install=&lt;plugin-name\&gt;@&lt;plugin-version\&gt;
</code></pre>
<p>If the plug-in requires other plug-ins, those are also installed recursively.</p>
<p>For example, to revert PDF output to the legacy PDF2 layout that was the default in DITA-OT before 2.5, install the org.dita.pdf2.legacy plug-in as follows:</p>
<pre><code class="language-syntax-bash">dita --install=org.dita.pdf2.legacy
</code></pre>
<p>If a matching plug-in cannot be found, an error message will appear. Possible reasons for failure include:</p>
<ul>
<li>A plug-in with the specified name was not found in the registry</li>
<li>A plug-in with the specified version was not found in the registry</li>
<li>The specified plug-in version is not compatible with the installed DITA-OT version</li>
<li>None of the available plug-in versions are compatible with the installed DITA-OT version</li>
</ul>
<h2><a class="header" href="#publishing-plug-ins-to-the-registry" id="publishing-plug-ins-to-the-registry">Publishing plug-ins to the registry</a></h2>
<p>The contents of the DITA Open Toolkit plug-in registry are stored in a Git repository at <a href="https://github.com/dita-ot/registry">github.com/dita-ot/registry</a>. New plug-ins or new versions can be added by sending a <a href="https://help.github.com/articles/about-pull-requests/">pull request</a> that includes a single new plug-in entry in JavaScript Object Notation (JSON) format.</p>
<p><strong>Note:</strong> As for all other contributions to the project, pull requests to the registry must be signed off by passing the <code>--signoff</code> option to the git commit command to certify that you have the rights to submit this contribution. For more information on this process, see <a href="https://www.dita-ot.org/DCO">signing your work</a>.</p>
<p>The version entries for each plug-in are stored in a file that is named after the plug-in ID as <code>&lt;plugin-name&gt;.json</code>. The file contains an array of entries with a pre-defined structure. You should have one entry for each supported version of the plug-in.</p>
<table><thead><tr><th>Key</th><th>Mandatory</th><th>Description</th></tr></thead><tbody>
<tr><td><code>name</code></td><td>yes</td><td>Plug-in name</td></tr>
<tr><td><code>vers</code></td><td>yes</td><td>Plug-in version in <a href="https://semver.org">semantic versioning</a> format</td></tr>
<tr><td><code>deps</code></td><td>yes</td><td>Array of dependency entries. The only mandatory plug-in dependency is <code>org.dita.base</code>, which defines the supported DITA-OT platform.</td></tr>
<tr><td><code>url</code></td><td>yes</td><td>Absolute URL to plug-in distribution file</td></tr>
<tr><td><code>cksum</code></td><td>no</td><td>SHA-256 hash of the plug-in distribution file</td></tr>
<tr><td><code>description</code></td><td>no</td><td>Description of the plug-in</td></tr>
<tr><td><code>keywords</code></td><td>no</td><td>Array of keywords</td></tr>
<tr><td><code>homepage</code></td><td>no</td><td>Plug-in homepage URL</td></tr>
<tr><td><code>license</code></td><td>no</td><td>License in <a href="https://spdx.org/licenses/">SPDX</a> format</td></tr>
</tbody></table>
<p><strong>Tip:</strong> To calculate the SHA-256 checksum for the <code>cksum</code> key, use <code>shasum -a 256 &lt;plugin-file\&gt;</code> on macOS or Linux. With Windows PowerShell, use <code>[Get-FileHash](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/get-filehash?view=powershell-6) &lt;plugin-file\&gt; | Format-List</code>.</p>
<table><thead><tr><th>Key</th><th>Mandatory</th><th>Description</th></tr></thead><tbody>
<tr><td><code>name</code></td><td>yes</td><td>Plug-in name</td></tr>
<tr><td><code>req</code></td><td>yes</td><td>Required plug-in version in <a href="https://semver.org">semantic versioning</a> format that may contain <a href="https://docs.npmjs.com/misc/semver#ranges">ranges</a>.</td></tr>
</tbody></table>
<p><strong>Note:</strong> Version numbers in the <code>vers</code> and <code>req</code> keys use the three-digit format specified by <a href="https://semver.org">semantic versioning</a>. An initial development release of a plug-in might start at version 0.1.0, and an initial production release at 1.0.0. If your plug-in requires DITA-OT 3.1 or later, set the <code>req</code> key to <code>&gt;=3.1.0</code>. Using the greater-than sign allows your plug-in to work with compatible maintenance releases, such as 3.1.3. If the requirement is set to <code>=3.1.0</code>, the registry will only offer it for installation on that exact version.</p>
<h2><a class="header" href="#sample-plug-in-entry-file" id="sample-plug-in-entry-file">Sample plug-in entry file</a></h2>
<p>The example below shows an entry for the <code>DocBook</code> plug-in. The complete file is available in the registry as <a href="https://github.com/dita-ot/registry/blob/master/org.dita.docbook.json">org.dita.docbook.json</a>.</p>
<pre><code class="language-language-json">[
  {
    &quot;name&quot;: &quot;org.dita.docbook&quot;,
    &quot;description&quot;: &quot;Convert DITA to DocBook.&quot;,
    &quot;keywords&quot;: [&quot;DocBook&quot;],
    &quot;homepage&quot;: &quot;https://github.com/dita-ot/org.dita.docbook/&quot;,
    &quot;vers&quot;: &quot;2.3.0&quot;,
    &quot;license&quot;: &quot;Apache-2.0&quot;,
    &quot;deps&quot;: [
      {
        &quot;name&quot;: &quot;org.dita.base&quot;,
        &quot;req&quot;: &quot;&gt;=2.3.0&quot;
      }
    ],
    &quot;url&quot;: &quot;https://github.com/dita-ot/org.dita.docbook/archive/2.3.zip&quot;,
    &quot;cksum&quot;: &quot;eaf06b0dca8d942bd4152615e39ee8cfb73a624b96d70e10ab269ed6f8a13e21&quot;
  }
]
</code></pre>
<h2><a class="header" href="#maintaining-multiple-plug-in-versions" id="maintaining-multiple-plug-in-versions">Maintaining multiple plug-in versions</a></h2>
<p>When you have multiple versions of a plug-in, include an entry for each version, separated by a comma:</p>
<pre><code class="language-language-json">[
  {
    &quot;name&quot;: &quot;org.example.myplugin&quot;,
     ⋮
    &quot;vers&quot;: &quot;1.0.1&quot;,
     ⋮
  }**,**
  {
    &quot;name&quot;: &quot;org.example.myplugin&quot;,
     ⋮
    &quot;vers&quot;: &quot;2.1.0&quot;,
     ⋮
  }
]
</code></pre>
<p><strong>Tip:</strong> To publish a new version of your plug-in to the registry, add a new entry to the array in the existing plug-in entry file rather than overwriting an existing entry. This allows users to install the previous version of the plug-in if they are using an older version of DITA-OT.</p>
<h2><a class="header" href="#adding-custom-registries" id="adding-custom-registries">Adding custom registries</a></h2>
<p>In addition to the main plug-in registry at <a href="https://www.dita-ot.org/plugins">dita-ot.org/plugins</a>, you can create a registry of your own to store the custom plug-ins for your company or organization.</p>
<p>A registry is just a directory that contains JSON files like the one above; each JSON file represents one entry in the registry. To add a custom registry location, edit the config/configuration.properties file in the DITA-OT installation directory and add the URL for your custom registry directory to the <code>registry</code> key value, separating each entry with a space.</p>
<p><strong>Tip:</strong> Custom registry entries are a simple way to test your own plug-in entry file before submitting to a common registry.</p>
<h2><a class="header" href="#testing-with-a-custom-registry" id="testing-with-a-custom-registry">Testing with a custom registry</a></h2>
<p>To test your plug-in entry with a custom registry:</p>
<ol>
<li>
<p>Fork the plug-in registry, which creates a new repository under your GitHub username — for example, <code>https://github.com/USERNAME/registry.git</code>.</p>
</li>
<li>
<p>Create a new branch for your plug-in entry, and add the JSON file to the branch — for example, create org.example.newPlugin.json in the branch <code>addPlugin</code>.</p>
</li>
<li>
<p>As long as your repository is accessible, that branch now represents a working “custom registry” that can be added to the config/configuration.properties file. Edit the <code>registry</code> key and add the raw GitHub URL for the branch that contains the JSON file. With the example username and branch name above, you can add your registry with:</p>
<pre><code class="language-language-properties">registry=https://raw.githubusercontent.com/USERNAME/registry/addPlugin/ http://plugins.dita-ot.org/
</code></pre>
</li>
<li>
<p>You can now test the plug-in installation with:</p>
<pre><code>dita --install=org.example.newPlugin
</code></pre>
</li>
<li>
<p>Once you’ve confirmed that the entry works, you can submit a pull request to have your entry added to the common registry.</p>
</li>
</ol>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/plugins-installing.html">Installing plug-ins</a></p>
<p><a href="https://www.oxygenxml.com/events/2019/dita-ot_day.html#the_art_of_doing_nothing">The Art of doing nothing</a></p>
<p><a href="https://www.oxygenxml.com/events/2019/dita-ot_day.html#all_the_cool_kids_are_using_the_cloud">All the cool kids are using the Cloud</a></p>
<p><a href="https://www.oxygenxml.com/events/2019/dita-ot_day.html#all_the_cool_kids_are_using_javascript">All the cool kids are using JavaScript</a></p>
<p><a href="https://www.oxygenxml.com/events/2019/dita-ot_day.html#ah_wml_dita_to_word_plug-in">AH-WML DITA-to-Word Plug-in</a></p>
<p><a href="https://www.oxygenxml.com/events/2018/dita-ot_day.html#apply_your_style_guide_rules_during_the_publication">Validation meets publication - Apply your style guide rules during the publication</a></p>
<p><a href="https://www.oxygenxml.com/events/2018/dita-ot_day.html#overview_of_dita-semia_open-source_plugins_for_DITA-OT">Overview of dita-semia open-source plugins for DITA-OT</a></p>
<p><a href="https://www.oxygenxml.com/events/2018/dita-ot_day.html#unit_testing_DITA-OT_plugin_extensions">Unit Testing DITA-OT Plugin Extensions</a></p>
<p><a href="https://www.oxygenxml.com/events/2018/dita-ot_day.html#plug-in_installation_made_easier">Plug-in installation made easier</a></p>
<p><a href="https://www.oxygenxml.com/events/2016/dita-ot_day.html#DITA_terminology_management_checking">DITA terminology management and checking</a></p>
<h1><a class="header" href="#rebuilding-the-dita-ot-documentation" id="rebuilding-the-dita-ot-documentation">Rebuilding the DITA-OT documentation</a></h1>
<p>When you add or remove plug-ins, you can rebuild the documentation to update the information on the extension points, messages, and parameters that are available in your environment.</p>
<p>DITA-OT ships with a <a href="https://gradle.org">Gradle</a> build script that enables you to rebuild the toolkit documentation. The build script reads the toolkit’s plug-in configuration and automatically regenerates topics and properties file templates based on the extension points, messages, and parameters provided by the installed plug-ins.</p>
<p><strong>Attention:</strong> If you have installed new plug-ins, you may need to add the corresponding generated topics to the DITA maps to include the new information in the output.</p>
<ol>
<li>
<p>Change to the docsrc/ subdirectory of the DITA-OT installation.</p>
</li>
<li>
<p>Run one of the following commands.</p>
<ul>
<li>
<p>On Linux and macOS:</p>
<pre><code>./gradlew target
</code></pre>
</li>
<li>
<p>On Windows:</p>
<pre><code>gradlew.bat target
</code></pre>
</li>
</ul>
<p>The target parameter is optional and specifies a transformation type. It takes the following values:</p>
<ul>
<li>html</li>
<li>htmlhelp</li>
<li>pdf
If you do not specify a target, HTML5 and PDF output is generated.</li>
</ul>
</li>
</ol>
<h1><a class="header" href="#creating-custom-plug-ins" id="creating-custom-plug-ins">Creating custom plug-ins</a></h1>
<p>In addition to adding plug-ins from the plug-in registry at <a href="https://www.dita-ot.org/plugins">dita-ot.org/plugins</a>, you can create custom DITA-OT plug-ins of your own to modify the default output, add new output formats, support new languages, or implement DITA topic specializations.</p>
<p>A plug-in consists of a directory, typically stored within the plugins/ subdirectory of the DITA-OT installation. Every plug-in is controlled by a file named plugin.xml, which is located in the root directory of the plug-in.</p>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2018/dita-ot_day.html#step_by_step_implementation_of_a_DITA">Step by step implementation of a DITA Open Toolkit plugin</a></p>
<h1><a class="header" href="#plug-in-benefits" id="plug-in-benefits">Plug-in benefits</a></h1>
<p>Plug-ins allow you to extend the toolkit in a way that is consistent, easy-to-share, and possible to preserve through toolkit upgrades.</p>
<p>The DITA-OT plug-in mechanism provides the following benefits:</p>
<ul>
<li>Plug-ins can easily be shared with other users, teams, or companies. Typically, all users need to do is to unzip and run a single installation command. With many builds, even that installation step is automatic.</li>
<li>Plug-ins permit overrides or customizations to grow from simple to complex over time, with no increased complexity to the extension mechanism.</li>
<li>Plug-ins can be moved from version to version of DITA-OT by reinstalling or copying the directory from one installation to another. There is no need to re-integrate code based on updates to DITA-OT core processing.</li>
<li>Plug-ins can build upon each other. If you like a plug-in, simply install that plug-in, and then create your own plug-in that builds on top of it. The two plug-ins can then be distributed to your team as a unit, or you can share your own extensions with the original provider.</li>
</ul>
<h1><a class="header" href="#plug-in-descriptor-file" id="plug-in-descriptor-file">Plug-in descriptor file</a></h1>
<p>The plug-in descriptor file (plugin.xml) controls all aspects of a plug-in, making each extension visible to the rest of the toolkit. The file uses pre-defined extension points to locate changes, and then integrates those changes into the core DITA-OT code.</p>
<h2><a class="header" href="#validating-plug-ins" id="validating-plug-ins">Validating plug-ins</a></h2>
<p>DITA-OT includes a RELAX NG schema file that can be used to validate the plugin.xml files that define the capabilities of each plug-in.</p>
<p>To ensure the syntax of your custom plug-in is correct, include an <code>xml-model</code> processing instruction at the beginning of the plugin.xml file, immediately after the XML prolog:</p>
<p><code>xml-model href=&quot;dita-ot/plugin.rnc&quot; type=&quot;application/relax-ng-compact-syntax&quot;</code></p>
<p>If your authoring environment does not apply this schema automatically, point your editor to dita-ot-dir/resources/plugin.rnc to associate the schema with your plug-in file.</p>
<h2><a class="header" href="#plug-in-identifiers" id="plug-in-identifiers">Plug-in identifiers</a></h2>
<p>Every DITA-OT plug-in must have a unique identifier composed of one or more dot-delimited tokens, for example, <code>com.example.rss</code>. This identifier is used to identify the plug-in to the toolkit for installation, processing, and when determining plug-in dependencies.</p>
<p><strong>Note:</strong> The default DITA-OT plug-ins use a reverse domain naming convention, as in <code>org.dita.html5</code>; this is strongly recommended to avoid plug-in naming conflicts.</p>
<p>Each token can include only the following characters:</p>
<ul>
<li>Lower-case letters (a-z)</li>
<li>Upper-case letters (A-Z)</li>
<li>Numerals (0-9)</li>
<li>Underscores (_)</li>
<li>Hyphens (-)</li>
</ul>
<h2><a class="header" href="#plugin" id="plugin"><code>plugin</code></a></h2>
<p>The root element of the plugin.xml file is <code>plugin</code>, which has a required <code>@id</code> attribute set to the unique plug-in identifier.</p>
<pre><code class="language-language-xml">&lt;plugin id=&quot;com.example.html5-javascript&quot;&gt;
</code></pre>
<h2><a class="header" href="#plug-in-elements" id="plug-in-elements">Plug-in elements</a></h2>
<p>The <code>plugin</code> element can contain the following child elements:</p>
<ul>
<li>
<p><strong><code>extension-point</code></strong></p>
<p>An optional element that defines a new extension point that can be used by other DITA-OT plug-ins.</p>
<p>The following attributes are supported:</p>
<table><thead><tr><th>Attribute</th><th>Description</th><th>Required?</th></tr></thead><tbody>
<tr><td><strong>id</strong></td><td>Extension point identifier</td><td>Yes</td></tr>
<tr><td><strong>name</strong></td><td>Extension point description</td><td>No</td></tr>
</tbody></table>
<p>Like plug-in identifiers, extension point identifiers are composed of one or more dot-delimited tokens.</p>
<p><strong>Note:</strong> Extension point identifiers should begin with the identifier of the defining plug-in and append one or more tokens, for example, <code>org.dita.example.pre</code>.</p>
<pre><code class="language-language-xml">&lt;extension-point id=&quot;dita.xsl.html5&quot; name=&quot;HTML5 XSLT import&quot;/&gt;
</code></pre>
</li>
<li>
<p><strong><code>feature</code></strong></p>
<p>An optional element that supplies values to a DITA-OT extension point.</p>
<p>The following attributes are supported:</p>
<table><thead><tr><th>Attribute</th><th>Description</th><th>Required?</th></tr></thead><tbody>
<tr><td><strong>extension</strong></td><td>Identifier of the DITA-OT extension point</td><td>Yes</td></tr>
<tr><td><strong>value</strong></td><td>Comma separated string value of the extension</td><td>Either the <code>@value</code> or <code>@file</code> attribute must be specified</td></tr>
<tr><td><strong>file</strong></td><td>Name and path of a file containing data for the extension point. Depending on the extension point, this might be specified as an absolute path, a path relative to the plugin.xml file, or a path relative to the DITA-OT root.</td><td></td></tr>
</tbody></table>
</li>
</ul>
<p>|Either the <code>@value</code> or <code>@file</code> attribute must be specified|
|<strong>type</strong>|Type of the <code>@value</code> attribute|No|</p>
<pre><code>If more than one `feature` element supplies values to the same extension point, the values are additive. For example, the following are equivalent:

```language-xml
&lt;feature extension=&quot;org.dita.example.extension-point&quot; value=&quot;a,b,c&quot;/&gt;
```

```language-xml
&lt;feature extension=&quot;org.dita.example.extension-point&quot; value=&quot;a&quot;/&gt;
&lt;feature extension=&quot;org.dita.example.extension-point&quot; value=&quot;b&quot;/&gt;
&lt;feature extension=&quot;org.dita.example.extension-point&quot; value=&quot;c&quot;/&gt;
```
</code></pre>
<ul>
<li>
<p><strong><code>meta</code></strong></p>
<p>An optional element that defines metadata.</p>
<p>The following attributes are supported:</p>
<table><thead><tr><th>Attribute</th><th>Description</th><th>Required?</th></tr></thead><tbody>
<tr><td><strong>type</strong></td><td>Metadata name</td><td>Yes</td></tr>
<tr><td><strong>value</strong></td><td>Metadata value</td><td>Yes</td></tr>
</tbody></table>
<pre><code class="language-language-xml">&lt;meta type=&quot;foo&quot; value=&quot;bar&quot;/&gt;
</code></pre>
</li>
<li>
<p><strong><code>require</code></strong></p>
<p>An optional element that defines plug-in dependencies.</p>
<p>The following attributes are supported:</p>
<table><thead><tr><th>Attribute</th><th>Description</th><th>Required?</th></tr></thead><tbody>
<tr><td><strong>plugin</strong></td><td>The identifier of the required plug-in. To specify alternative requirements, separate plug-in identifiers with a vertical bar.</td><td></td></tr>
</tbody></table>
</li>
</ul>
<p>|Yes|
|<strong>importance</strong>|Identifies whether the plug-in is <code>required</code> (default) or <code>optional</code>. DITA-OT provides a warning if a required plug-in is not available.|No|</p>
<pre><code>```
&lt;require plugin=&quot;org.dita.html5&quot;/&gt;
```
</code></pre>
<ul>
<li>
<p><strong><code>template</code></strong></p>
<p>An optional element that defines files that should be treated as templates.</p>
<p>Template files can be used to integrate DITA-OT extensions. Templates typically extend the default transformation-type-specific build files via <code>dita:extension</code> elements. When the plug-in installation process runs, template files are used to recreate build files, and the specified extension points are replaced with references to the appropriate plug-ins.</p>
<p>The following attributes are supported:</p>
<table><thead><tr><th>Attribute</th><th>Description</th><th>Required?</th></tr></thead><tbody>
<tr><td><strong>file</strong></td><td>Name and path to the template file, relative to the plugin.xml file</td><td>Yes</td></tr>
</tbody></table>
<pre><code class="language-language-xml">&lt;template file=&quot;build_dita2html5_template.xml&quot;/&gt;
</code></pre>
</li>
<li>
<p><strong><code>transtype</code></strong></p>
<p>An optional element that defines a new output format (transformation type).</p>
<p>The following attributes are supported:</p>
<table><thead><tr><th>Attribute</th><th>Description</th><th>Required?</th></tr></thead><tbody>
<tr><td><strong>name</strong></td><td>Transformation name</td><td>Yes</td></tr>
<tr><td><strong>desc</strong></td><td>Transformation type description</td><td>No</td></tr>
<tr><td><strong>abstract</strong></td><td>When true, sets the transformation type as “abstract”, meaning it can be extended by other plug-ins, but cannot be used directly. For example, the <code>org.dita.base</code> plug-in defines an abstract “base” transformation type that is extended by other DITA-OT plug-ins.</td><td></td></tr>
</tbody></table>
</li>
</ul>
<p>|No|
|<strong>extends</strong>|Specifies the name of the transformation type being extended|No|</p>
<pre><code>```language-xml
&lt;transtype name=&quot;base&quot; abstract=&quot;true&quot; desc=&quot;Common&quot;&gt;
  &lt;!-- ⋮ --&gt;
  &lt;param name=&quot;link-crawl&quot;
         desc=&quot;Specifies whether to crawl only topic links found in maps, or all discovered topic links.&quot;
         type=&quot;enum&quot;&gt;
    &lt;val&gt;map&lt;/val&gt;
    &lt;val default=&quot;true&quot;&gt;topic&lt;/val&gt;
  &lt;/param&gt;
  &lt;!-- ⋮ --&gt;
&lt;/transtype&gt;

```

The `transtype` element may define additional parameters for the transformation type using the following child elements.

-   **`param`**

    An optional element that specifies a parameter for the transformation type.

    The following parameter attributes are supported:

    |Attribute|Description|Required?|
    |---------|-----------|---------|
    |**name**|Parameter name|Yes|
    |**desc**|Parameter description|No|
    |**type**|Parameter type \(enum, file, string\)|Yes|
    |**deprecated**|When true, identifies this parameter as deprecated|No|
    |**required**|When true, identifies this parameter as required|No|

-   **`val`**

    A child of `param` \(when `@type`=enum\) that specifies an enumeration value.

    The following attributes are supported:

    |Attribute|Description|Required?|
    |---------|-----------|---------|
    |**default**|When true, sets the enumeration value as the default value of the parent `param`|Only for the default `val`|
</code></pre>
<p>Any extension that is not recognized by DITA-OT is ignored. Since DITA-OT version 1.5.3, you can combine multiple extension definitions within a single plugin.xml file; in older versions, only the last extension definition was used.</p>
<h2><a class="header" href="#example-pluginxml-file" id="example-pluginxml-file">Example plugin.xml file</a></h2>
<p>The following is a sample of a plugin.xml file. This file adds support for a new set of specialized DTDs, and includes an override for the XHTML output processor.</p>
<p>This plugin.xml file would go into a directory such as DITA-OT/plugins/music/ and referenced supporting files would also exist in that directory. A more extensive sample using these values is available in the actual music plug-in, available on <a href="https://sourceforge.net/projects/dita-ot/files/Plug-in_%20Music/">SourceForge</a>.</p>
<pre><code>&lt;plugin id=&quot;org.metadita.specialization.music&quot;&gt;
  &lt;feature extension=&quot;dita.specialization.catalog.relative&quot;
           file=&quot;catalog-dita.xml&quot;/&gt;
  &lt;feature extension=&quot;dita.xsl.xhtml&quot; file=&quot;xsl/music2xhtml.xsl&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/plugin-newextensions.html">Creating a new plug-in extension point</a></p>
<p><a href="topics/../topics/plugin-newtranstype.html">Adding a new transformation type</a></p>
<h1><a class="header" href="#plug-in-coding-conventions" id="plug-in-coding-conventions">Plug-in coding conventions</a></h1>
<p>To ensure custom plug-ins work well with the core toolkit code and remain compatible with future releases, the DITA Open Toolkit project recommends that plug-ins use modern development practices and common coding patterns.</p>
<h2><a class="header" href="#best-practices" id="best-practices">Best practices</a></h2>
<p>Adhering to certain development practices will properly isolate your code from that of DITA Open Toolkit. This will make it easier to you to upgrade to new versions of DITA-OT when they are released.</p>
<ul>
<li>
<p>Use a properly-constructed DITA-OT plug-in.</p>
</li>
<li>
<p>Use a version control system to store your code.</p>
</li>
<li>
<p>Store the source code of your plug-ins outside of the DITA-OT installation directory, and add the repository location to the list of plug-in directories defined in the plugindirs entry of the <a href="topics/../parameters/configuration-properties-file.html">configuration.properties file</a>.</p>
</li>
<li>
<p>Never modify any of the core DITA-OT code.</p>
<p><strong>Tip:</strong> You may want to set the permissions on default plug-in directories such as org.dita.pdf2 to “read-only” to ensure that you do not accidentally modify the files within as you develop your customized plug-in.</p>
</li>
<li>
<p>Avoid copying entire DITA-OT files into your customization plug-in. When you only copy the attribute sets and templates that you need to override, there is less risk of impact from new features or fixes in the base code, making your code more stable and easier to upgrade between releases.</p>
</li>
<li>
<p>If you only need to change a few attribute sets and templates, you may prefer to store your overrides in custom.xsl files, or a simple folder hierarchy within your custom plug-in.</p>
</li>
<li>
<p>In cases that require substantial customizations, you may prefer to organize the files in a folder structure that mimics the hierarchy of the default plug-in you are customizing. This facilitates comparisons with the default settings in the base plug-in and makes it easier to migrate your changes to new toolkit versions. See <a href="topics/pdf-plugin-structure.html">PDF plug-in structure</a> for information on the files in the base PDF plug-in.</p>
</li>
<li>
<p>Upgrade your customization plug-in to new versions of DITA-OT regularly. Do not wait through several major releases before upgrading.</p>
</li>
</ul>
<h2><a class="header" href="#use-a-custom-namespace" id="use-a-custom-namespace">Use a custom namespace</a></h2>
<p>For XSLT customizations, use a custom namespace for any modified template modes, template names, attribute sets, functions, and variables. This helps to clarify which portions of the code are specific to your customizations, and serves to isolate your changes in the event that items with the same name are added to the base plug-ins in the future.</p>
<p>For example, instead of creating a template named <code>searchbar</code>, use something like <code>corp:searchbar</code> instead. This ensures that if future versions of DITA-OT add a <code>searchbar</code> template, your custom version will be unaffected.</p>
<p>Instead of:</p>
<pre><code class="language-language-xml">&lt;xsl:template name=&quot;searchbar&quot;/&gt;
</code></pre>
<p>use:</p>
<pre><code class="language-language-xml">&lt;xsl:template name=&quot;corp:searchbar&quot;/&gt;
</code></pre>
<h2><a class="header" href="#upgrade-stylesheets-to-xslt-20" id="upgrade-stylesheets-to-xslt-20">Upgrade stylesheets to XSLT 2.0</a></h2>
<p>The Saxon project has announced plans to remove XSLT 1.0 support from the Saxon-HE library that ships with DITA-OT:</p>
<blockquote>
<p>…we’re dropping XSLT 1.0 backwards compatibility mode from Saxon-HE, and hope to eliminate it entirely in due course.</p>
</blockquote>
<blockquote>
<p><a href="https://www.xml.com/news/release-saxon-98/"><em>https://www.xml.com/news/release-saxon-98/</em></a></p>
</blockquote>
<p>DITA-OT 3.0 and 3.0.1 included Saxon-HE 9.8.0.5, which rejects XSLT stylesheets that specify <code>version=&quot;1.0&quot;</code>. Plug-ins with XSLT templates specifying version 1.0 will fail with the message “XSLT 1.0 compatibility mode is not available in this configuration.”</p>
<p>To resolve this issue, change any occurrences of <code>&lt;xsl:stylesheet version=&quot;1.0&quot;&gt;</code> in custom plug-in stylesheets to at least <code>&lt;xsl:stylesheet version=&quot;2.0&quot;&gt;</code>.</p>
<p><strong>Tip:</strong> DITA-OT 3.0.2 includes Saxon-HE 9.8.0.7, which restores XSLT 1.0 backwards-compatibility mode, but the DITA Open Toolkit project recommends upgrading all stylesheets to XSLT 2.0 to ensure plug-ins remain compatible with future versions of DITA-OT and Saxon-HE.</p>
<h2><a class="header" href="#use-custom-pipeline-elements" id="use-custom-pipeline-elements">Use custom <code>pipeline</code> elements</a></h2>
<p>In Ant scripts, use the XSLT module from DITA-OT instead of Ant’s built-in <code>xslt</code> or <code>style</code> tasks.</p>
<p>The XSLT module allows access to DITA-OT features like using the job configuration to select files in the temporary folder based on file metadata and custom XSLT extension functions.</p>
<p><strong>Important:</strong> Future versions of DITA-OT may switch to a new XML resolver or in-memory storage features that are not supported by Ant’s XSLT task. To ensure compatibility with future releases, plug-ins should replace these constructs with custom <code>pipeline</code> elements.</p>
<p>Instead of:</p>
<pre><code>&lt;xslt style=&quot;${dita.plugin.example.dir}/custom.xsl&quot;
      basedir=&quot;${dita.temp.dir}&quot;
      destdir=&quot;${dita.output.dir}&quot;
      includesfile=&quot;${dita.temp.dir}/${fullditatopicfile}&quot;/&gt;
</code></pre>
<p>use:</p>
<pre><code>&lt;pipeline&gt;
  &lt;xslt style=&quot;${dita.plugin.example.dir}/custom.xsl&quot;
        destdir=&quot;${dita.output.dir}&quot;&gt;
    &lt;ditafileset format=&quot;dita&quot; /&gt;
  &lt;/xslt&gt;
&lt;/pipeline&gt;
</code></pre>
<h2><a class="header" href="#use-the-plug-in-directory-property" id="use-the-plug-in-directory-property">Use the plug-in directory property</a></h2>
<p>In Ant scripts, always refer to files in other plug-ins using the <code>dita.plugin.plugin-id.dir</code> property.</p>
<p>Instead of:</p>
<pre><code class="language-language-xml">&lt;property name=&quot;base&quot; location=&quot;../example/custom.xsl&quot;/&gt;
</code></pre>
<p>use:</p>
<pre><code class="language-language-xml">&lt;property name=&quot;base&quot; location=&quot;${dita.plugin.example.dir}/custom.xsl&quot;/&gt;
</code></pre>
<p>This fixes cases where plug-ins are installed to custom plug-in directories or the plug-in folder name doesn’t match the plug-in ID.</p>
<p><strong>Tip:</strong> For details, see <a href="topics/referencing-other-plugins.html">Referencing files from other plug-ins</a>.</p>
<h2><a class="header" href="#use-the-plugin-uri-scheme" id="use-the-plugin-uri-scheme">Use the <code>plugin</code> URI scheme</a></h2>
<p>In XSLT, use the <code>plugin</code> URI scheme in <code>xsl:import</code> and <code>xsl:include</code> to reference files in other plug-ins.</p>
<p>Instead of:</p>
<pre><code class="language-language-xml">&lt;xsl:import href=&quot;../../org.dita.base/xsl/common/output-message.xsl&quot;/&gt;
</code></pre>
<p>use:</p>
<pre><code class="language-language-xml">&lt;xsl:import href=&quot;plugin:org.dita.base:xsl/common/output-message.xsl&quot;/&gt;
</code></pre>
<p>As with the plug-in directory property in Ant, this allows plug-ins to resolve to the correct directory even when a plug-in moves to a new location. The plug-in is referenced using the syntax <code>plugin:plugin-id:path/within/plugin/file.xsl</code>.</p>
<p><strong>Tip:</strong> For details, see <a href="topics/referencing-other-plugins.html">Referencing files from other plug-ins</a>.</p>
<h2><a class="header" href="#use-ditafileset-to-select-files" id="use-ditafileset-to-select-files">Use <code>ditafileset</code> to select files</a></h2>
<p>In Ant scripts, use <code>ditafileset</code> to select resources in the temporary directory.</p>
<p>For example, to select all images referenced by input DITA files, instead of:</p>
<pre><code>&lt;copy todir=&quot;${copy-image.todir}&quot;&gt;
  &lt;fileset dir=&quot;${user.input.dir}&quot;&gt;
    &lt;includes name=&quot;*.jpg&quot;/&gt;
    &lt;includes name=&quot;*.jpeg&quot;/&gt;
    &lt;includes name=&quot;*.png&quot;/&gt;
    &lt;includes name=&quot;*.gif&quot;/&gt;
    &lt;includes name=&quot;*.svg&quot;/&gt;
  &lt;/fileset&gt;
&lt;/copy&gt;
</code></pre>
<p>use:</p>
<pre><code>&lt;copy todir=&quot;${copy-image.todir}&quot;&gt;
  &lt;ditafileset format=&quot;image&quot; /&gt;
&lt;/copy&gt;
</code></pre>
<p>The <code>ditafileset</code> resource collection can be used to select different types of files.</p>
<table><thead><tr><th>Example</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;ditafileset format=&quot;dita&quot;/&gt;</code></td><td>Selects all DITA topics in the temporary directory.</td></tr>
<tr><td><code>&lt;ditafileset format=&quot;ditamap&quot;/&gt;</code></td><td>Selects all DITA maps in the temporary directory.</td></tr>
<tr><td><code>&lt;ditafileset format=&quot;image&quot;/&gt;</code></td><td>Selects images of all known types in the temporary directory.</td></tr>
</tbody></table>
<h2><a class="header" href="#validating-plug-ins-1" id="validating-plug-ins-1">Validating plug-ins</a></h2>
<p>DITA-OT includes a RELAX NG schema file that can be used to validate the plugin.xml files that define the capabilities of each plug-in.</p>
<p>To ensure the syntax of your custom plug-in is correct, include an <code>xml-model</code> processing instruction at the beginning of the plugin.xml file, immediately after the XML prolog:</p>
<p><code>xml-model href=&quot;dita-ot/plugin.rnc&quot; type=&quot;application/relax-ng-compact-syntax&quot;</code></p>
<p>If your authoring environment does not apply this schema automatically, point your editor to dita-ot-dir/resources/plugin.rnc to associate the schema with your plug-in file.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/html-customization-plugins.html">Custom HTML plug-ins</a></p>
<p><a href="topics/../topics/pdf-customization-plugins.html">Custom PDF plug-ins</a></p>
<p><a href="topics/../topics/plugin-dependencies.html">Plug-in dependencies</a></p>
<p><a href="topics/../topics/referencing-other-plugins.html">Referencing files from other plug-ins</a></p>
<p><a href="https://www.oxygenxml.com/events/2018/dita-ot_day.html#apply_your_style_guide_rules_during_the_publication">Validation meets publication - Apply your style guide rules during the publication</a></p>
<p><a href="https://www.oxygenxml.com/events/2018/dita-ot_day.html#unit_testing_DITA-OT_plugin_extensions">Unit Testing DITA-OT Plugin Extensions</a></p>
<p><a href="https://www.oxygenxml.com/events/2018/dita-ot_day.html#meta_DITA_samples">Meta DITA samples: testing around the edge cases</a></p>
<p><a href="https://www.oxygenxml.com/events/2017/dita-ot_day.html#Managing_a_large_scale_build_environment">Managing a large scale build environment with 50+ custom plugins</a></p>
<p><a href="https://www.oxygenxml.com/events/2015/dita-ot_day.html#DITA-OT_Patterns_and_Anti-patterns">DITA-OT Patterns and Anti-patterns</a></p>
<p><a href="https://www.oxygenxml.com/events/2015/dita-ot_day.html#Multiple_OT_With_Git">Multiple OT with Git</a></p>
<h1><a class="header" href="#plug-in-dependencies" id="plug-in-dependencies">Plug-in dependencies</a></h1>
<p>A DITA-OT plug-in can be dependent on other plug-ins. Prerequisite plug-ins are installed first, which ensures that DITA-OT handles XSLT overrides correctly.</p>
<p>The <code>require</code> element in the plugin.xml file specifies whether the plug-in has dependencies. Use <code>require</code> elements to specify prerequisite plug-ins, in order from most general to most specific.</p>
<p>If a prerequisite plug-in is missing, DITA-OT prints a warning during installation. To suppress the warning but keep the installation order if both plug-ins are present, add <code>importance=&quot;optional&quot;</code> to the <code>require</code> element.</p>
<p>If a plug-in can depend on any one of several optional plug-ins, separate the plug-in IDs with a vertical bar. This is most useful when combined with <code>importance=&quot;optional&quot;</code>.</p>
<h2><a class="header" href="#example-plug-in-with-a-prerequisite-plug-in" id="example-plug-in-with-a-prerequisite-plug-in">Example: Plug-in with a prerequisite plug-in</a></h2>
<p>The following plug-in will only be installed if the plug-in with the ID <code>com.example.primary</code> is available. If that plug-in is not available, a warning is generated and the installation operation fails.</p>
<pre><code>&lt;plugin id=&quot;com.example.builds-on-primary&quot;&gt;
  &lt;!-- ... Extensions here --&gt;
  &lt;require plugin=&quot;com.example.primary&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<h2><a class="header" href="#example-plug-in-that-has-optional-plug-ins" id="example-plug-in-that-has-optional-plug-ins">Example: Plug-in that has optional plug-ins</a></h2>
<p>The following plug-in will only be installed if either the plug-in with the ID <code>pluginA</code> or the plug-in with the ID <code>pluginB</code> is available. If neither of those plug-ins are installed, a warning is generated but the installation operation is completed.</p>
<pre><code>&lt;plugin id=&quot;pluginC&quot;&gt;
  &lt;!-- ...extensions here --&gt;
  &lt;require plugin=&quot;pluginA|pluginB&quot; importance=&quot;optional&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/plugin-coding-conventions.html">Plug-in coding conventions</a></p>
<h1><a class="header" href="#referencing-files-from-other-plug-ins" id="referencing-files-from-other-plug-ins">Referencing files from other plug-ins</a></h1>
<p>Starting with DITA-OT 1.5.4, you can use the plugin:plugin-id URI extension and the ${dita.plugin.plugin-id.dir} Ant variable to reference the base path of another installed DITA-OT plug-in.</p>
<p>Sometimes you need to reference content in another DITA-OT plug-in. However, the path to an installed plug-in is not guaranteed to be the same between different installed instances of DITA-OT. The plugin:plugin-id URI extension and ${dita.plugin.plugin-id.dir} Ant variable are provided so your build and XSLT files always use the correct path to the plug-in.</p>
<p>Within a single plug-in, you can safely use relative path references, for example, xsl/my.xsl without specifying the path to the plug-in itself.</p>
<ul>
<li>
<p>Use ${dita.plugin.plugin-id.dir} in Ant build files.</p>
<p>Use the Ant variable ${dita.plugin.plugin-id.dir} anywhere in your build file or template to point to the base path of an installed DITA-OT plug-in.</p>
<p>The following example copies CSS files from the HTML5 plug-in:</p>
<pre><code>&lt;copy todir=&quot;${dita.temp.dir}/css&quot;&gt;
  &lt;fileset dir=&quot;${dita.plugin.org.dita.html5.dir}/css&quot; 
           includes=&quot;*.css&quot;/&gt;
&lt;/copy&gt;
</code></pre>
</li>
<li>
<p>Use plugin:plugin-id in XSLT files.</p>
<p>Use the URI extension plugin:plugin-id at the beginning of a file reference—usually in <code>xsl:import</code>—to point to the base path of an installed DITA-OT plug-in.</p>
<p>The following example imports the base output-message.xsl processing:</p>
<pre><code class="language-language-xml">&lt;xsl:import href=&quot;plugin:org.dita.base:xsl/common/output-message.xsl&quot;/&gt;
</code></pre>
<p>To use the URI extension, your plug-in must reference the DITA-OT catalog file. In your Ant build file, add an <code>xmlcatalog</code> element referencing the DITA-OT catalog file as a child of the <code>xslt</code> element.</p>
<pre><code>&lt;xslt style=&quot;xsl/my.xsl&quot;
      in=&quot;${dita.temp.dir}/input.file&quot; 
      out=&quot;${dita.temp.dir}/output.file&quot;&gt;
  &lt;xmlcatalog refid=&quot;dita.catalog&quot;/&gt;
&lt;/xslt&gt;
</code></pre>
</li>
</ul>
<p>For both of these methods, make sure you use the plug-in ID (defined in the plugin.xml file) rather than the folder name of the plug-in. In many cases, the folder name is not the same as the plug-in ID.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/plugin-coding-conventions.html">Plug-in coding conventions</a></p>
<h1><a class="header" href="#plug-in-use-cases" id="plug-in-use-cases">Plug-in use cases</a></h1>
<p>Plug-ins allow you to extend the functionality of DITA-OT. This might entail adding support for specialized document types, integrating processing overrides, or defining new output transformations.</p>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2015/dita-ot_day.html#Creating_DITA_OT_constraint_specialisation_plugins">Creating DITA-OT constraint/specialisation plugins</a></p>
<h1><a class="header" href="#setting-parameters-with-plug-ins" id="setting-parameters-with-plug-ins">Setting parameters with plug-ins</a></h1>
<p>To ensure that output is always generated with the same settings, you can create a plug-in to define a new output format that automatically sets certain DITA-OT parameters.</p>
<p>You might want to build a transformation type that ensures that certain DITA-OT parameters are used. For example, consider the following scenario.</p>
<h2><a class="header" href="#draft-pdfs" id="draft-pdfs">Draft PDFs</a></h2>
<p>You want to ensure that PDFs generated for internal review have the following characteristics:</p>
<ul>
<li>
<p>Use company style sheets</p>
</li>
<li>
<p>Make draft comments visible to the reviewers, as they contain queries from the information developers</p>
</li>
<li>
<p>Print the file names of the graphics underneath figures, so that graphic artists can more quickly respond to requested changes</p>
</li>
</ul>
<p>To accomplish this, you can create a new plug-in. In the Ant script that defines the transformation type, specify the DITA-OT parameters. For example, to render draft comments and art labels, add <code>property</code> elements to specify the DITA-OT parameters:</p>
<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;project name=&quot;com.example.draft.pdf&quot;&gt;
  &lt;target name=&quot;dita2draft.pdf.init&quot;&gt;
    &lt;property name=&quot;customization.dir&quot;
              location=&quot;${dita.plugin.com.example.draft.pdf.dir}/cfg&quot;/&gt;
    **&lt;property name=&quot;args.draft&quot; value=&quot;yes&quot;/\&gt;**
    **&lt;property name=&quot;args.artlbl&quot; value=&quot;yes&quot;/\&gt;**
  &lt;/target&gt;
  &lt;target name=&quot;dita2draft.pdf&quot;
          depends=&quot;dita2draft.pdf.init, dita2production.pdf, dita2pdf2&quot;/&gt;
&lt;/project&gt;
</code></pre>
<h1><a class="header" href="#adding-a-new-target-to-the-ant-build-process" id="adding-a-new-target-to-the-ant-build-process">Adding a new target to the Ant build process</a></h1>
<p>As of DITA-OT 3.0, the <code>ant.import</code> extension point can be used to make new targets available to the Ant processing pipeline. This can be done as part of creating a new transformation, extending pre-processing, or simply to make new Ant targets available to other plug-ins.</p>
<ol>
<li>
<p>Create an Ant project file that contains the new target(s).</p>
</li>
<li>
<p>Create the plugin.xml file:</p>
<pre><code>&lt;plugin id=&quot;plugin-id&quot;&gt;
  &lt;feature extension=&quot;ant.import&quot; file=&quot;build-file&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p>where:</p>
<ul>
<li>plugin-id is the plug-in identifier, for example, <code>com.example.ant</code>.</li>
<li>build-file is the Ant project file that contains the new build target(s).</li>
</ul>
</li>
<li>
<p>Install the plug-in.</p>
</li>
</ol>
<p>The targets from the project (build-file) are copied into the build.xml file, using the correct path. This makes the new Ant targets available to other processes.</p>
<p><strong>Tip:</strong> Earlier versions of DITA-OT use the <code>dita.conductor.target.relative</code> to call a wrapper file with a dummy task that imports the Ant project file. This approach is still supported for backwards compatibility, but the simpler <code>ant.import</code> approach described above should be used for all new customizations.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../extension-points/plugin-extension-points-general.html">General extension points</a></p>
<p><a href="topics/../topics/plugins-installing.html">Installing plug-ins</a></p>
<h1><a class="header" href="#adding-an-ant-target-to-the-pre-processing-pipeline" id="adding-an-ant-target-to-the-pre-processing-pipeline">Adding an Ant target to the pre-processing pipeline</a></h1>
<p>You can add an Ant target to the pre-processing pipeline. This enables you to insert additional processing before or after the pre-processing chain or a specific step in the pre-processing operation.</p>
<p>You can use the <code>depend.preprocess.pre</code> and <code>depend.preprocess.post</code> extension points to run a target before or after the entire pre-processing operation. In addition, there are extension points that enable you to run an Ant target before specific pre-processing steps.</p>
<p><strong>Tip:</strong> For maximum compatibility with future versions of DITA-OT, most plug-ins should use the extension points that run <strong>before</strong> or <strong>after</strong> pre-processing.</p>
<ol>
<li>
<p>Define and integrate the new Ant target.</p>
</li>
<li>
<p>Create the following plugin.xml file:</p>
<pre><code>&lt;plugin id=&quot;plugin-id&quot;&gt;
  &lt;feature extension=&quot;extension-point&quot; value=&quot;Ant-target&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p>where</p>
<ul>
<li>plugin-id is the plug-in identifier.</li>
<li>extension-point is a pre-processing extension point.</li>
<li>Ant-target is the name of the Ant target.</li>
</ul>
</li>
<li>
<p>Install the plug-in.</p>
</li>
</ol>
<p>The new target is added to the Ant dependency list. The new target is now always run in conjunction with the specified step in the pre-processing pipeline.</p>
<h2><a class="header" href="#example" id="example">Example</a></h2>
<p>The following plugin.xml file specifies that the myAntTargetBeforeChunk target is always run before the <code>chunk</code> step in the pre-processing stage.</p>
<pre><code>&lt;plugin id=&quot;com.example.extendchunk&quot;&gt;
  &lt;feature extension=&quot;depend.preprocess.chunk.pre&quot; 
           value=&quot;myAntTargetBeforeChunk&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p>It assumes that the myAntTargetBeforeChunk target has already been defined and integrated.</p>
<p>CAUTION:</p>
<p>The internal order of preprocessing steps is subject to change between versions of DITA-OT. New versions may remove, reorder, combine, or add steps to the process, so the extension points <strong>within</strong> the preprocessing stage should only be used if absolutely necessary.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../extension-points/plugin-extension-points-pre-processing.html">Pre-processing extension points</a></p>
<p><a href="topics/../topics/plugins-installing.html">Installing plug-ins</a></p>
<h1><a class="header" href="#adding-a-new-transformation-type" id="adding-a-new-transformation-type">Adding a new transformation type</a></h1>
<p>Plug-ins can add an entirely new transformation type. The new transformation type can be very simple, such as an HTML build that creates an additional control file; it also can be very complex, adding any number of new processing steps.</p>
<p>You can use the <code>transtype</code> element to define a new transformation type with any new custom parameters that are supported.</p>
<p>When a transformation type is defined, the build expects Ant code to be integrated to define the transformation process. The Ant code must define a target based on the name of the transformation type; if the transformation type is &quot;new-transform&quot;, the Ant code must define a target named dita2new-transform.</p>
<ol>
<li>
<p>Create an Ant project file for the new transformation. This project file must define a target named &quot;dita2new-transtype,&quot; where new-transtype is the name of the new transformation type.</p>
</li>
<li>
<p>Create a plugin.xml with the following content:</p>
<pre><code>&lt;plugin id=&quot;plugin-id&quot;&gt;
  &lt;transtype name=&quot;new-transtype&quot;/&gt;
  **&lt;feature extension=&quot;dita.transtype.print&quot; value=&quot;new-transtype&quot;/\&gt;**
  &lt;feature extension=&quot;ant.import&quot; file=&quot;ant-file&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p>where:</p>
<ul>
<li>plugin-id is the plug-in identifier, for example, com.dita-ot.pdf.</li>
<li>new-transtype is the name of the new transformation, for example, dita-ot-pdf.</li>
<li>ant-file is the name of the Ant file, for example, build-dita-ot-pdf.xml.
Exclude the content that is highlighted in bold if the transformation is not intended for print.</li>
</ul>
</li>
<li>
<p>Install the plug-in.</p>
</li>
</ol>
<p>You now can use the new transformation.</p>
<h2><a class="header" href="#examples" id="examples">Examples</a></h2>
<p>The following plugin.xml file defines a new transformation type named &quot;print-pdf&quot;; it also defines the transformation type to be a print type. The build will look for a dita2print-pdf target.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;?xml-model href=&quot;https://www.dita-ot.org/rng/plugin.rnc&quot; type=&quot;application/relax-ng-compact-syntax&quot;?&gt;

&lt;plugin id=&quot;com.example.print-pdf&quot;&gt;
  &lt;require plugin=&quot;org.dita.pdf2&quot;/&gt;
  &lt;transtype name=&quot;print-pdf&quot; extends=&quot;pdf&quot; desc=&quot;PDF on A4 paper&quot;/&gt;
  &lt;feature extension=&quot;dita.transtype.print&quot; value=&quot;print-pdf&quot;/&gt;
  &lt;feature extension=&quot;ant.import&quot; file=&quot;integrator.xml&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p><strong>Tip:</strong> For a complete sample plug-in with all required code, see <a href="topics/pdf-customization-example.html">Example: Creating a simple PDF plug-in</a>.</p>
<p>If your custom transformation type supports custom parameters, they can be defined in nested <code>param</code> elements within the <code>transtype</code> element.</p>
<p>While the org.dita.html5 plug-in was separated from <code>common-html</code> in version 2.4, the following example shows how earlier versions of that plug-in used the <code>transtype</code> element to extend the common HTML transformation with a new html5 transformation type and define a new nav-toc parameter with three possible values:</p>
<pre><code>**&lt;transtype name=&quot;html5&quot; extends=&quot;common-html&quot; desc=&quot;HTML5&quot;\&gt;**
  &lt;param name=&quot;nav-toc&quot; type=&quot;enum&quot; 
         desc=&quot;Specifies whether to generate navigation in topic pages.&quot;&gt;
    &lt;val default=&quot;true&quot; desc=&quot;No TOC&quot;&gt;none&lt;/val&gt;
    &lt;val desc=&quot;Partial TOC that shows the current topic&quot;&gt;partial&lt;/val&gt;
    &lt;val desc=&quot;Full TOC&quot;&gt;full&lt;/val&gt;
  &lt;/param&gt;
&lt;/transtype&gt;
</code></pre>
<p><strong>Related information</strong></p>
<p><a href="topics/../extension-points/plugin-extension-points-general.html">General extension points</a></p>
<p><a href="topics/../topics/plugin-configfile.html">Plug-in descriptor file</a></p>
<p><a href="topics/../topics/plugins-installing.html">Installing plug-ins</a></p>
<h1><a class="header" href="#adding-parameters-to-existing-xslt-steps" id="adding-parameters-to-existing-xslt-steps">Adding parameters to existing XSLT steps</a></h1>
<p>You can pass parameters from the Ant build to existing XSLT steps in both the pre-processing pipeline and certain DITA-OT transformations. This can be useful if you want to make the parameters available as global <code>xsl:param</code> values within XSLT overrides.</p>
<ol>
<li>
<p>Create an XML file that contains one or more Ant <code>param</code> elements nested within a <code>dummy</code> wrapper element.</p>
<pre><code>&lt;dummy&gt;
  *&lt;!-- Any Ant code allowed in xslt task is possible. Example: --\&gt;*
  &lt;param name=&quot;paramNameinXSLT&quot; expression=&quot;${antProperty}&quot; 
         if=&quot;antProperty&quot;/&gt;
&lt;/dummy&gt;
</code></pre>
</li>
<li>
<p>Construct a plugin.xml file that contains the following content:</p>
<pre><code>&lt;plugin id=&quot;plugin-id&quot;&gt;
  &lt;feature extension=&quot;extension-point&quot; file=&quot;file&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p>where:</p>
<ul>
<li>plugin-id is the plug-in identifier, for example, <code>com.example.newparam</code>.</li>
<li>extension-point is the DITA-OT extension point, for example,<code>dita.conductor.xhtml.param</code>. This indicates the DITA-OT processing step where the parameters will be available.</li>
<li>file is the name of the XML file that you created in step <a href="topics/plugin-xsltparams.html#create-xml-file">1</a>, for example, insertParameters.xml.</li>
</ul>
</li>
<li>
<p>Install the plug-in.</p>
</li>
</ol>
<p>The plugin.xml file passes the parameters to the specified transformation or pre-processing module.</p>
<h2><a class="header" href="#example-1" id="example-1">Example</a></h2>
<p>The following plug-in passes the parameters defined in the insertParameters.xml file as input to the XHTML process. Generally, an additional XSLT override will make use of the parameters to do something new with the generated content.</p>
<pre><code>&lt;plugin id=&quot;com.example.newparam&quot;&gt;
  &lt;feature extension=&quot;dita.conductor.xhtml.param&quot; 
           file=&quot;insertParameters.xml&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p><strong>Related information</strong></p>
<p><a href="topics/../extension-points/plugin-extension-points-xslt-parameters.html">XSLT-parameter extension points</a></p>
<p><a href="topics/../topics/plugins-installing.html">Installing plug-ins</a></p>
<h1><a class="header" href="#overriding-an-xslt-processing-step" id="overriding-an-xslt-processing-step">Overriding an XSLT-processing step</a></h1>
<p>You can override specific XSLT-processing steps in both the pre-processing pipeline and certain DITA-OT transformations.</p>
<ol>
<li>
<p>Develop an XSL file that contains the XSL override.</p>
</li>
<li>
<p>Construct a plugin.xml file that contains the following content:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;plugin id=&quot;plugin-id&quot;&gt;
  &lt;feature extension=&quot;extension-point&quot; file=&quot;relative-path&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p>where:</p>
<ul>
<li>plugin-id is the plug-in identifier, for example, com.example.brandheader.</li>
<li>extension-point is the DITA-OT extension point, for example,<code>dita.xsl.xhtml</code>. This indicates the DITA-OT processing step that the XSL override applies to.</li>
<li>relative-path is the relative path and name of the XSLT file, for example, xsl/header.xsl.</li>
</ul>
</li>
<li>
<p>Install the plug-in.</p>
</li>
</ol>
<p>The plug-in installer adds an XSL import statement to the default DITA-OT code, so that the XSL override becomes part of the normal build.</p>
<h2><a class="header" href="#example-overriding-xhtml-header-processing" id="example-overriding-xhtml-header-processing">Example: Overriding XHTML header processing</a></h2>
<p>The following two files represent a complete, simple style plug-in.</p>
<p>The plugin.xml file declares an XSLT file that extends XHTML processing:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;plugin id=&quot;com.example.brandheader&quot;&gt;
  &lt;feature extension=&quot;dita.xsl.xhtml&quot; file=&quot;xsl/header.xsl&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p>The xsl/header.xsl XSLT file referenced in plugin.xml overrides the default header processing to add a banner:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;xsl:stylesheet version=&quot;1.0&quot; 
                xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;
  &lt;xsl:template name=&quot;gen-user-header&quot;&gt;
    &lt;div&gt;&lt;img src=&quot;http://www.example.com/company_banner.jpg&quot; 
              alt=&quot;Example Company Banner&quot;/&gt;&lt;/div&gt;
  &lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;
</code></pre>
<p><strong>Related information</strong></p>
<p><a href="topics/../extension-points/plugin-extension-points-xslt-import.html">XSLT-import extension points</a></p>
<p><a href="topics/../topics/plugins-installing.html">Installing plug-ins</a></p>
<h1><a class="header" href="#adding-a-java-library-to-the-classpath" id="adding-a-java-library-to-the-classpath">Adding a Java library to the classpath</a></h1>
<p>You can use the <code>dita.conductor.lib.import</code> extension point to add an additional Java library to the DITA-OT classpath parameter.</p>
<p>As of DITA-OT 3.1, the Java class path is managed automatically, meaning you do not (and should not) use explicit references to Java class paths in your build scripts. In particular, the old <code>dost.class.path</code> property has been deprecated and should not be used. If you are migrating older plug-ins that manage their class path directly, you should remove any explicit class path configuration. If your plug-in was not already using the <code>dita.conductor.lib.import</code> extension point to integrate its JAR dependencies you must add it.</p>
<p>The effective DITA-OT class path is the combination of the JAR files in the main lib/ directory and the plug-in-contributed JARs, which are listed in config/env.sh. The env.sh file is updated automatically when plug-ins are installed or removed.</p>
<ol>
<li>
<p>If necessary, compile the Java code into a JAR file.</p>
</li>
<li>
<p>Create a plugin.xml file that contains the following code:</p>
<pre><code>&lt;plugin id=&quot;plugin-id&quot;&gt;
  &lt;feature extension=&quot;dita.conductor.lib.import&quot; file=&quot;file&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p>where:</p>
<ul>
<li>plugin-id is the plug-in identifier, for example, <code>com.example.addjar</code>.</li>
<li>file is the name of the JAR file, for example, myJavaLibrary.jar.</li>
</ul>
</li>
<li>
<p>Install the plug-in.</p>
</li>
</ol>
<p>The Ant or XSLT code now can make use of the Java code.</p>
<p>In the following extended example, the myJavaLibrary.jar file performs a validation step during processing, and you want it to run immediately before the <code>conref</code>step.</p>
<p>To accomplish this, you will need to use several features:</p>
<ul>
<li>The JAR file must be added to the classpath.</li>
<li>The Ant target must be added to the dependency chain for conref.</li>
<li>An Ant target must be created that uses this class, and integrated into the code.</li>
</ul>
<p>The files might look like the following:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;plugin id=&quot;com.example.samplejava&quot;&gt;
  *&lt;!-- Add the JAR file to the DITA-OT CLASSPATH --\&gt;*
  **&lt;feature extension=&quot;dita.conductor.lib.import&quot; 
           file=&quot;com.example.sampleValidation.jar&quot;/\&gt;**
  *&lt;!-- Integrate the Ant code --\&gt;*
  &lt;feature extension=&quot;ant.import&quot; file=&quot;calljava-antcode.xml&quot;/&gt;
  *&lt;!-- Define the Ant target to call, and when \(before conref\) --\&gt;*
  &lt;feature extension=&quot;depend.preprocess.conref.pre&quot; 
           value=&quot;validateWithJava&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project default=&quot;validateWithJava&quot;&gt;
  &lt;target name=&quot;validateWithJava&quot;&gt;
    &lt;java classname=&quot;com.example.sampleValidation&quot;&gt;
      &lt;!-- The class was added to the DITA-OT classpath --&gt;
    &lt;/java&gt;
  &lt;/target&gt;
&lt;/project&gt;
</code></pre>
<p><strong>Related information</strong></p>
<p><a href="topics/../extension-points/plugin-extension-points-general.html">General extension points</a></p>
<p><a href="topics/../topics/plugins-installing.html">Installing plug-ins</a></p>
<h1><a class="header" href="#adding-new-diagnostic-messages" id="adding-new-diagnostic-messages">Adding new diagnostic messages</a></h1>
<p>Use the <code>dita.xsl.messages</code> extension point to add plug-in-specific messages to the diagnostic messages that are generated by DITA-OT. These messages then can be used by any XSLT override.</p>
<ol>
<li>
<p>Create an XML file that contains the messages that you want to add. Be sure to use the following format for the XML file:</p>
<pre><code>&lt;messages&gt;
  *&lt;!-- See resources/messages.xml for the details. --\&gt;*
  &lt;message id=&quot;PrefixNumberLetter&quot; type=&quot;error-severity&quot;&gt;
    &lt;reason&gt;Message text&lt;/reason&gt;
    &lt;response&gt;How to resolve&lt;/response&gt;
  &lt;/message&gt;
&lt;/messages&gt;
</code></pre>
<p>where:</p>
<ul>
<li>
<p>Prefix is a sequence of four capital letters.</p>
<p><strong>Note:</strong> By convention, the toolkit messages use <code>DOTX</code> but any sequence can be used by plug-in developers.</p>
</li>
<li>
<p>Number is a three-digit integer.</p>
</li>
<li>
<p>Letter is one of the following upper-case letters: I, W, E, F. It should match the value that is specified for the <code>@type</code> attribute.</p>
<p><strong>Note:</strong> As the <code>@id</code> attribute is used as a whole and not decomposed by recent versions of the toolkit, you could use any sequence as the message identifier. Nevertheless, to facilitate reuse of the plug-in and make it more readable by other users, we recommend following these guidelines.</p>
</li>
<li>
<p>error-severity specifies the severity of the error. It must be one of the following values:</p>
<ul>
<li>
<p><strong>Info (I)</strong></p>
<p>Informational messages highlight the progress of transformation and call attention to conditions of which you should be aware. For example, draft comments are enabled and will be rendered in the output.</p>
</li>
<li>
<p><strong>Warning (W)</strong></p>
<p>The toolkit encountered a problem that should be corrected. Processing will continue, but the output might not be as expected.</p>
</li>
<li>
<p><strong>Error (E)</strong></p>
<p>The toolkit encountered a more severe problem, and the output is affected. For example, some content is missing or invalid, or the content is not rendered in the output</p>
</li>
<li>
<p><strong>Fatal (F)</strong></p>
<p>The toolkit encountered a severe condition, processing stopped, and no output is generated.</p>
</li>
</ul>
<p><strong>Note:</strong> The <code>FATAL</code> value throws a fatal error message in XSLT and an exception in Java.</p>
<p><strong>Tip:</strong> If the <code>@id</code> attribute of your message is equal to the <code>@id</code> of a default DITA-OT message, your message will override the default one.</p>
</li>
</ul>
</li>
<li>
<p>Create a plugin.xml file that contains the following content:</p>
<pre><code>&lt;plugin id=&quot;plugin-id&quot;&gt;
  &lt;feature extension=&quot;dita.xsl.messages&quot; file=&quot;file&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p>where:</p>
<ul>
<li>plugin-id is the plug-in identifier, for example, <code>com.example.newmsg</code>.</li>
<li>file is the name of the new XML file containing the messages created in step <a href="topics/plugin-messages.html#step_create-message-xml">1</a>, for example, myMessages.xml.</li>
</ul>
</li>
<li>
<p>Install the plug-in.</p>
</li>
</ol>
<p>Add the following call in XSLT modules to generate a message when a specific condition occurs:</p>
<pre><code>&lt;xsl:call-template name=&quot;output-message&quot;&gt;
  &lt;xsl:with-param name=&quot;id&quot;&gt;prefixnumberletter&lt;/xsl:with-param&gt;
  &lt;xsl:with-param name=&quot;msg&quot;&gt;Message text and parameters.&lt;/xsl:with-param&gt;
&lt;/xsl:call-template&gt;
</code></pre>
<p>Use the <code>ctx</code> parameter if calling from a function.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../extension-points/plugin-extension-points-general.html">General extension points</a></p>
<p><a href="topics/../topics/plugins-installing.html">Installing plug-ins</a></p>
<h1><a class="header" href="#creating-a-new-plug-in-extension-point" id="creating-a-new-plug-in-extension-point">Creating a new plug-in extension point</a></h1>
<p>If your plug-in needs to define its own extension points in an XML file, add the string &quot;<code>_template</code>&quot; to the filename before the file suffix. When the plug-in is installed, this file will be processed like the built-in DITA-OT templates.</p>
<p>Template files are used to integrate most DITA-OT extensions. For example, the dita2xhtml_template.xsl file contains all of the default rules for converting DITA topics to XHTML, along with an extension point for plug-in extensions. When the plug-in is installed, the dita2xhtml.xsl is recreated, and the extension point is replaced with references to all appropriate plug-ins.</p>
<p>To mark a new file as a template file, use the <code>template</code> element.</p>
<p>The template extension namespace has the URI <code>http://dita-ot.sourceforge.net</code>. It is used to identify elements and attributes that have a special meaning in template processing. This documentation uses the <code>dita:</code> prefix to refer to elements in the template extension namespace. However, template files are free to use any prefix, provided that there is a namespace declaration that binds the prefix to the URI of the template extension namespace.</p>
<h2><a class="header" href="#ditaextension-element" id="ditaextension-element"><code>dita:extension</code> element</a></h2>
<p>The <code>dita:extension</code> elements are used to insert generated content during the plug-in installation process. There are two required attributes:</p>
<ul>
<li>The <code>@id</code> attribute defines the extension point ID that provides the argument data.</li>
<li>The <code>@behavior</code> attribute defines which processing action is used.</li>
</ul>
<p>Supported values for the <code>@behavior</code> attribute:</p>
<ul>
<li>
<p><strong><code>org.dita.dost.platform.CheckTranstypeAction</code></strong></p>
<p>Create Ant condition elements to check if the <code>${transtype}</code> property value equals a supported transformation type value.</p>
</li>
<li>
<p><strong><code>org.dita.dost.platform.ImportAntLibAction</code></strong></p>
<p>Create Ant <code>pathelement</code> elements for the <a href="topics/plugin-javalib.html">library import extension point</a>. The <code>@id</code> attribute is used to define the extension point ID.</p>
</li>
<li>
<p><strong><code>org.dita.dost.platform.ImportPluginCatalogAction</code></strong></p>
<p>Include plug-in metadata catalog content.</p>
</li>
<li>
<p><strong><code>org.dita.dost.platform.ImportPluginInfoAction</code></strong></p>
<p>Create plug-in metadata Ant properties.</p>
</li>
<li>
<p><strong><code>org.dita.dost.platform.ImportStringsAction</code></strong></p>
<p>Include plug-in string file content based on the <a href="topics/plugin-addgeneratedtext.html">generated text extension point</a>. The <code>@id</code> attribute is used to define the extension point ID.</p>
</li>
<li>
<p><strong><code>org.dita.dost.platform.ImportXSLAction</code></strong></p>
<p>Create <code>xsl:import</code> elements based on the <a href="topics/plugin-overridestyle.html">XSLT import extension point</a>. The <code>@id</code> attribute is used to define the extension point ID.</p>
</li>
<li>
<p><strong><code>org.dita.dost.platform.InsertAction</code></strong></p>
<p>Include plug-in conductor content based on the <a href="topics/plugin-anttarget.html">Ant import extension point</a>. The <code>@id</code> attribute is used to define the extension point ID.</p>
</li>
<li>
<p><strong><code>org.dita.dost.platform.InsertAntActionRelative</code></strong></p>
<p>Include plug-in conductor content based on the <a href="topics/plugin-anttarget.html">relative Ant import extension point</a>. The <code>@id</code> attribute is used to define the extension point ID.</p>
</li>
<li>
<p><strong><code>org.dita.dost.platform.InsertCatalogActionRelative</code></strong></p>
<p>Include plug-in catalog content based on the <a href="topics/plugin-xmlcatalog.html">catalog import extension point</a>. The <code>@id</code> attribute is used to define the extension point ID.</p>
</li>
<li>
<p><strong><code>org.dita.dost.platform.ListTranstypeAction</code></strong></p>
<p>Create a pipe-delimited list of supported transformation types.</p>
</li>
</ul>
<h2><a class="header" href="#ditaextension-attribute" id="ditaextension-attribute"><code>@dita:extension</code> attribute</a></h2>
<p>The <code>@dita:extension</code> attribute is used to process attributes in elements which are not in the template extension namespace. The value of the attribute is a space-delimited tuple, where the first item is the name of the attribute to process and the second item is the action ID.</p>
<p>Supported values:</p>
<ul>
<li>
<p><strong><code>depends org.dita.dost.platform.InsertDependsAction</code></strong></p>
<p>The Ant target dependency list is processed to replace all target names that start with an opening brace <code>{</code> character and end with a closing brace <code>}</code>. The value of the extension point is the ID between the braces.</p>
</li>
</ul>
<h2><a class="header" href="#example-2" id="example-2">Example</a></h2>
<p>The following plug-in defines myBuildFile_template.xml as a new template for extensions, and two new extension points.</p>
<pre><code>&lt;plugin id=&quot;com.example.new-extensions&quot;&gt;
  &lt;extension-point id=&quot;com.example.new-extensions.pre&quot;
                   name=&quot;Custom target preprocess&quot;/&gt;
  &lt;extension-point id=&quot;com.example.new-extensions.content&quot;
                   name=&quot;Custom target content&quot;/&gt;
  &lt;template file=&quot;myBuildFile_template.xml&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p>When the plug-in is installed, this will be used to recreate myBuildFile.xml, replacing Ant file content based on extension point use.</p>
<pre><code>&lt;project xmlns:dita=&quot;http://dita-ot.sourceforge.net&quot;&gt;
  &lt;target name=&quot;dita2custom&quot;
     dita:depends=&quot;dita2custom.init,
                  {com.example.new-extensions.pre},
                   dita2xhtml&quot;
     dita:extension=&quot;depends org.dita.dost.platform.InsertDependsAction&quot;&gt;
    &lt;dita:extension id=&quot;com.example.new-extensions.content&quot;
                    behavior=&quot;org.dita.dost.platform.InsertAction&quot;/&gt;
  &lt;/target&gt;
&lt;/project&gt;
</code></pre>
<h1><a class="header" href="#extending-an-xml-catalog-file" id="extending-an-xml-catalog-file">Extending an XML catalog file</a></h1>
<p>You can update either the main DITA-OT XML catalog or the XML catalog that is used by the PDF plug-in. This enables DITA-OT to support new specializations and document-type shells.</p>
<p>You can use the dita.specialization.catalog.relative and org.dita.pdf2.catalog.relative extension points to update the DITA-OT catalog files.</p>
<p><strong>Remember:</strong> The dita.specialization.catalog extension is deprecated. Use dita.specialization.catalog.relative instead.</p>
<ol>
<li>
<p>Using the OASIS catalog format, create an XML catalog file that contains only the new values that you want to add to a DITA-OT catalog file.</p>
</li>
<li>
<p>Create a plugin.xml file that contains the following content:</p>
<pre><code>&lt;plugin id=&quot;plugin-id&quot;&gt;
  &lt;feature extension=&quot;extension-point&quot; file=&quot;file&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p>where:</p>
<ul>
<li>plugin-id is the plug-in identifier, for example, <code>com.example.catalog</code>.</li>
<li>extension-point is either dita.specialization.catalog.relative or org.dita.pdf2.catalog.relative.</li>
<li>file is the name of the new catalog file, for example, catalog-dita.xml.</li>
</ul>
</li>
<li>
<p>Save the new XML catalog file to your plug-in. Be sure that the local file references are relative to the location of the catalog and plug-in.</p>
</li>
<li>
<p>Install the plug-in.</p>
</li>
</ol>
<p>The catalog entries inside of the new catalog file are added to the core DITA-OT catalog file.</p>
<h2><a class="header" href="#example-3" id="example-3">Example</a></h2>
<p>This example assumes that catalog-dita.xml contains an OASIS catalog for any document-type shells inside this plug-in. The catalog entries in catalog-dita.xml are relative to the catalog itself; when the plug-in is installed, they are added to the core DITA-OT catalog (with the correct path).</p>
<pre><code>&lt;plugin id=&quot;com.example.catalog&quot;&gt;
  &lt;feature extension=&quot;dita.specialization.catalog.relative&quot;
           file=&quot;catalog-dita.xml&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p><strong>Related information</strong></p>
<p><a href="topics/../extension-points/plugin-extension-points-general.html">General extension points</a></p>
<p><a href="topics/../topics/plugins-installing.html">Installing plug-ins</a></p>
<h1><a class="header" href="#adjusting-file-names-in-map-first-pre-processing" id="adjusting-file-names-in-map-first-pre-processing">Adjusting file names in map-first pre-processing</a></h1>
<p>To dynamically adjust the names and locations of output files in the map-first pre-processing routine (<code>preprocess2</code>), you can create a custom plug-in and specify the code that contains your custom rewrite rules.</p>
<p>For example, set the result.rewrite-rule.xsl parameter to specify a bundled XSLT stylesheet that contains your custom rewrite rules.</p>
<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;project name=&quot;com.example.rewrite.pdf&quot;&gt;
  &lt;target name=&quot;dita2rewrite.pdf.init&quot;&gt;
    &lt;property name=&quot;customization.dir&quot;
              location=&quot;${dita.plugin.com.example.rewrite.pdf.dir}/cfg&quot;/&gt;
    **&lt;property name=&quot;result.rewrite-rule.xsl&quot; 
              value=&quot;$\{dita.plugin.com.example.rewrite.pdf.dir\}/custom-rules.xsl&quot;/\&gt;**
  &lt;/target&gt;
  &lt;target name=&quot;dita2rewrite.pdf&quot;
          depends=&quot;dita2rewrite.pdf.init, dita2production.pdf, dita2pdf2&quot;/&gt;
&lt;/project&gt;
</code></pre>
<p>Your plug-in would also include a custom-rules.xsl file, which might contain templates like this to move all image files to an images subdirectory:</p>
<pre><code>&lt;xsl:template match=&quot;node() | @*&quot;&gt;
  &lt;xsl:copy&gt;
    &lt;xsl:apply-template select=&quot;node() | @*&quot;/&gt;
  &lt;/xsl:copy&gt;
&lt;/xsl:template&gt;

&lt;xsl:template match=&quot;file[@format = 'image']/@result&quot;&gt;
  &lt;xsl:attribute name=&quot;{local-name()}&quot; select=&quot;concat('images/', .)&quot;/&gt;
&lt;/xsl:template&gt;
</code></pre>
<p><strong>Note:</strong> If your rewrite rules are contained in a Java class, you can set the result.rewrite-rule.class parameter instead, and pass the name of your Java class in the <code>@value attribute.</code> The custom class should implement the <code>org.dita.dost.module.RewriteRule</code> interface.</p>
<h1><a class="header" href="#adding-saxon-customizations" id="adding-saxon-customizations">Adding Saxon customizations</a></h1>
<p>Plug-ins can contribute XSLT extension functions and collation URI resolvers. These customizations are automatically configured to work with Saxon when transformations are run using the DITA-OT <code>pipeline</code> task with custom XSLT.</p>
<p>Plug-ins can provide the following Saxon extensions:</p>
<ul>
<li>Extension functions</li>
<li>Collation URI resolvers</li>
</ul>
<p>Extensions are declared in plug-in-provided JAR files using the Java ServiceLoader feature that looks for service-declaring files in JAR files and loads classes. This requires adding one or more files in the META-INF/services directory in plug-in-provided JAR files.</p>
<p>You can create the file manually or generate it dynamically using <code>service</code> elements in Ant <code>jar</code> tasks. See the topics for the different extension types for details.</p>
<p>These extensions use the DITA Open Toolkit Ant <code>pipeline</code> element to wrap <code>xslt</code> elements. You can do this in plug-ins as shown in this excerpt from the DITA Community I18N plugin’s build.xml file:</p>
<pre><code class="language-language-xml">&lt;target name=&quot;org.dita-community.i18n-saxon-extension-test&quot;&gt;
  &lt;pipeline message=&quot;Test the DITA Community i18n Saxon extension functions&quot;
            taskname=&quot;i18n-extension-function-test&quot;&gt;
    &lt;xslt
      in=&quot;${dita.plugin.org.dita-community.i18n.dir}/test/xsl/data/test-data.xml&quot;
      style=&quot;${dita.plugin.org.dita-community.i18n.dir}/test/xsl/test-extension-functions.xsl&quot;
      out=&quot;${basedir}/out/extension-function-test-results.xml&quot;
      &gt;
    &lt;/xslt&gt;
  &lt;/pipeline&gt;
&lt;/target&gt;
</code></pre>
<p>Normal XSLT extensions to built-in transformation types will automatically have the extensions available to them.</p>
<p>The dynamic Saxon configuration is implemented in the class <code>org.dita.dost.module.XsltModule</code>, which backs the <code>pipeline</code>/<code>xslt</code> element.</p>
<h1><a class="header" href="#implementing-saxon-extension-functions" id="implementing-saxon-extension-functions">Implementing Saxon extension functions</a></h1>
<p>Plug-ins can contribute Saxon extension functions for use in XSLT transformations run by DITA Open Toolkit.</p>
<p>Starting with Saxon 9.2, the mechanism for implementing extension functions has changed such that Saxon HE, in particular, can no longer use the older “reflexive” mechanism for finding Java extension functions using a magic URL. Instead, you implement extension functions and then register them directly on the Saxon Configuration object. DITA-OT provides a dynamic mechanism to perform this registration for plug-in-provided extension functions.</p>
<p>To implement extension functions, you must do the following:</p>
<ol>
<li>
<p>Add your plug-in’s JAR file in the DITA-OT class path as described in <a href="topics/plugin-javalib.html">Adding a Java library to the classpath</a>.</p>
</li>
<li>
<p>For each function, implement a class that extends <code>net.sf.saxon.lib.ExtensionFunctionDefinition</code>. This class provides the namespace name and function name for the function as well as details about its arguments and so on. See <a href="http://www.saxonica.com/html/documentation9.8/extensibility/integratedfunctions">Integrated extension functions</a> in the Saxon documentation.</p>
</li>
<li>
<p>Include a file named net.sf.saxon.lib.ExtensionFunctionDefinition in the directory META-INF/services in the compiled JAR that your plug-in provides. Each line of the file must be the name of a class that implements <code>net.sf.saxon.lib.ExtensionFunctionDefinition</code>:</p>
<pre><code>com.example.saxon.functions.Add
com.example.saxon.functions.Substract
</code></pre>
<p>You can create the file using <code>service</code> elements in an Ant <code>jar</code> task:</p>
<pre><code class="language-language-xml">&lt;jar destfile=&quot;${basedir}/target/lib/example-saxon.jar&quot;&gt;
  ⋮
  &lt;service type=&quot;net.sf.saxon.lib.ExtensionFunctionDefinition&quot;&gt;
    &lt;provider classname=&quot;com.example.saxon.functions.Add&quot;/&gt;
    &lt;provider classname=&quot;com.example.saxon.functions.Subtract&quot;/&gt;
  &lt;/service&gt;
  ⋮
&lt;/jar&gt;
</code></pre>
</li>
<li>
<p>In your XSLT transformations, declare the namespace the functions are bound to:</p>
<pre><code class="language-language-xml">&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;
                xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
                **xmlns:eg=&quot;http://example.com/saxon-extensions&quot;**
                version=&quot;2.0&quot;&gt;
</code></pre>
</li>
</ol>
<p>You should then be able to use the extension functions as you would any other function:</p>
<pre><code class="language-language-xml">&lt;xsl:variable name=&quot;test&quot; select=&quot;**eg:add\(1, 2\)**&quot;/&gt;
</code></pre>
<h1><a class="header" href="#implementing-custom-saxon-collation-uri-resolvers" id="implementing-custom-saxon-collation-uri-resolvers">Implementing custom Saxon collation URI resolvers</a></h1>
<p>Plug-ins can provide custom URI resolvers that provide collators for specific collation URIs.</p>
<p>To do custom sorting and grouping in XSLT, you identify collators using URIs that Saxon resolves to collator implementations. You implement the mapping from collation URIs to collators through custom collation URI resolvers.</p>
<p>For example, the DITA Community I18N plugin provides a custom collator for doing dictionary-based sorting and grouping of Simplified Chinese.</p>
<p>To allow multiple plug-ins to contribute collation URI resolvers, DITA-OT defines a superinterface of Saxon’s <code>CollationUriResolver</code> interface, <code>org.dita.dost.module.saxon.DelegatingCollationUriResolver</code>, that takes a base resolver.</p>
<p>Implementations of <code>DelegatingCollationUriResolver</code> should delegate to their base resolver if they do not resolve the URI specified on the resolve request. When multiple plug-ins provide resolvers it results in a chain of resolvers, ending with the built-in Saxon default resolver.</p>
<p><strong>Note:</strong> The order in which plug-ins will be processed during collation URI resolver configuration is variable, so two plug-ins should not try to resolve the same collation URI. In that case the first one configured will be used at run time.</p>
<p>A typical delegating collation URI resolver looks like this:</p>
<pre><code class="language-language-java">public class DCI18nCollationUriResolver implements DelegatingCollationUriResolver {

  public static final String DITA_COMMUNITY_I18N_ZH_CNAWARE_COLLATOR =
      &quot;http://org.dita-community.i18n.zhCNawareCollator&quot;;
  public static final String LANG_URI_PARAM = &quot;lang&quot;;

  private CollationURIResolver baseResolver;

  public DCI18nCollationUriResolver() {
      super();
      this.baseResolver = StandardCollationURIResolver.getInstance();
  }


  public net.sf.saxon.lib.StringCollator resolve(String uri, Configuration configuration) 
          throws XPathException {
      ZhCnAwareCollator collator = resolveToZhCnAwareCollator(uri, null, configuration);
      if (null == collator) {
          return baseResolver.resolve(uri, configuration);
      }
      return (StringCollator) collator;
  }


  @Override
  public void setBaseResolver(CollationURIResolver baseResolver) {
    this.baseResolver = baseResolver;
  }
  
  /* ... Code to evaluate the collation URI and provide the appropriate collator goes here */
}
</code></pre>
<p>To implement a custom collation URI resolver:</p>
<ol>
<li>
<p>Add your plugin’s JAR file in the DITA-OT class path as described in <a href="topics/plugin-javalib.html">Adding a Java library to the classpath</a>.</p>
</li>
<li>
<p>Implement an instance of <code>org.dita.dost.module.saxon.DelegatingCollationUriResolver</code> as described above.</p>
</li>
<li>
<p>Include a file named org.dita.dost.module.saxon.DelegatingCollationUriResolver in the directory META-INF/services in the compiled JAR that your plug-in provides. Each line of the file must be the name of a class that implements <code>org.dita.dost.module.saxon.DelegatingCollationUriResolver</code>:</p>
<pre><code>org.example.i18n.saxon.MyCollationUriResolver
</code></pre>
<p>You can create the services file using <code>service</code> elements in an Ant <code>jar</code> task:</p>
<pre><code class="language-language-xml">&lt;jar destfile=&quot;${basedir}/target/lib/example-saxon.jar&quot;&gt;
  ⋮
  &lt;service type=&quot;org.dita.dost.module.saxon.DelegatingCollationUriResolver&quot;&gt;
    &lt;provider classname=&quot;org.example.i18n.saxon.MyCollationUriResolver&quot;/&gt;
  &lt;/service&gt;
  ⋮
&lt;/jar&gt;
</code></pre>
</li>
<li>
<p>To use the collator in XSLT style sheets, specify the collation URI on <code>@xsl:sort</code> elements (or anywhere a collator URI can be specified):</p>
<pre><code class="language-language-xml">&lt;xsl:apply-templates select=&quot;word&quot;&gt;
  &lt;xsl:sort collation=&quot;http://org.example.i18n.MyCollator&quot;/&gt;
&lt;/xsl:apply-templates&gt;
</code></pre>
</li>
</ol>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2015/dita-ot_day.html#DITA_Community">DITA Community</a></p>
<h1><a class="header" href="#custom-html-plug-ins" id="custom-html-plug-ins">Custom HTML plug-ins</a></h1>
<p>In addition to the basic modifications that can be made with parameter settings and property files, you can create custom HTML plug-ins that bundle custom fonts, JavaScript, and stylesheets; modify the HTML markup, or override other aspects of HTML processing.</p>
<p><strong>Note:</strong> These examples are not intended to be used as-is, but illustrate basic techniques you can use in your own plug-ins. In practise, custom plug-ins often combine several of these approaches.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/html-customization.html">Customizing HTML output</a></p>
<p><a href="topics/../topics/plugin-coding-conventions.html">Plug-in coding conventions</a></p>
<h1><a class="header" href="#bundling-css-in-a-custom-html-plug-in" id="bundling-css-in-a-custom-html-plug-in">Bundling CSS in a custom HTML plug-in</a></h1>
<p>You can create a DITA-OT plug-in that provides a custom stylesheet with the typography and colors that define your corporate identity. Coworkers can install this plug-in to ensure consistent HTML output across projects without having to copy the stylesheet to each project.</p>
<p>This scenario walks through the process of creating a very simple plug-in (<code>com.example.html5-custom-css</code>) that creates a new transformation type: html5-custom-css.</p>
<p>The html5-custom-css transformation includes a custom CSS file and sets four parameters to integrate the custom stylesheet in the generated HTML5 output. These parameter settings make the following changes:</p>
<ul>
<li>
<p>Specify the css subfolder of the plug-in as the source directory for custom CSS with args.cssroot.</p>
</li>
<li>
<p>Specify the name of the custom CSS file with args.css.</p>
<p>The value of this parameter tells DITA-OT to use the custom.css file provided by the plug-in.</p>
</li>
<li>
<p>Ensure that the CSS file is copied to the output directory by setting args.copycss to yes.</p>
</li>
<li>
<p>Set the destination path for CSS files in the output folder with args.csspath.</p>
<p>CSS files are copied to the root level of the output folder by default. Setting this parameter places CSS files in a dedicated css subfolder.</p>
</li>
</ul>
<p>All four parameters are set in the Ant script (build_html5-custom-css.xml).</p>
<ol>
<li>
<p>In the plugins directory, create a directory named com.example.html5-custom-css.</p>
</li>
<li>
<p>In the new com.example.html5-custom-css directory, create a plug-in configuration file (plugin.xml) that declares the new html5-custom-css transformation and its dependencies.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;?xml-model href=&quot;https://www.dita-ot.org/rng/plugin.rnc&quot; type=&quot;application/relax-ng-compact-syntax&quot;?&gt;

&lt;plugin id=&quot;com.example.html5-custom-css&quot;&gt;
  &lt;require plugin=&quot;org.dita.html5&quot;/&gt;
  &lt;transtype name=&quot;html5-custom-css&quot; extends=&quot;html5&quot; desc=&quot;HTML5 with custom CSS&quot;/&gt;
  &lt;feature extension=&quot;ant.import&quot; file=&quot;build_html5-custom-css.xml&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p><strong>Note:</strong> This plug-in will extend the default HTML5 transformation, so the <code>require</code> element explicitly defines org.dita.html5 as a dependency.</p>
</li>
<li>
<p>In the com.example.html5-custom-css directory, create a subdirectory named css.</p>
</li>
<li>
<p>In the new css subdirectory, create a file named custom.css with your custom CSS rules.</p>
<pre><code>/* These custom styles extend or override DITA Open Toolkit default styles. */

body {
  color: red;
}
</code></pre>
<p><strong>Tip:</strong> When you first create the plug-in, you may want to include a rule in your custom stylesheet that makes it readily apparent when the custom styles are applied (the example above will change body text to “red”). Once you have verified that the plug-in works as intended, replace the placeholder rule with your own custom styles.</p>
</li>
<li>
<p>In the com.example.html5-custom-css root directory, add an Ant script (build_html5-custom-css.xml) to define the transformation type.</p>
<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;

&lt;project&gt;
  &lt;target name=&quot;dita2html5-custom-css&quot;
       depends=&quot;dita2html5-custom-css.init,
                dita2html5&quot;/&gt;
  &lt;target name=&quot;dita2html5-custom-css.init&quot;&gt;
    &lt;property name=&quot;args.cssroot&quot;
          location=&quot;${dita.plugin.com.example.html5-custom-css.dir}/css&quot;/&gt;
    &lt;property name=&quot;args.css&quot; value=&quot;custom.css&quot;/&gt;
    &lt;property name=&quot;args.copycss&quot; value=&quot;yes&quot;/&gt;
    &lt;property name=&quot;args.csspath&quot; value=&quot;css&quot;/&gt;
  &lt;/target&gt;
&lt;/project&gt;
</code></pre>
</li>
</ol>
<p><strong>Tip:</strong> The files for this sample plug-in are included in the DITA-OT installation directory under docsrc/samples/plugins/com.example.html5-custom-css/ and on <a href="https://github.com/dita-ot/docs/tree/develop/samples/plugins/com.example.html5-custom-css">GitHub</a>.</p>
<p>The plug-in directory has the following layout and files:</p>
<pre><code>com.example.html5-custom-css
├── build_html5-custom-css.xml
├── css
│   └── custom.css
└── plugin.xml
</code></pre>
<ol>
<li>
<p>Run dita --install to install the plug-in and make the html5-custom-css transformation available.</p>
</li>
<li>
<p>Build output with the new transformation type to verify that the plug-in works as intended.</p>
<pre><code>dita --input=my.ditamap --format=html5-custom-css
</code></pre>
</li>
<li>
<p>Refine the styles in your custom.css file as necessary.</p>
</li>
</ol>
<p><strong>Related information</strong></p>
<p><a href="topics/../parameters/parameters-base-html.html">HTML-based output parameters</a></p>
<p><a href="topics/../topics/html-customization-css.html">Adding custom CSS</a></p>
<h1><a class="header" href="#embedding-web-fonts-in-html-output" id="embedding-web-fonts-in-html-output">Embedding web fonts in HTML output</a></h1>
<p>A custom plug-in can be created to generate HTML output that uses custom fonts for enhanced typographic features, extended character sets or a unique corporate identity.</p>
<p>This scenario walks through the process of creating a very simple plug-in (<code>com.example.html5-webfont</code>) that creates a new transformation type: html5-webfont.</p>
<p>The html5-webfont transformation includes a custom CSS file and sets five parameters to integrate font links and a custom stylesheet in the generated HTML5 output. These parameter settings make the following changes:</p>
<ul>
<li>
<p>Specify a file that links to the font from the document head with args.hdf.</p>
</li>
<li>
<p>Specify the css subfolder of the plug-in as the source directory for custom CSS with args.cssroot.</p>
</li>
<li>
<p>Specify the name of the custom CSS file with args.css.</p>
<p>The value of this parameter tells DITA-OT to use the custom.css file provided by the plug-in.</p>
</li>
<li>
<p>Ensure that the CSS file is copied to the output directory by setting args.copycss to yes.</p>
</li>
<li>
<p>Set the destination path for CSS files in the output folder with args.csspath.</p>
<p>CSS files are copied to the root level of the output folder by default. Setting this parameter places CSS files in a dedicated css subfolder.</p>
</li>
</ul>
<p>All five parameters are set in the Ant script (build_html5-webfont.xml).</p>
<ol>
<li>
<p>In the plugins directory, create a directory named com.example.html5-webfont.</p>
</li>
<li>
<p>In the new com.example.html5-webfont directory, create a plug-in configuration file (plugin.xml) that declares the new html5-webfont transformation and its dependencies.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;?xml-model href=&quot;https://www.dita-ot.org/rng/plugin.rnc&quot; type=&quot;application/relax-ng-compact-syntax&quot;?&gt;

&lt;plugin id=&quot;com.example.html5-webfont&quot;&gt;
  &lt;require plugin=&quot;org.dita.html5&quot;/&gt;
  &lt;transtype name=&quot;html5-webfont&quot; extends=&quot;html5&quot; desc=&quot;HTML5 with Noto Sans webfont&quot;/&gt;
  &lt;feature extension=&quot;ant.import&quot; file=&quot;build_html5-webfont.xml&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p><strong>Note:</strong> This plug-in will extend the default HTML5 transformation, so the <code>require</code> element explicitly defines org.dita.html5 as a dependency.</p>
</li>
<li>
<p>In the com.example.html5-webfont directory, create a subdirectory named include.</p>
</li>
<li>
<p>In the new include subdirectory, create a file named webfont.hdf.xml with your custom font links.</p>
<pre><code>&lt;div&gt;
  &lt;link href=&quot;https://fonts.googleapis.com/css?family=Noto+Sans&quot; rel=&quot;stylesheet&quot;/&gt;
&lt;/div&gt;
</code></pre>
<p>This example uses the <a href="https://fonts.google.com/specimen/Noto+Sans">Noto Sans</a> font. You can use multiple fonts by creating additional <code>link</code> references in this file. The division wrapper will be discarded when generating HTML files, and the contents will be inserted into the <code>head</code> element of each page.</p>
</li>
<li>
<p>In the com.example.html5-webfont directory, create a subdirectory named css.</p>
</li>
<li>
<p>In the new css subdirectory, create a file named custom.css with the stylesheet rules that apply the custom <code>font-family</code> to the desired elements.</p>
<pre><code>body {
  font-family: 'Noto Sans', sans-serif;
}
</code></pre>
<p>This example uses <a href="https://fonts.google.com/specimen/Noto+Sans">Noto Sans</a> for all body content. In practice, you would normally use different fonts for headings, body content, tables, etc. by creating additional rules in your CSS file.</p>
</li>
<li>
<p>In the com.example.html5-webfont root directory, add an Ant script (build_html5-webfont.xml) to define the transformation type.</p>
<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;

&lt;project&gt;
  &lt;target name=&quot;dita2html5-webfont&quot;
       depends=&quot;dita2html5-webfont.init,
                dita2html5&quot;/&gt;
  &lt;target name=&quot;dita2html5-webfont.init&quot;&gt;
    &lt;property name=&quot;args.hdf&quot;
          location=&quot;${dita.plugin.com.example.html5-webfont.dir}/include/webfont.hdf.xml&quot;/&gt;
    &lt;property name=&quot;args.cssroot&quot;
          location=&quot;${dita.plugin.com.example.html5-webfont.dir}/css&quot;/&gt;
    &lt;property name=&quot;args.css&quot; value=&quot;custom.css&quot;/&gt;
    &lt;property name=&quot;args.copycss&quot; value=&quot;yes&quot;/&gt;
    &lt;property name=&quot;args.csspath&quot; value=&quot;css&quot;/&gt;
  &lt;/target&gt;
&lt;/project&gt;
</code></pre>
</li>
</ol>
<p><strong>Tip:</strong> The files for this sample plug-in are included in the DITA-OT installation directory under docsrc/samples/plugins/com.example.html5-webfont/ and on <a href="https://github.com/dita-ot/docs/tree/develop/samples/plugins/com.example.html5-webfont">GitHub</a>.</p>
<p>The plug-in directory has the following layout and files:</p>
<pre><code>com.example.html5-webfont
├── build_html5-webfont.xml
├── css
│   └── custom.css
├── include
│   └── webfont.hdf.xml
└── plugin.xml
</code></pre>
<ol>
<li>
<p>Run dita --install to install the plug-in and make the html5-webfont transformation available.</p>
</li>
<li>
<p>Build output with the new transformation type to verify that the plug-in works as intended.</p>
<pre><code>dita --input=my.ditamap --format=html5-webfont
</code></pre>
</li>
<li>
<p>Refine the styles in your custom.css file to adjust the font usage as necessary.</p>
</li>
</ol>
<p><strong>Related information</strong></p>
<p><a href="topics/../parameters/parameters-base-html.html">HTML-based output parameters</a></p>
<h1><a class="header" href="#inserting-javascript-in-generated-html" id="inserting-javascript-in-generated-html">Inserting JavaScript in generated HTML</a></h1>
<p>JavaScript code can be bundled in a custom plug-in and automatically inserted into the generated HTML pages to enable web analytics or dynamic content delivery.</p>
<p>This scenario walks through the process of creating a very simple plug-in (<code>com.example.html5-javascript</code>) that creates a new transformation type: html5-javascript.</p>
<p>The html5-javascript transformation includes a custom page footer file with a JavaScript tracking snippet and sets the args.ftr parameter to integrate the script content in the HTML5 <code>footer</code> element of the generated pages.</p>
<p><strong>Note:</strong> This example inserts a tracking snippet for Google Analytics, but the basic approach is the same for other analytics platforms or similar use cases that require custom JavaScript.</p>
<ol>
<li>
<p>In the plugins directory, create a directory named com.example.html5-javascript.</p>
</li>
<li>
<p>In the new com.example.html5-javascript directory, create a plug-in configuration file (plugin.xml) that declares the new html5-javascript transformation and its dependencies.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;?xml-model href=&quot;https://www.dita-ot.org/rng/plugin.rnc&quot; type=&quot;application/relax-ng-compact-syntax&quot;?&gt;

&lt;plugin id=&quot;com.example.html5-javascript&quot;&gt;
  &lt;require plugin=&quot;org.dita.html5&quot;/&gt;
  &lt;transtype name=&quot;html5-javascript&quot; extends=&quot;html5&quot; desc=&quot;HTML5 with embedded JavaScript&quot;/&gt;
  &lt;feature extension=&quot;ant.import&quot; file=&quot;build_html5-javascript.xml&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p><strong>Note:</strong> This plug-in will extend the default HTML5 transformation, so the <code>require</code> element explicitly defines org.dita.html5 as a dependency.</p>
</li>
<li>
<p>In the com.example.html5-javascript directory, create a subdirectory named include.</p>
</li>
<li>
<p>In the new include subdirectory, create a file named javascript.ftr.xml with your custom JavaScript code.</p>
<pre><code>&lt;div&gt;
&lt;!-- Google Analytics --&gt;
&lt;script&gt;
console.log('Adding Google Analytics tracker');

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-XXXXX-Y', 'auto');
ga('send', 'pageview');
&lt;/script&gt;
&lt;!-- End Google Analytics --&gt;
&lt;/div&gt;
</code></pre>
<p>The division wrapper will be discarded when generating HTML files, and the contents will be inserted into the <code>footer</code> element of each page.</p>
</li>
<li>
<p>In the com.example.html5-javascript root directory, add an Ant script (build_html5-javascript.xml) to define the transformation type and set the path to the JavaScript footer file created in the previous step.</p>
<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;

&lt;project&gt;
  &lt;target name=&quot;dita2html5-javascript&quot;
       depends=&quot;dita2html5-javascript.init,
                dita2html5&quot;/&gt;
  &lt;target name=&quot;dita2html5-javascript.init&quot;&gt;
    &lt;property name=&quot;args.ftr&quot;
          location=&quot;${dita.plugin.com.example.html5-javascript.dir}/include/javascript.ftr.xml&quot;/&gt;
  &lt;/target&gt;
&lt;/project&gt;
</code></pre>
</li>
</ol>
<p><strong>Tip:</strong> The files for this sample plug-in are included in the DITA-OT installation directory under docsrc/samples/plugins/com.example.html5-javascript/ and on <a href="https://github.com/dita-ot/docs/tree/develop/samples/plugins/com.example.html5-javascript">GitHub</a>.</p>
<p>The plug-in directory has the following layout and files:</p>
<pre><code>com.example.html5-javascript
├── build_html5-javascript.xml
├── include
│   └── javascript.ftr.xml
└── plugin.xml
</code></pre>
<ol>
<li>
<p>Run dita --install to install the plug-in and make the html5-javascript transformation available.</p>
</li>
<li>
<p>Build output with the new transformation type to verify that the plug-in works as intended.</p>
<pre><code>dita --input=my.ditamap --format=html5-javascript
</code></pre>
</li>
<li>
<p>Open one of the generated HTML topic files in a modern web browser and check the JavaScript <strong>Console</strong>. When the page is loaded, Adding Google Analytics tracker will appear on the console to verify that the sample script is loaded.</p>
</li>
<li>
<p>Remove the <code>console.log</code> debugging message from the sample JavaScript code, and replace the <code>'UA-XXXXX-Y'</code> placeholder string with the tracking ID of the Google Analytics property you wish to track.</p>
</li>
</ol>
<p><strong>Tip:</strong> This example places the JavaScript code in the page footer to ensure that page display is not delayed while the script is loaded. If your JavaScript code supports pre-loading and your application targets modern browsers that recognize the <code>async</code> script attribute, you may prefer to insert the JavaScript snippet in the <code>head</code> element of the generated HTML files using the args.hdf parameter instead.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../parameters/parameters-base-html.html">HTML-based output parameters</a></p>
<h1><a class="header" href="#custom-pdf-plug-ins" id="custom-pdf-plug-ins">Custom PDF plug-ins</a></h1>
<p>In most cases, PDF output should be customized by creating custom DITA-OT plug-ins that build on the default DITA to PDF transformation. PDF plug-ins can customize covers and page layouts, modify formatting, override the logic of the default PDF plug-in, and much more.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/pdf-customization.html">Customizing PDF output</a></p>
<p><a href="topics/../topics/pdf-customization-approaches.html">PDF customization approaches</a></p>
<p><a href="topics/../topics/plugin-coding-conventions.html">Plug-in coding conventions</a></p>
<h1><a class="header" href="#types-of-custom-pdf-plug-ins" id="types-of-custom-pdf-plug-ins">Types of custom PDF plug-ins</a></h1>
<p>There are two common types of plug-ins: A plug-in that simply sets the DITA-OT parameters to be used when a PDF is generated, and a plug-in that overrides aspects of the base DITA-OT PDF transformation. A plug-in can, of course, do both of these things.</p>
<h2><a class="header" href="#plug-in-that-only-provides-dita-ot-parameters" id="plug-in-that-only-provides-dita-ot-parameters">Plug-in that only provides DITA-OT parameters</a></h2>
<p>You might want to build a transformation type that uses a transformation as-is; however, you might want to ensure that certain DITA-OT parameters are used. For an example of this approach, see <a href="topics/plugin-set-parameters.html">Setting parameters with plug-ins</a>.</p>
<h2><a class="header" href="#plug-in-that-overrides-the-base-pdf-transformation" id="plug-in-that-overrides-the-base-pdf-transformation">Plug-in that overrides the base PDF transformation</a></h2>
<p>Production uses of DITA-OT typically rely on a custom PDF plug-in to render PDFs that are styled to match corporate or organizational guidelines. Such customization plug-ins often override the following aspects of DITA-OT default output:</p>
<ul>
<li>Generated text strings</li>
<li>XSL templates</li>
<li>XSL-FO attribute sets</li>
</ul>
<h1><a class="header" href="#pdf-plug-in-structure" id="pdf-plug-in-structure">PDF plug-in structure</a></h1>
<p>In cases that require substantial customizations, it is often useful to organize the files in a folder structure that mimics the hierarchy of the default PDF plug-in.</p>
<p><strong>Note:</strong> For simpler customizations, you may want to structure your plug-in differently, but the information in this topic may help you to locate the files you need to customize.</p>
<p>The original Idiom plug-in used its own extension mechanism to provide overrides to the PDF transformation. With this approach, a dedicated Customization folder within the plug-in was used as a customization layer to store files that override the default behavior.</p>
<p>While this method is no longer recommended, the same organization principles can be used in custom PDF plug-ins to facilitate comparisons with the default settings in the base PDF plug-in and make it easier to migrate customizations to new toolkit versions.</p>
<pre><code>.
├── build.properties.orig
├── catalog.xml.orig
└── fo/
    ├── attrs/
    │   └── custom.xsl.orig
    └── xsl/
        └── custom.xsl.orig
</code></pre>
<p>To begin creating a new custom plug-in, you can copy the contents of the customization layer template in plugins/org.dita.pdf2/Customization to a new folder that will serve as your new custom plug-in folder, such as plugins/com.company.pdf.</p>
<p>To mimic the hierarchy of the default PDF plug-in, you may want to add a cfg/ subfolder and move the contents of the fo/ folder to cfg/fo/.</p>
<p>DITA-OT provides template files that you can start with throughout the Customization directory structure. These files end in the suffix <code>.orig</code> (for example, catalog.xml.orig). To enable these files, remove the <code>.orig</code> suffix from the copies in your new custom plug-in folder. (For example, rename catalog.xml.orig to catalog.xml).</p>
<p>You can then make modifications to the copy in your custom plug-in folder, and copy any other files from the default PDF plug-in that you need to override, such as the page layouts in layout-masters.xsl, or the font-mappings.xml file that tells your PDF renderer which fonts to use and where to find them.</p>
<p><strong>Important:</strong> Wherever possible, avoid copying entire XSL files from the PDF2 plug-in to your custom plug-in. Instead, copy only the specific attribute sets and templates that you want to override. For details, see <a href="topics/plugin-coding-conventions.html">Plug-in coding conventions</a>.</p>
<p>Things you can currently override include:</p>
<ul>
<li>Custom XSL via xsl/custom.xsl and attrs/custom.xsl</li>
<li>Layout overrides via layout-masters.xsl</li>
<li>Font overrides via font-mappings.xml</li>
<li>Per-locale variable overrides via common/vars/[language].xml</li>
<li>I18N configuration via i18n/[language].xml</li>
<li>Index configuration via index/[language].xml</li>
</ul>
<p>When customizing any of these areas, modify the relevant file(s) in your custom plug-in folder. Then, to enable the changes in the publishing process, you find the corresponding entry for each file you modified in the catalog.xml file.</p>
<p>It should look like this:</p>
<pre><code class="language-language-xml">&lt;!--uri name=&quot;cfg:fo/attrs/custom.xsl&quot; uri=&quot;fo/attrs/custom.xsl&quot;/--&gt;
</code></pre>
<p>Remove the comment markers <code>!--</code> and <code>--</code> to enable the change:</p>
<pre><code class="language-language-xml">&lt;uri name=&quot;cfg:fo/attrs/custom.xsl&quot; uri=&quot;fo/attrs/custom.xsl&quot;/&gt;
</code></pre>
<p>Your customization should now be enabled as part of the publishing process.</p>
<pre><code>.
├── plugin.xml
├── ant-include.xml
└── cfg/
    ├── catalog.xml
    ├── common/
    │   ├── artwork/
    │   │   ├── logo.svg
    │   └── vars/
    │       ├── strings.xml
    │       ├── en.xml
    └── fo/
        ├── attrs/
        │   ├── custom.xsl
        ├── font-mappings.xml
        ├── layout-masters.xsl
        └── xsl/
            └── custom.xsl
</code></pre>
<p>When your custom plug-in is installed, the files in its subfolders will override the out-of-the-box settings from their counterparts in org.dita.pdf2/cfg/fo/attrs and org.dita.pdf2/xsl/fo.</p>
<p>The following topics describe the contents of the base PDF plug-in subfolders and provide additional information on customizing various aspects of the default PDF output.</p>
<h1><a class="header" href="#custom-artwork" id="custom-artwork">Custom artwork</a></h1>
<p>The common/artwork folder houses custom artwork files that override the standard icons in org.dita.pdf2/cfg/common/artwork.</p>
<p>These files are used to graphically identify different types of DITA <code>note</code> element.</p>
<p>The mapping between <code>note</code> type and graphic is contained in the common variables file org.dita.pdf2/cfg/common/vars/commonvariables.xml.</p>
<p>The variables that control <code>note</code> graphics all follow the form</p>
<pre><code class="language-language-xml">&lt;variable id=&quot;\{type\} Note Image Path&quot;&gt; \{path to image file\} &lt;/variable&gt;
</code></pre>
<p>where {type} contains a possible value for the <code>note</code> <code>@type</code> attribute and {path to image file} is the path to the note icon image.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/pdf-plugin-structure_common-index.html">Index configuration</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_common-vars.html">Variable overrides</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_fo-attrs.html">Custom attributes</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_fo-i18n.html">Internationalization configuration</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_fo-xsl.html">Custom stylesheets</a></p>
<h1><a class="header" href="#index-configuration" id="index-configuration">Index configuration</a></h1>
<p>The common/index folder houses custom index definition files that override the standard definitions in org.dita.pdf2/cfg/common/index.</p>
<p>Each file contains data for a single language, and should take that language’s ISO 639-1 language designator as its name (for example, pt.xml for Portuguese). If necessary, locale-specific customizations can be provided by adding a region designator to the file name (for example, pt_BR.xml for Brazilian Portuguese).</p>
<p>The index files consist of <code>index.group</code> elements which contain sorting information on one or more characters. Index groups are listed in sort order (“specials” before numbers, numbers before the letter ‘A‘, etc), and the <code>char.set</code> entries they contain are also listed in sort order (uppercase before lowercase).</p>
<p>The best way to start editing a custom index file is by making a copy of the original from org.dita.pdf2/cfg/common/index and making changes as desired.</p>
<p>In order to apply a custom index definition to your publishing outputs, edit catalog.xml and uncomment the appropriate entry in the “Index configuration override entries” section.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/pdf-plugin-structure_common-artwork.html">Custom artwork</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_common-vars.html">Variable overrides</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_fo-attrs.html">Custom attributes</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_fo-i18n.html">Internationalization configuration</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_fo-xsl.html">Custom stylesheets</a></p>
<h1><a class="header" href="#variable-overrides" id="variable-overrides">Variable overrides</a></h1>
<p>The common/vars folder houses custom variable definitions that override the standard definitions in org.dita.pdf2/cfg/common/vars.</p>
<p>As with index configuration, each file contains data for a single language, and should take that language’s ISO 639-1 language designator as its name.</p>
<p>Variable files contain a set of <code>variable</code> elements, identified by their <code>@id</code> attribute. The variable definitions are used to store static text that is used as part of the published outputs. For example, page headers, hyperlinks, etc. The id attribute for each variable should make it clear how the variable text is being used.</p>
<p>Some variables contain <code>param</code> elements which indicate parameter values that are substituted at publish time by the XSL. For example, a page number that is being generated as part of the publishing process might be identified by &lt;param ref-name=&quot;number&quot;/&gt; When editing or translating a variable file, these should be included in the translation, though they can be moved and rearranged within the <code>variable</code> content as needed.</p>
<p>The best way to start editing a custom variables file is by making a copy of the original from org.dita.pdf2/cfg/common/vars and making changes as desired. When adding a new language, start from an existing language’s list of variables and translate each entry as needed.</p>
<p>Note that unchanged <code>variable</code> elements can be omitted: the custom variables file need only include those <code>variable</code> elements which you have modified. Variables not found in the custom file will are taken from the standard variable files.</p>
<p>Applying a custom variable does not require modifying the catalog.xml file. The publishing process will automatically use any custom variables definitions in place of the original ones.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/pdf-plugin-structure_common-artwork.html">Custom artwork</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_common-index.html">Index configuration</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_fo-attrs.html">Custom attributes</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_fo-i18n.html">Internationalization configuration</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_fo-xsl.html">Custom stylesheets</a></p>
<h1><a class="header" href="#custom-attributes" id="custom-attributes">Custom attributes</a></h1>
<p>The fo/attrs folder houses custom attribute configuration files that override the standard attributes in org.dita.pdf2/cfg/fo/attrs.</p>
<p>These files define the appearance of different elements in XML assets when they are rendered to PDF output. The different DITA elements are organized into files by element type – index-related definitions in index-attr.xsl, table-related definitions in tables-attr.xsl, etc.</p>
<p>The XSL attribute sets defined in these files can be used to override the presentation of DITA elements, including font size, color, spacing, etc.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/pdf-plugin-structure_common-artwork.html">Custom artwork</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_common-index.html">Index configuration</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_common-vars.html">Variable overrides</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_fo-i18n.html">Internationalization configuration</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_fo-xsl.html">Custom stylesheets</a></p>
<h1><a class="header" href="#internationalization-configuration" id="internationalization-configuration">Internationalization configuration</a></h1>
<p>The fo/i18n folder houses custom internationalization files that override the standard configurations in org.dita.pdf2/cfg/fo/i18n.</p>
<p>As with index configuration and variable overrides, each file contains data for a single language, and should take that language’s ISO 639-1 language designator as its name.</p>
<p>Each configuration file contains mappings of certain symbols to the Unicode codepoint which should be used to represent them in the given locale.</p>
<p>The best way to start editing a custom configuration is by making a copy of the original from org.dita.pdf2/cfg/fo/i18n and making changes as desired.</p>
<p>In order to apply a custom configuration to your publishing outputs, edit catalog.xml and uncomment the appropriate entry in the “I18N configuration override entries” section.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/pdf-plugin-structure_common-artwork.html">Custom artwork</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_common-index.html">Index configuration</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_common-vars.html">Variable overrides</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_fo-attrs.html">Custom attributes</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_fo-xsl.html">Custom stylesheets</a></p>
<h1><a class="header" href="#custom-stylesheets" id="custom-stylesheets">Custom stylesheets</a></h1>
<p>The fo/xsl folder houses custom stylesheet files that override the default stylesheets in org.dita.pdf2/xsl/fo.</p>
<p>You can use custom stylesheets to implement additional processing routines or adjust the output generated by the default toolkit processing.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/pdf-plugin-structure_common-artwork.html">Custom artwork</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_common-index.html">Index configuration</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_common-vars.html">Variable overrides</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_fo-attrs.html">Custom attributes</a></p>
<p><a href="topics/../topics/pdf-plugin-structure_fo-i18n.html">Internationalization configuration</a></p>
<h1><a class="header" href="#example-creating-a-simple-pdf-plug-in" id="example-creating-a-simple-pdf-plug-in">Example: Creating a simple PDF plug-in</a></h1>
<p>This scenario walks through the process of creating a very simple plug-in (<code>com.example.print-pdf</code>) that creates a new transformation type: print-pdf.</p>
<p>The print-pdf transformation has the following characteristics:</p>
<ul>
<li>Uses A4 paper</li>
<li>Renders figures with a title at the top and a description at the bottom</li>
<li>Use em dashes as the symbols for unordered lists</li>
</ul>
<ol>
<li>
<p>In the plugins directory, create a directory named com.example.print-pdf.</p>
</li>
<li>
<p>In the new com.example.print-pdf directory, create a plug-in configuration file (plugin.xml) that declares the new print-pdf transformation and its dependencies.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;?xml-model href=&quot;https://www.dita-ot.org/rng/plugin.rnc&quot; type=&quot;application/relax-ng-compact-syntax&quot;?&gt;

&lt;plugin id=&quot;com.example.print-pdf&quot;&gt;
  &lt;require plugin=&quot;org.dita.pdf2&quot;/&gt;
  &lt;transtype name=&quot;print-pdf&quot; extends=&quot;pdf&quot; desc=&quot;PDF on A4 paper&quot;/&gt;
  &lt;feature extension=&quot;dita.transtype.print&quot; value=&quot;print-pdf&quot;/&gt;
  &lt;feature extension=&quot;ant.import&quot; file=&quot;integrator.xml&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
</li>
<li>
<p>Add an Ant script (integrator.xml) to define the transformation type.</p>
<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;project&gt;
  &lt;target name=&quot;dita2print-pdf&quot;
       depends=&quot;dita2print-pdf.init,
                dita2pdf2&quot;/&gt;
  &lt;target name=&quot;dita2print-pdf.init&quot;&gt;
    &lt;property name=&quot;customization.dir&quot;
          location=&quot;${dita.plugin.com.example.print-pdf.dir}/cfg&quot;/&gt;
   &lt;/target&gt;
&lt;/project&gt;
</code></pre>
</li>
<li>
<p>In the new plug-in directory, add a cfg/catalog.xml file that specifies the custom XSLT style sheets.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;catalog prefer=&quot;system&quot;
         xmlns=&quot;urn:oasis:names:tc:entity:xmlns:xml:catalog&quot;&gt;
  &lt;uri name=&quot;cfg:fo/attrs/custom.xsl&quot; uri=&quot;fo/attrs/custom.xsl&quot;/&gt;
  &lt;uri name=&quot;cfg:fo/xsl/custom.xsl&quot; uri=&quot;fo/xsl/custom.xsl&quot;/&gt;
&lt;/catalog&gt;
</code></pre>
</li>
<li>
<p>Create the cfg/fo/attrs/custom.xsl file, and add attribute and variable overrides to it.</p>
<p>For example, add the following variables to change the page size to A4.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;
                version=&quot;2.0&quot;&gt;
  &lt;!-- Change page size to A4 --&gt;
  &lt;xsl:variable name=&quot;page-width&quot;&gt;210mm&lt;/xsl:variable&gt;
  &lt;xsl:variable name=&quot;page-height&quot;&gt;297mm&lt;/xsl:variable&gt;
&lt;/xsl:stylesheet&gt;
</code></pre>
</li>
<li>
<p>Create the cfg/fo/xsl/custom.xsl file, and add XSLT overrides to it.</p>
<p>For example, the following code changes the rendering of <code>figure</code> elements.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;
                xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
                xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;
                version=&quot;2.0&quot;&gt;
  &lt;!-- Move figure title to top and description to bottom --&gt;
  &lt;xsl:template match=&quot;*[contains(@class,' topic/fig ')]&quot;&gt;
    &lt;fo:block xsl:use-attribute-sets=&quot;fig&quot;&gt;
      &lt;xsl:call-template name=&quot;commonattributes&quot;/&gt;
      &lt;xsl:if test=&quot;not(@id)&quot;&gt;
        &lt;xsl:attribute name=&quot;id&quot;&gt;
          &lt;xsl:call-template name=&quot;get-id&quot;/&gt;
        &lt;/xsl:attribute&gt;
      &lt;/xsl:if&gt;
      &lt;xsl:apply-templates select=&quot;*[contains(@class,' topic/title ')]&quot;/&gt;
      &lt;xsl:apply-templates select=&quot;*[not(contains(@class,' topic/title ') or contains(@class,' topic/desc '))]&quot;/&gt;
      &lt;xsl:apply-templates select=&quot;*[contains(@class,' topic/desc ')]&quot;/&gt;
    &lt;/fo:block&gt;
  &lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;
</code></pre>
</li>
<li>
<p>Create an English-language variable-definition file (cfg/common/vars/en.xml) and make any necessary modifications to it.</p>
<p>For example, the following code removes the period after the number for an ordered-list item; it also specifies that the bullet for an unordered list item should be an em dash.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;vars xmlns=&quot;http://www.idiominc.com/opentopic/vars&quot;&gt;
  &lt;!-- Remove dot from list number --&gt;
  &lt;variable id=&quot;Ordered List Number&quot;&gt;
    &lt;param ref-name=&quot;number&quot;/&gt;
  &lt;/variable&gt;
  &lt;!-- Change unordered list bullet to an em dash --&gt;
  &lt;variable id=&quot;Unordered List bullet&quot;&gt;&amp;#x2014;&lt;/variable&gt;
&lt;/vars&gt;
</code></pre>
</li>
</ol>
<p><strong>Tip:</strong> The files for this sample plug-in are included in the DITA-OT installation directory under docsrc/samples/plugins/com.example.print-pdf/ and on <a href="https://github.com/dita-ot/docs/tree/develop/samples/plugins/com.example.print-pdf">GitHub</a>.</p>
<p>The plug-in directory has the following layout and files:</p>
<pre><code>com.example.print-pdf
├── cfg
│   ├── catalog.xml
│   ├── common
│   │   └── vars
│   │       └── en.xml
│   └── fo
│       ├── attrs
│       │   └── custom.xsl
│       └── xsl
│           └── custom.xsl
├── integrator.xml
└── plugin.xml
</code></pre>
<ol>
<li>
<p>Run dita --install to install the plug-in and make the print-pdf transformation available.</p>
</li>
<li>
<p>Build output with the new transformation type to verify that the plug-in works as intended.</p>
<pre><code>dita --input=my.ditamap --format=print-pdf
</code></pre>
</li>
</ol>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/plugins-installing.html">Installing plug-ins</a></p>
<h1><a class="header" href="#resources-for-custom-pdf-plug-ins" id="resources-for-custom-pdf-plug-ins">Resources for custom PDF plug-ins</a></h1>
<p>There are several external resources that can help you generate and refine custom PDF plug-ins for DITA Open Toolkit.</p>
<h2><a class="header" href="#pdf-plugin-generator" id="pdf-plugin-generator">PDF Plugin Generator</a></h2>
<p>This online tool, developed and maintained by Jarno Elovirta, enables you to generate a PDF customization plug-in automatically.</p>
<p>The application at <a href="http://dita-generator.elovirta.com/">dita-generator.elovirta.com</a> walks you through the process of creating a custom PDF plug-in and allows you to adjust a variety of settings for your PDF output. For example, you can:</p>
<ul>
<li>
<p>Define the target environment, selecting from the most current and two previous versions of DITA-OT</p>
</li>
<li>
<p>Select the XSL formatting engine (FOP, Antenna House Formatter, or RenderX XEP)</p>
</li>
<li>
<p>Specify page size, columns, and margins</p>
</li>
<li>
<p>Select from (limited) options for headers and footers</p>
</li>
<li>
<p>Specify layout options for chapters</p>
</li>
<li>
<p>Select formatting for the following publication components:</p>
<ul>
<li>
<p>Normal text</p>
</li>
<li>
<p>Headings (levels one through four)</p>
</li>
<li>
<p>Titles for sections and examples</p>
</li>
<li>
<p>Tables and figures</p>
</li>
<li>
<p>Notes and examples</p>
</li>
<li>
<p>Lists (unordered, ordered, and definition)</p>
</li>
<li>
<p>Code blocks and pre-formatted text</p>
</li>
<li>
<p>Inline elements such as links and trademarks
For each component, you can specify:</p>
</li>
<li>
<p>Font family, size, weight, and style</p>
</li>
<li>
<p>Color and background color</p>
</li>
<li>
<p>Alignment, indentation, spacing, and padding</p>
</li>
</ul>
</li>
</ul>
<p><strong>Tip:</strong> The PDF Plugin Generator should be your first stop as you start developing a brand-new PDF customization plug-in.</p>
<h2><a class="header" href="#dita-for-print-a-dita-open-toolkit-workbook-second-edition-2017" id="dita-for-print-a-dita-open-toolkit-workbook-second-edition-2017"><em>DITA for Print: A DITA Open Toolkit Workbook</em> (Second Edition, 2017)</a></h2>
<p>Authored by Leigh W. White, DITA Specialist at IXIASOFT, and published by XML Press, <em>DITA for Print</em> walks readers through developing a PDF customization from scratch.</p>
<p>Here is an excerpt from the back cover:</p>
<blockquote>
<p><em>DITA for Print</em> is for anyone who wants to learn how to create PDFs using the DITA Open Toolkit without learning everything there is to know about XSL-FO, XSLT, or XPath, or even about the DITA Open Toolkit itself. <em>DITA for Print</em> is written for non-programmers, by a non-programmer, and although it is written for people who have a good understanding of the DITA standard, you don’t need a technical background to get custom PDFs up and running quickly.</p>
</blockquote>
<p>This is an excellent, long-needed resource that was initially developed in 2013 for DITA-OT 1.8.</p>
<p>The second edition has been revised to cover DITA Open Toolkit Version 2, including customizing the DITA 1.3 troubleshooting topic type, localization strings, bookmarks, and the new back-cover functionality.</p>
<p><strong>Important:</strong></p>
<p>The first edition of <em>DITA for Print</em> recommended copying entire files from the PDF2 plug-in to your custom plug-in. The DITA-OT project — and the second edition of the book — do not recommend this practice.</p>
<p>Instead, you should copy only the specific attribute sets and templates that you want to override. Following this practice will more cleanly isolate your customizations from the DITA-OT code, which will make it easier for you to update your plug-ins to work with future versions of DITA-OT.</p>
<h2><a class="header" href="#dita-for-practitioners-volume-1-architecture-and-technology-2012" id="dita-for-practitioners-volume-1-architecture-and-technology-2012"><em>DITA for Practitioners: Volume 1, Architecture and Technology</em> (2012)</a></h2>
<p>Authored by Eliot Kimber and published by XML Press, this seminal resource contains a chapter dedicated to DITA Open Toolkit: “Running, Configuring, and Customizing the Open Toolkit”. In addition to a robust overview of DITA-OT customization and extension, the chapter contains a detailed example of customizing a PDF plug-in to specify 7&quot; × 10&quot; paper size and custom fonts for body text and headers.</p>
<p>The DITA-OT chapter in <em>DITA for Practitioners: Volume 1</em> was written for DITA-OT 1.5.4, which was the latest stable version at the time it was written.</p>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2018/dita-ot_day.html#twisted_xslt_tricks">Twisted XSLT Tricks: Making Column Switching Work for FOP</a></p>
<p><a href="https://www.oxygenxml.com/events/2014/dita-ot_day.html#DITA_Open_Toolkit_PDF_plugins_without_fuss_muss_or_writing_XSL-FO">DITA Open Toolkit PDF Plugins Without Fuss, Muss, or Writing XSL-FO</a></p>
<p><a href="https://www.oxygenxml.com/events/2014/dita-ot_day.html#PDFs_from_the_DITA_Open_Toolkit">PDFs from the DITA Open Toolkit: The Easy and the Not-so-Easy</a></p>
<h1><a class="header" href="#globalizing-dita-content" id="globalizing-dita-content">Globalizing DITA content</a></h1>
<p>The DITA standard supports content that is written in or translated to any language. In general, DITA Open Toolkit passes content through to the output format unchanged. DITA-OT uses the values for the <code>@xml:lang</code> and <code>@dir</code> attributes that are set in the source content to provide globalization support. You can create custom plug-ins to support additional languages.</p>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2017/dita-ot_day.html#Open_Toolkit">Locale-Aware Sorting and Text Handling in the Open Toolkit</a></p>
<p><a href="https://www.oxygenxml.com/events/2016/dita-ot_day.html#DITA-OT_Who_does_what">Internationalization and the DITA-OT: Who does what?</a></p>
<p><a href="http://docs.oasis-open.org/dita/v1.2/os/spec/archSpec/translation.html">Localization overview in the OASIS DITA standard</a></p>
<h1><a class="header" href="#globalization-support" id="globalization-support">Globalization support</a></h1>
<p>DITA Open Toolkit offers globalization support in the following areas: generated text, index sorting, and bi-directional text.</p>
<ul>
<li>
<p><strong>Generated text</strong></p>
<p>Generated text is text that is rendered automatically in the output that is generated by DITA-OT; this text is not located in the DITA source files. The following are examples of generated text:</p>
<ul>
<li>The word &quot;Chapter&quot; in a PDF file.</li>
<li>The phrases &quot;Related concepts,&quot; &quot;Related tasks,&quot; and &quot;Related reference&quot; in HTML output.</li>
</ul>
</li>
<li>
<p><strong>Index sorting</strong></p>
<p>DITA-OT can use only a single language to sort indexes.</p>
</li>
<li>
<p><strong>Bi-directional text</strong></p>
<p>DITA-OT contains style sheets (CSS files) that support both left-to-right (LTR) and right-to-left (RTL) languages in HTML based transformations. PDF supports both LTR and RTL rendering based on the document language. The <code>@dir</code> attribute can be used to override the default rendering direction.</p>
</li>
</ul>
<p>When DITA-OT generates output, it takes the first value for the <code>@xml:lang</code> attribute that it encounters, and then it uses that value to create generated text, perform index sorting, and determine which default CSS file is used. If no value for the <code>@xml:lang</code> attribute is found, the toolkit defaults to U.S. English. You can use the <a href="topics/../parameters/configuration-properties.html">configuration.properties</a> to change the default language.</p>
<h1><a class="header" href="#customizing-generated-text" id="customizing-generated-text">Customizing generated text</a></h1>
<p>Generated text is the term for strings that are automatically added by the build, such as &quot;Note&quot; before the contents of a <code>note</code> element.</p>
<p>The generated text extension point is used to add new strings to the default set of generated text. There are several reasons you may want to use this:</p>
<ul>
<li>
<p>It can be used to add new text for your own processing extensions; for example, it could be used to add localized versions of the string &quot;User response&quot; to aid in rendering troubleshooting information.</p>
</li>
<li>
<p>It can be used to override the default strings in the toolkit; for example, it could be used to reset the English string &quot;Figure&quot; to &quot;Fig&quot;.</p>
</li>
<li>
<p>It can be used to add support for new languages (for non-PDF transforms only; PDF requires more complicated localization support). For example, it could be used to add support for Vietnamese or Gaelic; it could also be used to support a new variant of a previously supported language, such as Australian English.</p>
</li>
<li>
<p><strong><code>dita.xsl.strings</code></strong></p>
<p>Add new strings to generated text file.</p>
</li>
</ul>
<h2><a class="header" href="#example-adding-new-strings" id="example-adding-new-strings">Example: adding new strings</a></h2>
<p>First, copy the file xsl/common/strings.xml from the base plug-in directory plugins/org.dita.base to your plug-in, and edit it to contain the languages that you are providing translations for (&quot;en-US&quot; must be present). For this sample, copy the file into your plug-in as xsl/my-new-strings.xml. The new strings file will look something like this:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;!-- Provide strings for my plug-in; this plug-in supports
     English, Icelandic, and Russian. --&gt;
&lt;langlist&gt;
  &lt;lang xml:lang=&quot;en&quot;     filename=&quot;mystring-en-us.xml&quot;/&gt;
  &lt;lang xml:lang=&quot;en-US&quot;  filename=&quot;mystring-en-us.xml&quot;/&gt;
  &lt;lang xml:lang=&quot;is&quot;     filename=&quot;mystring-is-is.xml&quot;/&gt;
  &lt;lang xml:lang=&quot;is-IS&quot;  filename=&quot;mystring-is-is.xml&quot;/&gt;
  &lt;lang xml:lang=&quot;ru&quot;     filename=&quot;mystring-ru-ru.xml&quot;/&gt;
  &lt;lang xml:lang=&quot;ru-RU&quot;  filename=&quot;mystring-ru-ru.xml&quot;/&gt;
&lt;/langlist&gt;
</code></pre>
<p>Next, copy the file xsl/common/strings-en-us.xml from the base plug-in directory plugins/org.dita.base to your plug-in, and replace the content with your own strings (be sure to give them unique name attributes). Do the same for each language that you are providing a translation for. For example, the file mystring-en-us.xml might contain:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;strings xml:lang=&quot;en-US&quot;&gt;
  &lt;str name=&quot;String1&quot;&gt;English generated text&lt;/str&gt;
  &lt;str name=&quot;Another String&quot;&gt;Another String in English&lt;/str&gt;
&lt;/strings&gt;
</code></pre>
<p>Use the following extension code to include your strings in the set of generated text:</p>
<pre><code>&lt;plugin id=&quot;com.example.strings&quot;&gt;
  &lt;feature extension=&quot;dita.xsl.strings&quot; file=&quot;xsl/my-new-strings.xml&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p>The string is now available to the &quot;getVariable&quot; template used in many DITA-OT XSLT files. For example, if processing in a context where the xml:lang value is &quot;en-US&quot;, the following call would return &quot;Another String in English&quot;:</p>
<pre><code>&lt;xsl:call-template name=&quot;getVariable&quot;&gt;
  &lt;xsl:with-param name=&quot;id&quot; select=&quot;'Another String'&quot;/&gt;
&lt;/xsl:call-template&gt;
</code></pre>
<p><strong>Note:</strong> If two plug-ins define the same string, the results will be non-deterministic, so multiple plug-ins should not try to create the same generated text string. One common way to avoid this problem is to ensure the name attributes used to look up the string value are related to the ID or purpose of your plug-in.</p>
<h2><a class="header" href="#example-modifying-existing-strings" id="example-modifying-existing-strings">Example: modifying existing strings</a></h2>
<p>The process for modifying existing generated text is exactly the same as for adding new text, except that the strings you provide override values that already exist. To begin, set up the xsl/my-new-strings.xml file in your plug-in as in the previous example.</p>
<p>Next, copy the file xsl/common/strings-en-us.xml from the base plug-in directory plugins/org.dita.base to your plug-in, and choose the strings you wish to change (be sure to leave the name attribute unchanged, because this is the key used to look up the string). Create a strings file for each language that needs to modify existing strings. For example, the new file mystring-en-us.xml might contain:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;strings xml:lang=&quot;en-US&quot;&gt;
  &lt;str name=&quot;Figure&quot;&gt;Fig&lt;/str&gt;
  &lt;str name=&quot;Draft comment&quot;&gt;ADDRESS THIS DRAFT COMMENT&lt;/str&gt;
&lt;/strings&gt;
</code></pre>
<p>To include the new strings, use the same method as above to add these strings to your plugin.xml file. Once this plug-in is installed, where XHTML output previously generated the term &quot;Figure&quot;, it will now generate &quot;Fig&quot;; where it previously generated &quot;Draft comment&quot;, it will now generate &quot;ADDRESS THIS DRAFT COMMENT&quot;. The same strings in other languages will not be modified unless you also provide new versions for those languages.</p>
<p><strong>Note:</strong> If two plug-ins override the same string in the same language, the results will be non-deterministic (either string may be used under different conditions). Multiple plug-ins should not override the same generated text string for a single language.</p>
<h2><a class="header" href="#example-adding-a-new-language" id="example-adding-a-new-language">Example: adding a new language</a></h2>
<p>The process for adding a new language is exactly the same as for adding new text, except you are effectively just translating an existing strings file. To begin, set up the xsl/my-new-strings.xml file in your plug-in as in the previous examples. In this case, the only difference is that you are adding a mapping to new languages; for example, the following file would be used to set up support for Vietnamese:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;!-- Map languages with xml:lang=&quot;vi&quot; or xml:lang=&quot;vi-vn&quot;
     to the translations in this plug-in. --&gt;
&lt;langlist&gt;
  &lt;lang xml:lang=&quot;vi&quot;     filename=&quot;strings-vi.xml&quot;/&gt;
  &lt;lang xml:lang=&quot;vi-VN&quot;  filename=&quot;strings-vi.xml&quot;/&gt;
&lt;/langlist&gt;
</code></pre>
<p>Next, copy the file xsl/common/strings-en-us.xml from the base plug-in directory plugins/org.dita.base to your plug-in, and rename it to match the language you wish to add. For example, to support Vietnamese strings you may want to pick a name like strings-vi.xml. In that file, change the <code>@xml:lang</code> attribute on the root element to match your new language.</p>
<p>Once the file is ready, translate the contents of each <code>str</code> element (be sure to leave the name attribute unchanged). Repeat this process for each new language you wish to add.</p>
<p>To include the new languages, use the same method as above to add these strings to your plugin.xml file. Once this plug-in is installed, non-PDF builds will include support for Vietnamese; instead of generating the English word &quot;Caution&quot;, the element <code>&lt;note type=&quot;caution&quot; xml:lang=&quot;vi&quot;&gt;</code> may generate something like &quot;chú ý&quot;.</p>
<p><strong>Note:</strong> If two plug-ins add support for the same language using different values, the results will be non-deterministic (translations from either plug-in may be picked up under different conditions).</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/globalization-languages.html">Languages supported by the core toolkit</a></p>
<h1><a class="header" href="#supported-languages" id="supported-languages">Supported languages</a></h1>
<p>The following languages are supported for all PDF, XHTML, and HTML5-based transformation types.</p>
<p><strong>Note:</strong> While language codes listed below use the conventional capitalization style of &quot;aa-BB&quot; and &quot;aa-Script-BB&quot;, DITA-OT processing is not case sensitive when reading these values from the <code>@xml:lang</code> attribute.</p>
<table><thead><tr><th>Language</th><th>Language code</th><th>Notes</th></tr></thead><tbody>
<tr><td>العربية (Arabic)</td><td>ar or ar-EG</td><td>Defaults to right-to-left presentation.</td></tr>
<tr><td>Беларуская (Belarusian)</td><td>be or be-BY</td><td> </td></tr>
<tr><td>Bosanski (Bosnian)</td><td>bs or bs-BA</td><td> </td></tr>
<tr><td>Български (Bulgarian)</td><td>bg or bg-BG</td><td> </td></tr>
<tr><td>Català (Catalan)</td><td>ca-ES</td><td> </td></tr>
<tr><td>简体中文 (Simplified Chinese)</td><td>zh-CN or zh-Hans</td><td>PDF index is not properly collated by default.</td></tr>
<tr><td>繁體中文 (Traditional Chinese)</td><td>zh-TW or zh-Hant</td><td>PDF index is not properly collated by default.</td></tr>
<tr><td>Hrvatski (Croatian)</td><td>hr or hr-HR</td><td> </td></tr>
<tr><td>Čeština (Czech)</td><td>cs or cs-CZ</td><td> </td></tr>
<tr><td>Dansk (Danish)</td><td>da or da-DK</td><td> </td></tr>
<tr><td>Nederlands (Dutch)</td><td>nl or nl-NL</td><td>Subset of generated text also available for Belgian Dutch (nl-BE)</td></tr>
<tr><td>English (US)</td><td>en or en-US</td><td>Subset of generated text also available for British English (en-GB) and Canadian English (en-CA)</td></tr>
<tr><td>Eesti (Estonian)</td><td>et or et-EE</td><td> </td></tr>
<tr><td>Suomi (Finnish)</td><td>fi or fi-FI</td><td> </td></tr>
<tr><td>Français (French)</td><td>fr or fr-FR</td><td>Subset of generated text also available for Belgian French (fr-BE), Canadian French (fr-CA), and Swiss French (fr-CH)</td></tr>
<tr><td>Deutsch (German)</td><td>de or de-DE</td><td>Subset of generated text also available for Swiss German (de-CH)</td></tr>
<tr><td>Ελληνικά (Greek)</td><td>el or el-GR</td><td> </td></tr>
<tr><td>עברית (Hebrew)</td><td>he or he-IL</td><td>Defaults to right-to-left presentation.</td></tr>
<tr><td>हिन्दी (Hindi)</td><td>hi or hi-HI</td><td> </td></tr>
<tr><td>Magyar (Hungarian)</td><td>hu or hu-HU</td><td> </td></tr>
<tr><td>Íslenska (Icelandic)</td><td>is or is-IS</td><td> </td></tr>
<tr><td>Bahasa Indonesia (Indonesian)</td><td>id or id-ID</td><td> </td></tr>
<tr><td>Italiano (Italian)</td><td>it or it-IT</td><td>Subset of generated text also available for Swiss Italian (it-CH)</td></tr>
<tr><td>日本語 (Japanese)</td><td>ja or ja-JP</td><td>PDF index is not properly collated by default.</td></tr>
<tr><td>Қазақша (Kazakh)</td><td>kk or kk-KZ</td><td> </td></tr>
<tr><td>한국어 (Korean)</td><td>ko or ko-KR</td><td> </td></tr>
<tr><td>Latviešu (Latvian)</td><td>lv or lv-LV</td><td> </td></tr>
<tr><td>Lietuvių (Lithuanian)</td><td>lt or lt-LT</td><td> </td></tr>
<tr><td>Македонски (Macedonian)</td><td>mk or mk-MK</td><td> </td></tr>
<tr><td>Bahasa Melayu (Malay)</td><td>ms or ms-MY</td><td> </td></tr>
<tr><td>Crnogorski (Montenegrin)</td><td>sr-Latn-ME</td><td> </td></tr>
<tr><td>Norsk (Norwegian)</td><td>no or no-NO</td><td> </td></tr>
<tr><td>Polski (Polish)</td><td>pl or pl-PL</td><td> </td></tr>
<tr><td>Português (Portuguese)</td><td>pt or pt-PT</td><td> </td></tr>
<tr><td>Português do Brasil (Brazilian Portuguese)</td><td>pt-BR</td><td> </td></tr>
<tr><td>Română (Romanian)</td><td>ro or ro-RO</td><td> </td></tr>
<tr><td>Русский (Russian)</td><td>ru or ru-RU</td><td> </td></tr>
<tr><td>Српски (Serbian - Cyrillic script)</td><td>sr, sr-CS, sr-RS, or sr-SP</td><td> </td></tr>
<tr><td>Srpski (Serbian - Latin script)</td><td>sr-Latn-RS</td><td> </td></tr>
<tr><td>Slovenčina (Slovak)</td><td>sk or sk-SK</td><td> </td></tr>
<tr><td>Slovenščina (Slovenian)</td><td>sl or sl-SI</td><td> </td></tr>
<tr><td>Español (Spanish)</td><td>es or es-ES</td><td>Also supported using es-419 (Latin American Spanish).</td></tr>
<tr><td>Svenska (Swedish)</td><td>sv or sv-SE</td><td> </td></tr>
<tr><td>ภาษาไทย (Thai)</td><td>th or th-TH</td><td> </td></tr>
<tr><td>Türkçe (Turkish)</td><td>tr or tr-TR</td><td> </td></tr>
<tr><td>Українська (Ukrainian)</td><td>uk or uk-UA</td><td> </td></tr>
<tr><td>اردو (Urdu)</td><td>ur or ur-PK</td><td>Defaults to right-to-left presentation.</td></tr>
<tr><td>Tiếng Việt (Vietnamese)</td><td>vi or vi-VN</td><td> </td></tr>
</tbody></table>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/plugin-addgeneratedtext.html">How to add support for new languages in HTML</a></p>
<h1><a class="header" href="#migrating-customizations" id="migrating-customizations">Migrating customizations</a></h1>
<p>If you have XSL transformation overrides, plug-ins or other customizations written prior to DITA-OT 3.6, you may need to make changes to ensure your overrides work properly with the latest toolkit versions.</p>
<p>In some cases, you may be able to remove old code that is no longer needed. In other cases, you may need to refactor your code to point to the modified extension points, templates or modes in recent toolkit versions.</p>
<p>When migrating customizations, identify the version of the toolkit you're currently using (base version) and the version of the toolkit you want to migrate to (target version). Then, review all of the migration changes described in <em>all</em> of the versions from the base through the target. For instance, if you're currently on 2.2 and want to move to 3.3, you should review all of the changes in 2.3 through 3.3. You may want to start at the oldest version and read forward so you can chronologically follow the changes, since it is possible that files or topics have had multiple changes.</p>
<p><strong>Note:</strong></p>
<p>DITA-OT releases follow <a href="https://semver.org">semantic versioning</a> guidelines. Version numbers use the <code>major.minor.patch</code> syntax, where major versions may include incompatible API changes, minor versions add functionality in a backwards-compatible manner and patch versions are maintenance releases that include backwards-compatible bug fixes.</p>
<p>Custom plug-ins developed for a previous major version may require changes to work correctly with recent toolkit versions. Most plug-ins should be compatible with subsequent minor and patch versions of the major release for which they were originally developed.</p>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2016/dita-ot_day.html#Upgrading_PDF_plugins_to_DITA_OT_2.x">Gotcha! Upgrading PDF plugins to DITA-OT 2.x</a></p>
<h1><a class="header" href="#migrating-to-release-36" id="migrating-to-release-36">Migrating to release 3.6</a></h1>
<p>DITA-OT 3.6 includes performance enhancements such as processing in parallel and in memory, support for PDF changebars with Apache™ FOP, and an updated preview of features for the latest draft of the upcoming DITA 2.0 standard, including the <code>audio</code> and <code>video</code> elements, and the new emphasis domain.</p>
<p><strong>Note:</strong> This topic provides a summary of changes in DITA-OT 3.6 that may require modifications to custom stylesheets or plug-ins. For more information on changes in this release, see the <a href="https://www.dita-ot.org/3.6/release-notes/">DITA-OT 3.6 Release Notes</a>.</p>
<h2><a class="header" href="#parallel-processing-1" id="parallel-processing-1">Parallel processing</a></h2>
<p>Preprocessing module code can now be run in parallel by setting the parallel parameter to true. The performance benefits this option provides depend heavily on the source file set, the DITA features used in the project, and the computer doing the processing, but under the right circumstances, you may see notable improvements when this option is enabled.</p>
<h2><a class="header" href="#in-memory-processing-1" id="in-memory-processing-1">In-memory processing</a></h2>
<p>DITA-OT 3.6 introduces a new Store API with preview support for in-memory processing. The Cache Store can be activated by setting the store-type parameter to memory. In-memory processing provides performance advantages in I/O bound environments such as cloud computing platforms, where processing time depends primarily on how long it takes to read and write temporary files. For more information, see <a href="topics/../reference/store-api.html">Store API – Processing in memory</a>.</p>
<h2><a class="header" href="#caching-dita-class-instances" id="caching-dita-class-instances">Caching DITA class instances</a></h2>
<p>The DITA-OT Java code uses a new caching <code>DitaClass.getInstance(cls)</code> factory method rather than generating <code>DitaClass</code> instances directly. This allows previously created instances to be re-used, which reduces the number of instances that need to be created.</p>
<p><strong>Important:</strong> Custom plug-ins that use the <code>DitaClass</code> constructor in Java code should be updated to use the <code>getInstance</code> factory method instead.</p>
<h2><a class="header" href="#pdf-changebars-with-apache-fop-1" id="pdf-changebars-with-apache-fop-1">PDF changebars with Apache FOP</a></h2>
<p>For DITA-OT 3.4, the bundled Apache™ Formatting Objects Processor library was upgraded to version 2.4, which included support for changebars, but those features were not yet enabled in DITA-OT 3.4 pending further testing. DITA-OT 3.6 removes the FOP-specific overrides that disabled changebars in earlier versions, allowing the default PDF2 flagging routines to be applied when generating PDFs with FOP. For details, see <a href="topics/pdf2-creating-change-bars.html">Generating revision bars</a>.</p>
<p>Plug-ins that implemented custom FOP flagging by overriding the org.dita.pdf2.fop/xsl/fo/flagging_fop.xsl stylesheet in prior versions will need to be updated, as this file is no longer available in DITA-OT 3.6. <a href="https://github.com/dita-ot/dita-ot/issues/3511">#3511</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3591">#3591</a></p>
<h2><a class="header" href="#dublin-core-metadata-removed-from-html5" id="dublin-core-metadata-removed-from-html5">Dublin Core metadata removed from HTML5</a></h2>
<p>Up to version 3.5, DITA-OT included the <a href="https://dublincore.org/specifications/dublin-core/dcmi-terms">Dublin Core Metadata Element Set</a> in both XHTML and HTML5 output. DITA-OT 3.6 no longer generates Dublin Core metadata in HTML5 output.</p>
<p><strong>Tip:</strong> If necessary, the <a href="https://github.com/dita-ot/org.dita.html5.dublin-core/">org.dita.html5.dublin-core</a> plug-in can be installed from the plug-in registry at <a href="https://www.dita-ot.org/plugins">dita-ot.org/plugins</a> to add Dublin Core metadata to HTML5.</p>
<p>To install the plug-in, run the following command:</p>
<pre><code class="language-syntax-bash">dita install org.dita.html5.dublin-core
</code></pre>
<h2><a class="header" href="#legacy-style-attributes-moved-to-css" id="legacy-style-attributes-moved-to-css">Legacy style attributes moved to CSS</a></h2>
<p>Remaining inline style attributes were removed from HTML5 code, which prevented custom plug-ins from overriding the presentation of the corresponding elements, including:</p>
<ul>
<li><code>line-through</code> and <code>overline</code> elements</li>
<li>syntax diagrams</li>
<li>long quote citations</li>
<li>Boolean states</li>
</ul>
<p>These changes move the default presentation rules to CSS to allow users to override these styles in custom stylesheets. The output is visually equivalent to the results generated by previous toolkit versions.</p>
<p><strong>Important:</strong> In publishing environments that do not use the default common CSS files, these styles may need to be implemented in custom stylesheets.</p>
<h2><a class="header" href="#xsl-variable-msgprefix-removed" id="xsl-variable-msgprefix-removed">XSL variable <code>msgprefix</code> removed</a></h2>
<p>The <code>msgprefix</code> variable (“DOTX”) has been deprecated since DITA-OT 2.3 and is now removed from DITA-OT 3.6. For more information, see <a href="topics/migrating-to-2.3.html">Migrating to release 2.3</a>.</p>
<h1><a class="header" href="#migrating-to-release-35" id="migrating-to-release-35">Migrating to release 3.5</a></h1>
<p>DITA-OT 3.5 includes support for additional input resources, an alternative subcommand syntax for the dita command, and an initial preview of features for the latest draft of the upcoming DITA 2.0 standard.</p>
<p><strong>Note:</strong> This topic provides a summary of changes in DITA-OT 3.5 that may require modifications to custom stylesheets or plug-ins. For more information on changes in this release, see the <a href="https://www.dita-ot.org/3.5/release-notes/">DITA-OT 3.5 Release Notes</a>.</p>
<h2><a class="header" href="#new-subcommands" id="new-subcommands">New subcommands</a></h2>
<p>The dita command line interface has been refactored to support subcommands for common operations.</p>
<p><strong>Important:</strong> The new subcommands supersede the deprecated X-Toolkit–style single-hyphen keyword variants (such as -install), and the corresponding GNU-style option keywords preceded by two hyphens (such as --install).</p>
<ul>
<li>
<p><strong>dita install</strong></p>
<p>Installs or reloads plug-ins (replaces dita --install)</p>
</li>
<li>
<p><strong>dita plugins</strong></p>
<p>Prints a list of installed plug-ins (replaces dita --plugins)</p>
</li>
<li>
<p><strong>dita transtypes</strong></p>
<p>Prints a list of installed transformation types, or <em>output formats</em> (replaces dita --transtypes)</p>
</li>
<li>
<p><strong>dita uninstall</strong></p>
<p>Removes and deletes a plug-in (replaces dita --uninstall)</p>
</li>
<li>
<p><strong>dita version</strong></p>
<p>Prints version information and exits (replaces dita --version)</p>
</li>
</ul>
<p><strong>Tip:</strong> The double-hyphen option syntax has been retained for backwards compatibility, so if you use commands like dita --install in scripts, they will still work, but you may want to migrate your scripts to the new subcommand syntax.</p>
<h2><a class="header" href="#legacy-constructs-removed" id="legacy-constructs-removed">Legacy constructs removed</a></h2>
<p>DITA-OT 3.5 no longer includes the following legacy properties, list files, and targets, which were deprecated in previous releases. These constructs were no longer used in recent releases, and have now been removed entirely.</p>
<p>The following Ant targets have been removed from the pre-processing pipeline:</p>
<ul>
<li><code>mappull</code> and <code>mappull-check</code>, which were used to pull metadata (such as navtitle) into the map from referenced topics prior to DITA-OT 2.2 (merged with <code>move-meta-entries</code>)</li>
<li><code>conref-check</code>, deprecated since 2.3</li>
<li><code>coderef</code>, which was used to resolve code references in input files prior to 2.3 (merged with <code>topic-fragment</code>)</li>
<li><code>copy-subsidiary</code> and <code>copy-subsidiary-check</code>, which were used to copy files to the temporary directory prior to 2.1</li>
</ul>
<p>Recent DITA-OT versions provide alternative mechanisms to achieve the same results, such as the <code>ditafileset</code> element to select resources in the temporary directory.</p>
<p>Along with the obsolete targets, the following Ant properties have been removed:</p>
<ul>
<li><code>canditopicsfile</code></li>
<li><code>canditopicslist</code></li>
<li><code>conreffile</code></li>
<li><code>conreflist</code></li>
<li><code>conreftargetsfile</code></li>
<li><code>conreftargetslist</code></li>
<li><code>copytosourcefile</code></li>
<li><code>copytosourcelist</code></li>
<li><code>fullditamapandtopicfile</code></li>
<li><code>fullditamapandtopiclist</code></li>
<li><code>fullditamapfile</code></li>
<li><code>fullditamaplist</code></li>
<li><code>fullditatopicfile</code></li>
<li><code>fullditatopiclist</code></li>
<li><code>hrefditatopicfile</code></li>
<li><code>hrefditatopiclist</code></li>
<li><code>hreftargetsfile</code></li>
<li><code>hreftargetslist</code></li>
<li><code>htmlfile</code></li>
<li><code>htmllist</code></li>
<li><code>imagefile</code></li>
<li><code>imagelist</code></li>
<li><code>outditafilesfile</code></li>
<li><code>outditafileslist</code></li>
<li><code>resourceonlyfile</code></li>
<li><code>resourceonlylist</code></li>
<li><code>subjectschemefile</code></li>
<li><code>subjectschemelist</code></li>
<li><code>subtargetsfile</code></li>
<li><code>subtargetslist</code></li>
<li><code>user.input.file.listfile</code></li>
<li><code>user.input.file</code></li>
</ul>
<p>The following obsolete list files are no longer generated in the temporary directory:</p>
<ul>
<li>canditopics.list</li>
<li>conref.list</li>
<li>conreftargets.list</li>
<li>copytosource.list</li>
<li>fullditamap.list</li>
<li>fullditamapandtopic.list</li>
<li>fullditatopic.list</li>
<li>hrefditatopic.list</li>
<li>hreftargets.list</li>
<li>html.list</li>
<li>image.list</li>
<li>outditafiles.list</li>
<li>resourceonly.list</li>
<li>subjectscheme.list</li>
<li>subtargets.list</li>
<li>user.input.file.list</li>
<li>usr.input.file.list</li>
</ul>
<p>For example, if your plug-in previously used the <code>fullditatopicfile</code> to select resources in the temporary directory like this:</p>
<pre><code>&lt;xslt basedir=&quot;${dita.temp.dir}&quot;
      destdir=&quot;${output.dir}&quot;
      includesfile=&quot;${dita.temp.dir}${file.separator}${fullditatopicfile}&quot;
      style=&quot;${args.xsl}&quot;&gt;
  &lt;!-- ⋮ --&gt;
&lt;/xslt&gt;
</code></pre>
<p>With DITA-OT 2.4 or newer, use the <code>ditafileset</code> element instead:</p>
<pre><code>&lt;xslt basedir=&quot;${dita.temp.dir}&quot;
      destdir=&quot;${output.dir}&quot;
      style=&quot;${args.xsl}&quot;&gt;
  &lt;ditafileset format=&quot;dita&quot; processingRole=&quot;normal&quot;/&gt;
  &lt;!-- ⋮ --&gt;
&lt;/xslt&gt;
</code></pre>
<p>If your plug-in previously used the <code>user.input.file.listfile</code> to process the start map like this:</p>
<pre><code>&lt;xslt …
      includesfile=&quot;${dita.temp.dir}${file.separator}${user.input.file.listfile}&quot;/&gt;
</code></pre>
<p>Use the <code>ditafileset</code> element as follows:</p>
<pre><code>&lt;xslt … &gt;
  &lt;ditafileset input=&quot;true&quot; format=&quot;ditamap&quot;/&gt;
&lt;/xslt&gt;
</code></pre>
<h2><a class="header" href="#adjusting-output-file-names" id="adjusting-output-file-names">Adjusting output file names</a></h2>
<p>Two new parameters can be used to dynamically adjust the names and locations of output files in transformations that use the map-first pre-processing routine (<code>preprocess2</code>).</p>
<p>These parameters can be passed on the command line, or included in a custom plug-in via <code>property</code> elements in an Ant script as described in <a href="topics/plugin-rewrite-rules.html">Adjusting file names in map-first pre-processing</a>.</p>
<ul>
<li>Use result.rewrite-rule.class to rewrite filenames with a Java class that implements the <code>org.dita.dost.module.RewriteRule</code> interface</li>
<li>Use result.rewrite-rule.xsl to rewrite via an XSLT stylesheet</li>
</ul>
<h1><a class="header" href="#migrating-to-release-34" id="migrating-to-release-34">Migrating to release 3.4</a></h1>
<p>DITA-OT 3.4 includes an official Docker container image, a separate plug-in for PDF indexing, a new option to skip HTML5 cover pages, and initial support for project files that allow you to define multiple deliverables in advance, and publish them all at once.</p>
<p><strong>Note:</strong> This topic provides a summary of changes in DITA-OT 3.4 that may require modifications to custom stylesheets or plug-ins. For more information on changes in this release, see the <a href="https://www.dita-ot.org/3.4/release-notes/">DITA-OT 3.4 Release Notes</a>.</p>
<h2><a class="header" href="#new-indexing-plug-in" id="new-indexing-plug-in">New indexing plug-in</a></h2>
<p>DITA-OT 3.4 extracts the PDF indexing code to a separate org.dita.index plug-in, and adds a new <code>depend.org.dita.pdf2.index</code> extension point that can be used to add custom index processing targets to PDF output.</p>
<p>The built-in index processing has been disabled and deprecated. If you have overridden index processing via the <code>transform.topic2fo</code> target in the past, you can set the new org.dita.index.skip property to yes and re-enable the <code>transform.topic2fo.index</code> target with <code>feature extension=&quot;depend.org.dita.pdf2.index&quot; value=&quot;transform.topic2fo.index&quot;/</code> in your plug-in configuration.</p>
<table><thead><tr><th>Plug-in</th><th>Source code location</th></tr></thead><tbody>
<tr><td>org.dita.index</td><td><a href="https://github.com/dita-ot/org.dita.index">https://github.com/dita-ot/org.dita.index</a></td></tr>
</tbody></table>
<h2><a class="header" href="#legacy-plug-ins-removed" id="legacy-plug-ins-removed">Legacy plug-ins removed</a></h2>
<p>DITA-OT 3.4 no longer includes the following legacy transformation plug-ins in the default distribution:</p>
<table><thead><tr><th>Plug-in</th><th>Source code location</th></tr></thead><tbody>
<tr><td>TocJS</td><td><a href="https://github.com/dita-ot/com.sophos.tocjs">https://github.com/dita-ot/com.sophos.tocjs</a></td></tr>
<tr><td>troff</td><td><a href="https://github.com/dita-ot/org.dita.troff">https://github.com/dita-ot/org.dita.troff</a></td></tr>
</tbody></table>
<p><strong>Note:</strong> If necessary, legacy plug-ins may be re-installed from earlier DITA-OT distributions, but they are no longer actively maintained or supported by the core toolkit committers. The source code is available on GitHub for anyone interested in maintaining the plug-ins for use with future toolkit versions.</p>
<p>To re-install the plug-in(s) from the plug-in registry at <a href="https://www.dita-ot.org/plugins">dita-ot.org/plugins</a>, run the following command(s):</p>
<pre><code class="language-syntax-bash">dita --install=com.sophos.tocjs
dita --install=org.dita.troff
</code></pre>
<h1><a class="header" href="#migrating-to-release-33" id="migrating-to-release-33">Migrating to release 3.3</a></h1>
<p>DITA-OT 3.3 includes new attribute sets for HTML5 customization, support for custom integration processing, rotated table cells in PDF output, and hazard statements in HTML output.</p>
<p><strong>Note:</strong> This topic provides a summary of changes in DITA-OT 3.3 that may require modifications to custom stylesheets or plug-ins. For more information on changes in this release, see the <a href="https://www.dita-ot.org/3.3/release-notes/">DITA-OT 3.3 Release Notes</a>.</p>
<h2><a class="header" href="#secure-connections-to-the-plug-in-registry" id="secure-connections-to-the-plug-in-registry">Secure connections to the plug-in registry</a></h2>
<p><strong>Attention:</strong> To ensure data integrity during the plug-in installation process, Transport Layer Security (TLS) will soon be required to access the plug-in registry. If you are using DITA-OT 3.3, 3.2, or 3.2.1 and are unable to upgrade to the latest version, modify the <code>registry</code> key in the config/configuration.properties file to switch the URI schema to <code>http**s**://</code>, so the entry reads <code>https://plugins.dita-ot.org/</code>.</p>
<p>For more information, see <a href="topics/plugins-registry.html">Adding plug-ins via the registry</a>.</p>
<h2><a class="header" href="#base-plug-in-files-moved-to-plugins-directory" id="base-plug-in-files-moved-to-plugins-directory">Base plug-in files moved to plugins directory</a></h2>
<p>Various XSLT files and other resources have been moved from the root of the DITA-OT installation directory to the base plug-in directory plugins/org.dita.base.</p>
<p><strong>Attention:</strong> There is no longer an xsl/ directory in the installation root.</p>
<p>If your plug-ins use the <code>plugin</code> URI scheme as recommended in the <a href="topics/plugin-coding-conventions.html">Plug-in coding conventions</a>, this change should not require any modifications to custom plug-in code:</p>
<blockquote>
<p>In XSLT, use the <code>plugin</code> URI scheme in <code>xsl:import</code> and <code>xsl:include</code> to reference files in other plug-ins.</p>
</blockquote>
<blockquote>
<p>Instead of:</p>
</blockquote>
<pre><code class="language-language-xml">&gt; &lt;xsl:import href=&quot;../../org.dita.base/xsl/common/output-message.xsl&quot;/&gt;
</code></pre>
<blockquote>
<p>use:</p>
</blockquote>
<pre><code class="language-language-xml">&gt; &lt;xsl:import href=&quot;plugin:org.dita.base:xsl/common/output-message.xsl&quot;/&gt;
</code></pre>
<blockquote>
<p>As with the plug-in directory property in Ant, this allows plug-ins to resolve to the correct directory even when a plug-in moves to a new location. The plug-in is referenced using the syntax <code>plugin:plugin-id:path/within/plugin/file.xsl</code>.</p>
</blockquote>
<h2><a class="header" href="#relocated-catalog" id="relocated-catalog">Relocated catalog</a></h2>
<p>Along with the other base plug-in files, the catalog-dita.xml file has been moved from the root of the DITA-OT installation directory to plugins/org.dita.base. External systems that rely on this catalog should be updated with the new location. Ant scripts and DITA-OT plug-ins should use the plug-in directory property to refer to the file as <code>${dita.plugin.org.dita.base.dir}/catalog-dita.xml</code>. A placeholder with a <code>nextCatalog</code> entry is provided in the original location for backwards compatibility, but this file may be removed in an upcoming release.</p>
<pre><code class="language-language-xml">&lt;nextCatalog catalog=&quot;plugins/org.dita.base/catalog-dita.xml&quot;/&gt;
</code></pre>
<h2><a class="header" href="#deprecated-properties" id="deprecated-properties">Deprecated properties</a></h2>
<p>The <code>templates</code> key in configuration properties has been deprecated in favor of the <code>template</code> element in plugin.xml.</p>
<h2><a class="header" href="#new-attribute-sets-for-html5-customization" id="new-attribute-sets-for-html5-customization">New attribute sets for HTML5 customization</a></h2>
<p>A series of new attribute sets has been added to the default HTML5 transformation to facilitate customization with additional ARIA roles, attributes, or CSS classes. Attribute sets are provided for:</p>
<ul>
<li><code>article</code></li>
<li><code>banner</code></li>
<li><code>footer</code></li>
<li><code>main</code></li>
<li><code>navigation</code></li>
<li><code>toc</code></li>
</ul>
<p>If you have previously copied XSL templates (or template modes) to custom plug-ins only to add classes required by web frameworks such as Bootstrap or Foundation (or your company CSS), you may be able to simplify your customizations by using the new attribute sets instead of overriding the default templates.</p>
<h1><a class="header" href="#migrating-to-release-32" id="migrating-to-release-32">Migrating to release 3.2</a></h1>
<p>DITA-OT 3.2 includes new command-line options, support for RELAX NG parsing and validation, preliminary processing for the XDITA authoring format proposed for Lightweight DITA, and a plug-in registry that makes it easier to discover and install new plug-ins.</p>
<p><strong>Note:</strong> This topic provides a summary of changes in DITA-OT 3.2 that may require modifications to custom stylesheets or plug-ins. For more information on changes in this release, see the <a href="https://www.dita-ot.org/3.2/release-notes/">DITA-OT 3.2 Release Notes</a>.</p>
<h2><a class="header" href="#deprecated-targets" id="deprecated-targets">Deprecated targets</a></h2>
<p>The configuration-jar Ant target used during the plug-in integration process has been deprecated and may be removed in an upcoming release. This was previously used to package additional configuration files and properties into lib/dost-configuration.jar, but recent versions of DITA-OT include the config directory in the classpath for this purpose, so the configuration JAR is no longer necessary.</p>
<h2><a class="header" href="#secure-connections-to-the-plug-in-registry-1" id="secure-connections-to-the-plug-in-registry-1">Secure connections to the plug-in registry</a></h2>
<p><strong>Attention:</strong> To ensure data integrity during the plug-in installation process, Transport Layer Security (TLS) will soon be required to access the plug-in registry. If you are using DITA-OT 3.2 or 3.2.1 and are unable to upgrade to the latest version, modify the <code>registry</code> key in the config/configuration.properties file to switch the URI schema to <code>http**s**://</code>, so the entry reads <code>https://plugins.dita-ot.org/</code>.</p>
<p>For more information, see <a href="topics/plugins-registry.html">Adding plug-ins via the registry</a>.</p>
<h1><a class="header" href="#migrating-to-release-31" id="migrating-to-release-31">Migrating to release 3.1</a></h1>
<p>DITA-OT 3.1 includes support for DITA 1.3 SVG domain elements, enhanced <code>codeblock</code> processing, and incremental improvements to Lightweight DITA processing and PDF output.</p>
<p><strong>Note:</strong> This topic provides a summary of changes in DITA-OT 3.1 that may require modifications to custom stylesheets or plug-ins. For more information on changes in this release, see the <a href="https://www.dita-ot.org/3.1/release-notes/">DITA-OT 3.1 Release Notes</a>.</p>
<h2><a class="header" href="#custom-ifunless-attributes-in-ant-scripts" id="custom-ifunless-attributes-in-ant-scripts">Custom if/unless attributes in Ant scripts</a></h2>
<p>Ant scripts for DITA-OT builds now make use of <code>@if:set</code> and <code>@unless:set</code> attributes in the Ant namespace, which can be used to control whether parameters are passed to XSLT modules. These attributes replace custom implementations of <code>if</code> and <code>unless</code> logic introduced before Ant had this capability.</p>
<p>If your plug-ins include Ant scripts that use <code>@if</code> or <code>@unless</code> on <code>param</code> elements that pass XSLT parameters, add the following namespace attributes to the root project:</p>
<ul>
<li><code>xmlns:if</code>=<code>&quot;ant:if&quot;</code></li>
<li><code>xmlns:unless</code>=<code>&quot;ant:unless&quot;</code></li>
</ul>
<p>In custom Ant build files and in any files that supply parameters to existing DITA-OT XSLT modules, replace all occurrences of <code>if=&quot;property&quot;</code> on <code>param</code> elements with <code>if**:set**=&quot;property&quot;</code> (and <code>unless</code> → <code>unless**:set**</code> respectively).</p>
<pre><code>&lt;root xmlns:if=&quot;ant:if&quot; xmlns:unless=&quot;ant:unless&quot;&gt;
  &lt;param name=&quot;antProperty&quot; expression=&quot;${antProperty}&quot;
         if**:set**=&quot;antProperty&quot;/&gt;
&lt;/root&gt;
</code></pre>
<p>For more information on passing parameters to existing XSLT steps, see <a href="topics/../extension-points/plugin-extension-points-xslt-parameters.html">XSLT-parameter extension points</a>.</p>
<h2><a class="header" href="#deprecated-properties-1" id="deprecated-properties-1">Deprecated properties</a></h2>
<p>As of DITA-OT 3.1, the Java class path is managed automatically, meaning you do not (and should not) use explicit references to Java class paths in your build scripts. In particular, the old <code>dost.class.path</code> property has been deprecated and should not be used. If you are migrating older plug-ins that manage their class path directly, you should remove any explicit class path configuration. If your plug-in was not already using the <code>dita.conductor.lib.import</code> extension point to integrate its JAR dependencies you must add it.</p>
<p>The effective DITA-OT class path is the combination of the JAR files in the main lib/ directory and the plug-in-contributed JARs, which are listed in config/env.sh. The env.sh file is updated automatically when plug-ins are installed or removed.</p>
<p>The <code>xml.catalog.files</code> property has been deprecated and should not be used. Replace any such references with the <code>xml.catalog.path</code> instead.</p>
<h2><a class="header" href="#pdf--enabling-line-numbers-in-codeblocks" id="pdf--enabling-line-numbers-in-codeblocks">PDF – Enabling line numbers in codeblocks</a></h2>
<p>The <code>codeblock.generate-line-number</code> template mode default has been changed to check for the <code>show-line-numbers</code> keyword in the <code>@outputclass</code> attribute. Earlier versions of DITA-OT required custom PDF plug-ins to override the template mode to return <code>true()</code>.</p>
<h1><a class="header" href="#migrating-to-release-30" id="migrating-to-release-30">Migrating to release 3.0</a></h1>
<p>DITA-OT 3.0 adds support for Markdown, normalized DITA output, and the alternative authoring formats proposed for Lightweight DITA. The map-first preprocessing approach provides a modern alternative to the default <code>preprocess</code> operation.</p>
<p><strong>Note:</strong> This topic provides a summary of changes in DITA-OT 3.0 that may require modifications to custom stylesheets or plug-ins. For more information on changes in this release, see the <a href="https://www.dita-ot.org/3.0/release-notes/">DITA-OT 3.0 Release Notes</a>.</p>
<h2><a class="header" href="#upgrade-stylesheets-to-xslt-20-1" id="upgrade-stylesheets-to-xslt-20-1">Upgrade stylesheets to XSLT 2.0</a></h2>
<p>The Saxon project has announced plans to remove XSLT 1.0 support from the Saxon-HE library that ships with DITA-OT:</p>
<blockquote>
<p>…we’re dropping XSLT 1.0 backwards compatibility mode from Saxon-HE, and hope to eliminate it entirely in due course.</p>
</blockquote>
<blockquote>
<p><a href="https://www.xml.com/news/release-saxon-98/"><em>https://www.xml.com/news/release-saxon-98/</em></a></p>
</blockquote>
<p>DITA-OT 3.0 and 3.0.1 included Saxon-HE 9.8.0.5, which rejects XSLT stylesheets that specify <code>version=&quot;1.0&quot;</code>. Plug-ins with XSLT templates specifying version 1.0 will fail with the message “XSLT 1.0 compatibility mode is not available in this configuration.”</p>
<p>To resolve this issue, change any occurrences of <code>&lt;xsl:stylesheet version=&quot;1.0&quot;&gt;</code> in custom plug-in stylesheets to at least <code>&lt;xsl:stylesheet version=&quot;2.0&quot;&gt;</code>.</p>
<p><strong>Tip:</strong> DITA-OT 3.0.2 includes Saxon-HE 9.8.0.7, which restores XSLT 1.0 backwards-compatibility mode, but the DITA Open Toolkit project recommends upgrading all stylesheets to XSLT 2.0 to ensure plug-ins remain compatible with future versions of DITA-OT and Saxon-HE.</p>
<h2><a class="header" href="#legacy-plug-ins-removed-1" id="legacy-plug-ins-removed-1">Legacy plug-ins removed</a></h2>
<p>DITA-OT 3.0 no longer includes the following legacy transformation plug-ins in the default distribution:</p>
<table><thead><tr><th>Plug-in</th><th>Source code location</th></tr></thead><tbody>
<tr><td>JavaHelp</td><td><a href="https://github.com/dita-ot/org.dita.javahelp">https://github.com/dita-ot/org.dita.javahelp</a></td></tr>
</tbody></table>
<p><strong>Note:</strong> If necessary, legacy plug-ins may be re-installed from earlier DITA-OT distributions, but they are no longer actively maintained or supported by the core toolkit committers. The source code is available on GitHub for anyone interested in maintaining the plug-ins for use with future toolkit versions.</p>
<p>To re-install the JavaHelp plug-in, run the following command:</p>
<pre><code>dita --install=https://github.com/dita-ot/org.dita.javahelp/archive/2.5.zip
</code></pre>
<h2><a class="header" href="#map-first-preprocessing" id="map-first-preprocessing">Map-first preprocessing</a></h2>
<p>DITA-OT 3.0 provides a map-first preprocessing option as an alternative to the default <code>preprocess</code> operation. The method, which was introduced in DITA-OT 2.5 as an experimental feature, has been improved and is ready for use in many production scenarios. Map-first-preprocessing provides the same functionality as the default <code>preprocess</code>, but takes a different approach.</p>
<p>The internal extension points that run before or after individual steps in the original <code>preprocess</code> pipeline (<code>preprocess.*.pre/preprocess.*.post</code>) are not available in the newer map-first preprocessing pipeline (<code>preprocess2</code>), which is used in the PDF and HTML Help transformations as of DITA-OT 3.0.</p>
<p><strong>Tip:</strong> See <a href="topics/../reference/map-first-preprocessing.html">Map-first preprocessing</a> for information on how to use (or test) map-first preprocessing, or revert to the default <code>preprocess</code> target.</p>
<h2><a class="header" href="#new-antimport-extension-point" id="new-antimport-extension-point">New <code>ant.import</code> extension point</a></h2>
<p>A new extension point has been added to make it easier to add new targets to the Ant processing pipeline.</p>
<p>Earlier versions of DITA-OT use the <code>dita.conductor.target.relative</code> to call a wrapper file with a dummy task that imports the Ant project file. This approach is still supported for backwards compatibility, but the simpler <code>ant.import</code> approach should be used for all new customizations.</p>
<p><strong>Tip:</strong> See <a href="topics/plugin-anttarget.html">Adding a new target to the Ant build process</a> for details.</p>
<h1><a class="header" href="#migrating-to-release-25" id="migrating-to-release-25">Migrating to release 2.5</a></h1>
<p>In DITA-OT 2.5, several frequently-overridden legacy style settings were removed from the default PDF plug-in. A separate plug-in can be used to restore the original settings.</p>
<p><strong>Note:</strong> This topic provides a summary of changes in DITA-OT 2.5 that may require modifications to custom stylesheets or plug-ins. For more information on changes in this release, see the <a href="https://www.dita-ot.org/2.5/release-notes/">DITA-OT 2.5 Release Notes</a>.</p>
<h2><a class="header" href="#deprecated-logging-parameters" id="deprecated-logging-parameters">Deprecated logging parameters</a></h2>
<p>The <code>args.debug</code> and <code>args.logdir</code> properties have been deprecated and will be removed in an upcoming version of DITA-OT.</p>
<ul>
<li>
<p>To enable debug logging, use dita --debug.</p>
<p><strong>Attention:</strong> Debug logging requires additional resources and can slow down the build process, so it should only be enabled when further details are required to diagnose problems.</p>
</li>
<li>
<p>To write the log to a file, use dita --logfile=file or ant -l file and specify the path to the log file.</p>
<p>Unless an absolute path is specified, the value will be interpreted relative to the current directory.</p>
</li>
</ul>
<h2><a class="header" href="#default-pdf-style-improvements" id="default-pdf-style-improvements">Default PDF style improvements</a></h2>
<p>Several legacy styles have been modified or removed in the default PDF plug-in <code>org.dita.pdf2</code>, including the following:</p>
<ul>
<li>In task topics with only a single step, the step is now rendered as a simple block (rather than as a list item without a label).</li>
<li>Table containers now inherit the initial indentation (<code>start-indent</code>) from the parent elements.</li>
<li>Borders and indentation have been removed from <code>example</code> elements.</li>
<li>Links are no longer italicized.</li>
<li>Titles for related link lists have been standardized to use the <code>common.title</code> attribute set (which applies the <code>sans-serif</code> font-family) and bold font weight.</li>
<li>Several remaining occurrences of left/right borders, margins, padding, and text alignment now use the corresponding start/end equivalents to better support right-to-left languages.</li>
</ul>
<h2><a class="header" href="#external-plug-in-for-legacy-pdf-styling" id="external-plug-in-for-legacy-pdf-styling">External plug-in for legacy PDF styling</a></h2>
<p>If you have a custom PDF plug-in that explicitly depends on the previous default settings for the aforementioned styles, the <code>org.dita.pdf2.legacy</code> plug-in can be used to restore the pre–2.5 styles.</p>
<table><thead><tr><th>Plug-in</th><th>Source code location</th></tr></thead><tbody>
<tr><td><code>org.dita.pdf2.legacy</code></td><td><a href="https://github.com/dita-ot/org.dita.pdf2.legacy">https://github.com/dita-ot/org.dita.pdf2.legacy</a></td></tr>
</tbody></table>
<p>To install the legacy PDF plug-in, run the following command:</p>
<pre><code>dita --install=https://github.com/dita-ot/org.dita.pdf2.legacy/archive/2.5.zip
</code></pre>
<p><strong>Attention:</strong> Only install the legacy PDF plug-in if you have a custom PDF plug-in that requires the pre–2.5 styles. If your plug-in was designed for DITA-OT 2.4 and does not override these settings, there is no need to install the legacy PDF plug-in.</p>
<h1><a class="header" href="#migrating-to-release-24" id="migrating-to-release-24">Migrating to release 2.4</a></h1>
<p>In DITA-OT 2.4, the HTML5 transformation was refactored as an independent plug-in that no longer depends on the XHTML plug-in.</p>
<p><strong>Note:</strong> This topic provides a summary of changes in DITA-OT 2.4 that may require modifications to custom stylesheets or plug-ins. For more information on changes in this release, see the <a href="https://www.dita-ot.org/2.4/release-notes/">DITA-OT 2.4 Release Notes</a>.</p>
<h2><a class="header" href="#html5-1" id="html5-1">HTML5</a></h2>
<ul>
<li>The HTML5 transformation introduced in release 2.0 as part of the XHTML plug-in was moved to a separate HTML5 plug-in in release 2.2, but that version of the HTML5 transformation still depended on the XHTML plug-in for certain common processing.</li>
</ul>
<p>In release 2.4, all dependencies between HTML5 and XHTML have been removed to ensure that HTML5 processing can be further refactored in the future without affecting XHTML output, or other HTML-based transformations such as eclipsehelp, htmlhelp or javahelp.</p>
<pre><code>Customizations that extended the previous HTML5 output under the XHTML plug-in \(as provided in releases 2.0 and 2.1\) or the HTML5 plug-in that shipped with release 2.2 will need to be refactored to build on the new HTML5 plug-in.
</code></pre>
<ul>
<li>
<p>Note title processing was revised in release 2.2 to include a common <code>note__title</code> class for note elements of all types. The legacy <code>\{$type\}title</code> classes (such as <code>.notetitle</code>, <code>.cautiontitle</code>, <code>.tiptitle</code>, etc.) were included in release 2.2 for backwards compatibility, but have now been removed in release 2.4.</p>
<p>Stylesheets that apply formatting overrides to note titles should be revised to replace the deprecated class selectors with the equivalent descendant selectors, for example:</p>
<ul>
<li><code>.note_note .note__title</code></li>
<li><code>.note_caution .note__title</code></li>
<li><code>.note_tip .note__title</code></li>
</ul>
</li>
</ul>
<h2><a class="header" href="#legacy-plug-ins-removed-2" id="legacy-plug-ins-removed-2">Legacy plug-ins removed</a></h2>
<p>DITA-OT 2.4 no longer includes the following legacy transformation plug-ins in the default distribution:</p>
<table><thead><tr><th>Plug-in</th><th>Source code location</th></tr></thead><tbody>
<tr><td>DocBook</td><td><a href="https://github.com/dita-ot/org.dita.docbook">https://github.com/dita-ot/org.dita.docbook</a></td></tr>
<tr><td>Eclipse Content</td><td><a href="https://github.com/dita-ot/org.dita.eclipsecontent">https://github.com/dita-ot/org.dita.eclipsecontent</a></td></tr>
<tr><td>OpenDocument Text</td><td><a href="https://github.com/dita-ot/org.dita.odt">https://github.com/dita-ot/org.dita.odt</a></td></tr>
<tr><td>Word RTF</td><td><a href="https://github.com/dita-ot/org.dita.wordrtf">https://github.com/dita-ot/org.dita.wordrtf</a></td></tr>
</tbody></table>
<p><strong>Note:</strong> If necessary, legacy plug-ins may be re-installed from earlier DITA-OT distributions, but they are no longer actively maintained or supported by the core toolkit committers. The source code is available on GitHub for anyone interested in maintaining the plug-ins for use with future toolkit versions.</p>
<h1><a class="header" href="#migrating-to-release-23" id="migrating-to-release-23">Migrating to release 2.3</a></h1>
<p>In DITA-OT 2.3, HTML5 table processing has been refactored to use HTML5 best practices and improved CSS properties. In PDF output, table heads and key columns no longer include shading, and unused localization variables have been deprecated. The template for generated error messages has been updated to use a single <code>id</code> variable that contains the entire message ID.</p>
<p><strong>Note:</strong> This topic provides a summary of changes in DITA-OT 2.3 that may require modifications to custom stylesheets or plug-ins. For more information on changes in this release, see the <a href="https://www.dita-ot.org/2.3/release-notes/">DITA-OT 2.3 Release Notes</a>.</p>
<h2><a class="header" href="#html5-2" id="html5-2">HTML5</a></h2>
<p>The HTML5 table processing has been refactored to use valid HTML5 markup, HTML5 best practices, and better CSS properties for styling. <a href="https://en.bem.info/methodology/">BEM</a>-style CSS classes are now generated with the name of the containing element, the name of the attribute, and the value of the attribute.</p>
<p>Common CSS files are now generated using separate modules for each DITA domain, implemented as <a href="http://sass-lang.com">Sass</a> partials to better support extensions with CSS frameworks, custom plug-ins and future toolkit versions.</p>
<h2><a class="header" href="#html-based-formats" id="html-based-formats">HTML-based formats</a></h2>
<p>The XSLT <code>tm-area</code> named template, which used to toggle rendering of trademark symbols in US English and Asian languages (Japanese, Korean, and both Chinese) but ignore them in all other languages, has been deprecated. Trademark symbols are now rendered uniformly for all languages and the template will be removed in an upcoming release.</p>
<p>In previous releases, short descriptions in <code>abstract</code> elements were rendered as division elements (<code>div</code>), rather than paragraphs (<code>p</code>). Processing has been revised to ensure that short descriptions are consistently rendered as paragraphs, regardless of whether they appear in <code>abstract</code> elements. Users who have previously implemented custom CSS rules to style <code>div.shortdesc</code> like paragraphs should be able to remove these rules.</p>
<h2><a class="header" href="#pdf-1" id="pdf-1">PDF</a></h2>
<p>The <code>antiquewhite</code> background color has been removed from table heads and key column contents in <code>simpletable</code> and <code>properties</code> tables to synchronize presentation with <code>choicetable</code> and provide a more uniform customization baseline between PDF output and HTML-based formats.</p>
<p>PDF: The I18N Java and XSLT processing code has been merged into single task. This eliminated the need for a stage3.fo file in the temporary directory; instead, topic.fo is generated directly from stage2.fo. If custom plug-ins were implemented to handle stage3.fo, they would need to be updated.</p>
<p>Localization variables that are no longer used in PDF processing have been deprecated and will be removed in an upcoming release. PDF customization plug-ins that make use of these variables should plan to refactor accordingly:</p>
<ul>
<li>Back button title</li>
<li>Contents button title</li>
<li>Forward button title</li>
<li>Index button title</li>
<li>Index multiple entries separator</li>
<li>Main page button title</li>
<li>Next page button title</li>
<li>Online help prefix</li>
<li>Online Help Search Method And</li>
<li>Online Help Search Method Field</li>
<li>Online Help Search Method Or</li>
<li>Previous page button title</li>
<li>Search button title</li>
<li>Search Case Sensitive Switch</li>
<li>Search Excluded Stop Words Message</li>
<li>Search Highlight Switch</li>
<li>Search index button title</li>
<li>Search index field title</li>
<li>Search index next button title</li>
<li>Search Search Give No Results Message</li>
<li>Search Search in Progress Message</li>
<li>Search Stopped Message</li>
<li>Search text button title</li>
<li>Search text field title</li>
<li>Search title</li>
<li>Search Whole Words Switch</li>
<li>Untitled section</li>
</ul>
<p><strong>Note:</strong> Most of these variables were never used by the PDF process, and most were not supported (or localized) for any language other than English.</p>
<h2><a class="header" href="#deprecated-properties-and-targets" id="deprecated-properties-and-targets">Deprecated properties and targets</a></h2>
<p>The following Ant properties have been deprecated:</p>
<ul>
<li>conreffile</li>
</ul>
<p>The following preprocessing targets have been deprecated:</p>
<ul>
<li>conref-check</li>
<li>coderef</li>
</ul>
<h2><a class="header" href="#pre-processing" id="pre-processing">Pre-processing</a></h2>
<p>The order of the <code>chunk</code> and <code>move-meta-entries</code> pre-processing stages has been switched so that <code>chunk</code> comes first. This ensures that metadata is properly pulled or pushed into the chunked version of DITA topics.</p>
<h2><a class="header" href="#generating-error-messages" id="generating-error-messages">Generating error messages</a></h2>
<p>Previously, the XSLT <code>output-message</code> named template for generating error messages combined a global <code>msgprefix</code> variable and two parameters to determine the actual message ID. This function has been updated to use a single <code>id</code> variable that contains the entire message ID.</p>
<p>Plug-ins that make use of the <code>output-message</code> function should be updated to use the single <code>id</code> variable, as in:</p>
<pre><code>&lt;xsl:call-template name=&quot;output-message&quot;&gt;
  &lt;xsl:with-param name=&quot;id&quot; select=&quot;'FULLMESSAGENUMBER'&quot;/&gt;
  &lt;xsl:with-param name=&quot;msgparams&quot;&gt;optional-message-parameters&lt;/xsl:with-param&gt;
&lt;/xsl:call-template&gt;
</code></pre>
<p>The <code>msgprefix</code> XSL variable (“DOTX”) has been deprecated and will be removed in an upcoming release.</p>
<h1><a class="header" href="#migrating-to-release-22" id="migrating-to-release-22">Migrating to release 2.2</a></h1>
<p>In DITA-OT 2.2, the HTML5 transformation was refactored as its own plug-in and separate plug-ins were created for each of the rendering engine-specific PDF transformations.</p>
<p><strong>Note:</strong> This topic provides a summary of changes in DITA-OT 2.2 that may require modifications to custom stylesheets or plug-ins. For more information on changes in this release, see the <a href="https://www.dita-ot.org/2.2/release-notes/">DITA-OT 2.2 Release Notes</a>.</p>
<h2><a class="header" href="#html5-3" id="html5-3">HTML5</a></h2>
<p>The HTML5 transformation introduced in release 2.0 as part of the XHTML plug-in has been moved to a separate HTML5 plug-in. Customizations that extended the previous HTML5 output under the XHTML plug-in will probably need to be refactored on the new HTML5 plug-in.</p>
<p>Note title processing has been revised to use a common <code>note__title</code> class for note elements of all types. The legacy <code>\{$type\}title</code> classes (such as <code>.notetitle</code>, <code>.cautiontitle</code>, <code>.tiptitle</code>, etc.) are included for backwards compatibility, but are deprecated and will be removed in an upcoming release. Stylesheets that apply formatting overrides to note titles should be revised to replace the deprecated class selectors with the equivalent descendant selectors, for example <code>.note_note .note__title</code>, <code>.note_caution .note__title</code>, <code>.note_tip .note__title</code>, etc.</p>
<h2><a class="header" href="#pdf-2" id="pdf-2">PDF</a></h2>
<p>Processing specific to Apache FOP, Antenna House Formatter, and RenderX XEP has been separated into separate plug-ins for each of those rendering engines. Customizations that extended this processing might need to extend the new <code>org.dita.pdf2.fop</code>, <code>org.dita.pdf2.axf</code>, or <code>org.dita.pdf2.xep</code> plug-ins.</p>
<p>PDF customizations that are not specific to a rendering engine can continue to extend the <code>org.dita.pdf2</code> plug-in as before.</p>
<p>The default format for page numbers in the table of contents (<code>toc</code>) was switched to roman to align with <code>preface</code> and ensure consistent numbering styles for all <code>frontmatter</code> components in <code>bookmap</code>. This prevents numbering from switching back and forth between styles in bookmaps where the Preface follows the table of contents. Earlier versions of DITA-OT produced numbering sequences like <code>1,2,3,4,v,vi,7,8</code> in this use case.</p>
<h2><a class="header" href="#deprecated-properties-2" id="deprecated-properties-2">Deprecated properties</a></h2>
<p>The following Ant properties have been deprecated:</p>
<ul>
<li>user.input.file, use user.input.file.uri instead to specify the input file system path</li>
<li>user.input.dir, use user.input.dir.uri instead to specify the input directory system path</li>
<li>InputMapDir, use InputMapDir.uri instead to specify the input map directory system path</li>
</ul>
<h1><a class="header" href="#migrating-to-release-21" id="migrating-to-release-21">Migrating to release 2.1</a></h1>
<p>In DITA-OT 2.1, the <code>insertVariable</code> template was deprecated for PDF transformations and should be replaced with the <code>getVariable</code> template. Various <code>dita.**out.**map.*</code> targets have been deprecated in favor of updated <code>dita.map.*</code> equivalents.</p>
<p><strong>Note:</strong> This topic provides a summary of changes in DITA-OT 2.1 that may require modifications to custom stylesheets or plug-ins. For more information on changes in this release, see the <a href="https://www.dita-ot.org/2.1/release-notes/">DITA-OT 2.1 Release Notes</a>.</p>
<p>The customFileUtils code used to handle input and output in earlier versions of DITA-OT has been replaced with the <a href="http://commons.apache.org/proper/commons-io/">Apache Commons IO</a> utilities library.</p>
<h2><a class="header" href="#deprecated-targets-1" id="deprecated-targets-1">Deprecated targets</a></h2>
<p>The following build targets have been deprecated and will be removed in an upcoming release:</p>
<ul>
<li>The <code>help</code> target that includes a reference to the current DITA-OT version during the build process.</li>
</ul>
<h2><a class="header" href="#preprocessing" id="preprocessing">Preprocessing</a></h2>
<p>The following Ant properties and generated list files have been deprecated:</p>
<ul>
<li>imagefile property and <code>image.list</code> file</li>
<li>htmlfile property and <code>html.list</code> file</li>
</ul>
<p>The following pre-processing targets and extension points have been deprecated:</p>
<ul>
<li>The <code>copy-subsidiary</code> target used to copy subsidiary files</li>
<li>The <code>copy-subsidiary-check</code> target used to check for subsidiary files</li>
<li>The depend.preprocess.copy-subsidiary.pre extension point used to insert an Ant target before the <code>copy-subsidiary</code> step in the pre-processing stage.</li>
</ul>
<p>A newdita.parser extension point has been added to allow plug-ins to contribute a custom parser for DITA files. If a custom DITA parser is defined, the preprocessing routines will use it during the gen-list and debug-filter stages to output DITA XML.</p>
<h2><a class="header" href="#pdf-3" id="pdf-3">PDF</a></h2>
<p>The following template has been deprecated:</p>
<ul>
<li><code>insertVariable</code>, use <code>getVariable</code> instead</li>
</ul>
<p>Calls to that template will result in warnings in the build log.</p>
<p>To update your plug-in, make the following changes:</p>
<pre><code>&lt;xsl:call-template name=&quot;insertVariable**getVariable**&quot;&gt;
  &lt;xsl:with-param name=&quot;theVariableID**id**&quot; select=&quot;var-id&quot;/&gt;
  &lt;xsl:with-param name=&quot;theParameters**params**&quot;&gt;
    params
  &lt;/xsl:with-param&gt;
&lt;/xsl:call-template&gt;
</code></pre>
<h2><a class="header" href="#html-based-output-formats" id="html-based-output-formats">HTML-based output formats</a></h2>
<p>The keydefs variable and the following XSL parameters have been deprecated:</p>
<ul>
<li>KEYREF-FILE</li>
<li>displaytext</li>
<li>keys</li>
<li>target</li>
</ul>
<p>The following template modes have been deprecated:</p>
<ul>
<li><code>pull-in-title</code></li>
<li><code>common-processing-phrase-within-link</code></li>
</ul>
<h2><a class="header" href="#xhtml-1" id="xhtml-1">XHTML</a></h2>
<p>The <code>dita.**out.**map.xhtml.toc</code> target has been deprecated and should be replaced with the updated <code>dita.map.xhtml.toc</code> equivalent.</p>
<p>Keydef processing has been removed from the XHTML rendering code. Keys are now resolved in one preprocessing step, whereas in earlier versions of DITA-OT, the XHTML code returned to the keydef.xml file to look up targets for phrase elements and pull in text when needed.</p>
<p>This change affects non-linking elements that can’t take <code>@href</code> attributes, such as <code>ph</code>, <code>keyword</code>, <code>cite</code>, <code>dt</code>, <code>term</code>, and <code>indexterm</code> (when <code>$INDEXSHOW</code> is active).</p>
<h2><a class="header" href="#htmlhelp" id="htmlhelp">HTMLHelp</a></h2>
<p>The <code>dita.**out.**map.htmlhelp.*</code> targets have been deprecated and should be replaced with the updated <code>dita.map.htmlhelp.*</code> equivalents:</p>
<ul>
<li><code>dita.out.map.htmlhelp.hhp</code>, use <code>dita.map.htmlhelp.hhp</code> instead</li>
<li><code>dita.out.map.htmlhelp.hhc</code>, use <code>dita.map.htmlhelp.hhc</code> instead</li>
<li><code>dita.out.map.htmlhelp.hhk</code>, use <code>dita.map.htmlhelp.hhk</code> instead</li>
</ul>
<h2><a class="header" href="#javahelp" id="javahelp">JavaHelp</a></h2>
<p>The <code>dita.**out.**map.javahelp.*</code> targets have been deprecated and should be replaced with the updated <code>dita.map.javahelp.*</code> equivalents:</p>
<ul>
<li><code>dita.out.map.javahelp.toc</code>, use <code>dita.map.javahelp.toc</code> instead</li>
<li><code>dita.out.map.javahelp.map</code>, use <code>dita.map.javahelp.map</code> instead</li>
<li><code>dita.out.map.javahelp.set</code>, use <code>dita.map.javahelp.set</code> instead</li>
<li><code>dita.out.map.javahelp.index</code>, use <code>dita.map.javahelp.index</code> instead</li>
</ul>
<h2><a class="header" href="#opendocument-text" id="opendocument-text">OpenDocument Text</a></h2>
<p>Support for the args.odt.img.embed parameter has been removed from OpenDocument Text transformations. The previous default behavior was to embed images as Base64-encoded text, but editors do not use this as a default. Instead, office packages such as LibreOffice will convert embedded images into linked images on opening and saving an ODT file.</p>
<h1><a class="header" href="#migrating-to-release-20" id="migrating-to-release-20">Migrating to release 2.0</a></h1>
<p>In DITA-OT 2.0, XSLT templates were converted to XSLT 2.0, variable typing was implemented, and some older templates were refactored or removed. In addition, the dita command simplifies distribution of plugins by allowing installation from a URL.</p>
<p><strong>Note:</strong> This topic provides a summary of changes in DITA-OT 2.0 that may require modifications to custom stylesheets or plug-ins. For more information on changes in this release, see the <a href="https://www.dita-ot.org/2.0/readme/changes/rel2.0.html">DITA-OT 2.0 Release Notes</a>.</p>
<h2><a class="header" href="#all-transformations--variable-typing" id="all-transformations--variable-typing">All transformations — variable typing</a></h2>
<p>XSLT stylesheets were converted to XSLT 2.0. With that change, variable types were also implemented. Plug-ins that change template variable values will need to make the following changes:</p>
<ul>
<li>Declare the same types defined in the default templates with <code>@as</code>.</li>
<li>Ensure that the generated values conform to the declared type.</li>
</ul>
<p>For example:</p>
<pre><code class="language-language-xml">&lt;xsl:variable name=&quot;urltest&quot;&gt;
&lt;xsl:variable name=&quot;urltest&quot; **as=&quot;xs:boolean&quot;**&gt;
</code></pre>
<h2><a class="header" href="#all-transformations--refactoring" id="all-transformations--refactoring">All transformations — refactoring</a></h2>
<p>Much of the toolkit code was refactored for release 2.0. Customization changes that were based on a specific template in a previous version of the toolkit might not work because the modified template is no longer used. If this is the case, the changes will need to be reimplemented based on the new XSLT templates.</p>
<h2><a class="header" href="#html5-4" id="html5-4">HTML5</a></h2>
<p>A new HTML5 transformation type has been added. Customizations that previously modified the XHTML output to generate valid HTML5 should still work, but basing your customization on the new transformation type might simplify the customization and reduce the work required to maintain compatibility with future versions of the toolkit.</p>
<p><strong>Note:</strong> The HTML5 transformation was refactored with release 2.2. Before basing your customization on the changes in release 2.0, consider whether you might want to move to release 2.2 instead. See <a href="topics/migrating-to-2.2.html">Migrating to release 2.2</a>.</p>
<h2><a class="header" href="#plug-in-installation-and-distribution" id="plug-in-installation-and-distribution">Plug-in installation and distribution</a></h2>
<p>Plug-ins can now be installed or uninstalled from a ZIP archive using the new dita command. Plug-ins can also be installed from a referenced URL. See <a href="topics/../parameters/dita-command-arguments.html">Arguments and options for the dita command</a>.</p>
<h1><a class="header" href="#migrating-to-release-18" id="migrating-to-release-18">Migrating to release 1.8</a></h1>
<p>In DITA-OT 1.8, certain stylesheets were moved to plug-in specific folders and various deprecated Ant properties, XSLT stylesheets, parameters and modes were removed from the XHTML, PDF and ODT transformations.</p>
<p>Stylesheets for the following transformation types have moved to plug-in specific folders:</p>
<ul>
<li>eclipsehelp</li>
<li>htmlhelp</li>
<li>javahelp</li>
<li>odt</li>
<li>xhtml</li>
</ul>
<h2><a class="header" href="#preprocessing-1" id="preprocessing-1">Preprocessing</a></h2>
<p>The following deprecated Ant properties have been removed:</p>
<ul>
<li><code>dita.script.dir</code>, use <code>${dita.plugin.id.dir}</code> instead</li>
<li><code>dita.resource.dir</code>, use <code>${dita.plugin.org.dita.base.dir}/resource</code> instead</li>
<li><code>dita.empty</code></li>
<li><code>args.message.file</code></li>
</ul>
<h2><a class="header" href="#xhtml-2" id="xhtml-2">XHTML</a></h2>
<p>XSLT Java extension <code>ImgUtils</code> has been removed from stylesheets and been replaced with preprocessing module <code>ImageMetadataModule</code>. The old <code>ImgUtils</code> Java classes are still included in the build.</p>
<h2><a class="header" href="#pdf-4" id="pdf-4">PDF</a></h2>
<p>The following deprecated XSLT stylesheets have been removed:</p>
<ul>
<li>artwork-preprocessor.xsl</li>
<li>otdita2fo_frontend.xsl</li>
</ul>
<p>The following deprecated XSLT templates have been removed:</p>
<ul>
<li><code>insertVariable.old</code></li>
</ul>
<p>The following deprecated XSLT modes have been removed:</p>
<ul>
<li><code>layout-masters-processing</code></li>
<li><code>toc-prefix-text</code>, use <code>tocPrefix</code> mode instead</li>
<li><code>toc-topic-text</code>, use <code>tocText</code> mode instead</li>
</ul>
<p>Link generation has been simplified by removing deprecated arguments in favor of <code>args.rellinks</code>. The following deprecated Ant properties have been removed:</p>
<ul>
<li><code>args.fo.include.rellinks</code></li>
</ul>
<p>The following XSLT parameters have been removed:</p>
<ul>
<li><code>antArgsIncludeRelatedLinks</code></li>
<li><code>disableRelatedLinks</code></li>
</ul>
<p>A call to a named template <code>pullPrologIndexTerms.end-range</code> has been added to <code>processTopic*</code> templates to handle topic wide index ranges.</p>
<h2><a class="header" href="#legacy-pdf" id="legacy-pdf">Legacy PDF</a></h2>
<p>The following deprecated XSLT stylesheets have been removed:</p>
<ul>
<li>dita2fo-shell_template.xsl</li>
<li>topic2fo-shell.xsl</li>
</ul>
<h2><a class="header" href="#odt" id="odt">ODT</a></h2>
<p>Link generation has been simplified by removing deprecated arguments in favor of <code>args.rellinks</code>. The following deprecated Ant properties have been removed:</p>
<ul>
<li><code>args.odt.include.rellinks</code></li>
</ul>
<p>The following XSLT parameters have been added:</p>
<ul>
<li><code>include.rellinks</code></li>
</ul>
<p>The following XSLT parameters have been removed:</p>
<ul>
<li><code>disableRelatedLinks</code></li>
</ul>
<h1><a class="header" href="#migrating-to-release-17" id="migrating-to-release-17">Migrating to release 1.7</a></h1>
<p>In DITA-OT 1.7, a new preprocessing step implements flagging for HTML-based output formats. PDF processing was corrected with regard to <code>shortdesc</code> handling, and a new XSLT template mode was introduced for HTML TOC processing. Several stylesheets were moved to plug-in specific folders and deprecated properties and XSLT variables were removed.</p>
<p>A new job status file .job.xml has been introduced and replaces dita.list and dita.xml.properties as the normative source for job status. If you have custom processing which modifies the job properties, you should change your code to modify .job.xml instead.</p>
<p>Support for the following deprecated properties has been removed:</p>
<ul>
<li><code>dita.input</code></li>
<li><code>dita.input.dirname</code></li>
<li><code>dita.extname</code></li>
</ul>
<p>Stylesheets for the following transformation types have moved to plug-in specific folders:</p>
<ul>
<li>docbook</li>
<li>eclipsecontent</li>
<li>troff</li>
<li>wordrtf</li>
</ul>
<p>If custom plug-ins have hard coded paths to these stylesheets, update references to use either <code>plugin</code> URIs in <code>xsl:import</code> instructions or use <code>dita.plugin.*</code> Ant properties.</p>
<p>The integration process has been changed to use strict mode by default. For old plug-ins which are not valid, lax processing mode can still be used.</p>
<p>Plug-ins that use the <code>MessageUtils</code> Java class must use <code>getInstance</code> method to access the <code>MessageUtils</code> instance, as <code>getMessage</code> methods have been changed to instance methods.</p>
<h2><a class="header" href="#preprocessing-2" id="preprocessing-2">Preprocessing</a></h2>
<p>The preprocessing Ant dependency chain has been cleaned up. Tasks no longer depend on the previous task in the default chain, but rather the whole preprocess dependency chain is defined by the <code>preprocess</code> task.</p>
<h2><a class="header" href="#html" id="html">HTML</a></h2>
<p>Core TOC generation has been moved to a separate XSLT stylesheet xsl/map2htmtoc/map2htmlImpl.xsl and the new templates use the mode <code>toc</code>. Plug-ins which override HTML TOC processing should change the map processing templates to <code>toc</code> mode.</p>
<h2><a class="header" href="#html-and-extended-transformation-types" id="html-and-extended-transformation-types">HTML and extended transformation types</a></h2>
<p>Flagging logic has been pulled out of the core X/HTML code and moved to a preprocess step. This significantly simplifies and optimizes the X/HTML code, while making flagging logic available to any other transformation type. The new preprocess step implements all flagging logic; for each active flag, it adds a DITA-OT specific hint into the intermediate topics (implemented as a specialization of the DITA &lt;foreign&gt; element). As part of this change, all flagging-related templates in the XHTML code (such as start-flagit and gen-style) are deprecated.</p>
<p>If you override the X/HTML transforms, you may need to update your overrides to use the new flagging logic. In most cases this just means deleting calls to the deprecated templates; in some cases, the calls can be replaced with 2 lines to process flags in new places. You should compare your override to the updated XHTML code and update as needed. See <a href="topics/../reference/flagging-migration.html">XHTML migration for flagging updates in DITA-OT 1.7</a> for details.</p>
<p>Plug-ins that provide support for new transforms need to ensure that they properly support the DITA &lt;foreign&gt; element, which should be ignored by default; if so, this change will have no immediate impact. Support for flagging new transformation types may be more easily added based on this update, because there is no need to re-implement flagging logic, but this is not required. See <a href="topics/../reference/preprocess-flagging.html">Flagging (flag-module)</a> for details on how to add flagging support.</p>
<h2><a class="header" href="#pdf-5" id="pdf-5">PDF</a></h2>
<p>The following deprecated XSLT variables have been removed:</p>
<ul>
<li><code>page-margin-left</code></li>
<li><code>page-margin-right</code></li>
</ul>
<p>XSLT stylesheets have been split to separate specialization topic code and new <code>xsl:import</code> instructions have been added to topic2fo.xsl. Plug-ins which define their own shell stylesheet should be revised to import all the required stylesheet modules.</p>
<p>PDF processing used to replace topic <code>shortdesc</code> with map <code>shortdesc</code>, but this behavior was incorrect and was removed to comply with the DITA specification.</p>
<p>A new <code>#note-separator</code> variable string was added to facilitate customization.</p>
<h1><a class="header" href="#xhtml-migration-for-flagging-updates-in-dita-ot-17" id="xhtml-migration-for-flagging-updates-in-dita-ot-17">XHTML migration for flagging updates in DITA-OT 1.7</a></h1>
<p>This topic is primarily of interest to developers with XHTML transform overrides written prior to DITA-OT 1.7. Due to significant changes in the flagging process with the 1.7 release, some changes may be needed to make overrides work properly with DITAVAL-based flagging. The new design is significantly simpler than the old design; in many cases, migration will consist of deleting old code that is no longer needed.</p>
<h2><a class="header" href="#which-xhtml-overrides-need-to-migrate" id="which-xhtml-overrides-need-to-migrate">Which XHTML overrides need to migrate?</a></h2>
<p>If your override does not contain any code related to DITAVAL flagging, then there is nothing to migrate.</p>
<p>If your builds do not make use of DITAVAL-based flagging, but call the deprecated flagging templates, then you should override but there is little urgency. You will not see any difference in the output, but those templates will be removed in a future release.</p>
<p>If you do make use of DITAVAL-based flagging, try using your override with 1.7. Check the elements you override:</p>
<ol>
<li>In some cases flags may be doubled. This will be the case if you call routines such as <code>&quot;start-flagit&quot;</code>.</li>
<li>In some cases flags may be removed. This will be the case if you call shortcut routines such as <code>&quot;revtext&quot;</code> or <code>&quot;revblock&quot;</code>.</li>
<li>In other cases, flags may still appear properly, in which case migration is less urgent.</li>
</ol>
<p>For any override that needs migration, please see the instructions that follow.</p>
<h2><a class="header" href="#deprecated-templates-in-dita-ot-17" id="deprecated-templates-in-dita-ot-17">Deprecated templates in DITA-OT 1.7</a></h2>
<p>All of the old DITAVAL based templates are deprecated in DITA-OT 1.7. If your overrides include any of the following templates, they should be migrated for the new release; in many cases the templates below will not have any effect on your output, but all instances should be migrated.</p>
<ul>
<li>The <code>&quot;gen-style&quot;</code> template used to add CSS styling</li>
<li>The <code>&quot;start-flagit&quot;</code> and <code>&quot;end-flagit&quot;</code> templates used to generate image flags based on property attributes like @audience</li>
<li>The <code>&quot;start-revflag&quot;</code> and <code>&quot;end-revflag&quot;</code> templates, used to generate images for active revisions</li>
<li>Shortcut templates that group these templates into a single call, such as:
<ul>
<li><code>&quot;start-flags-and-rev&quot;</code> and <code>&quot;end-flags-and-rev&quot;</code>, used to combine flags and revisions into one call</li>
<li><code>&quot;revblock&quot;</code> and <code>&quot;revtext&quot;</code>, both used to output start revisions, element content, and end revisions</li>
<li>The modes <code>&quot;outputContentsWithFlags&quot;</code> and <code>&quot;outputContentsWithFlagsAndStyle&quot;</code>, both used to combine processing for property/revision flags with content processing</li>
</ul>
</li>
<li>All other templates that make use of the <code>$flagrules</code> variable, which is no longer used in any of the DITA-OT 1.7 code</li>
<li>All templates within flag.xsl that were called from the templates listed above</li>
<li>Element processing handled with mode=&quot;elementname-fmt&quot;, such as <code>mode=&quot;ul-fmt&quot;</code> for processing unordered lists and <code>mode=&quot;section-fmt&quot;</code> for sections.</li>
</ul>
<h2><a class="header" href="#what-replaces-the-templates" id="what-replaces-the-templates">What replaces the templates?</a></h2>
<p>The new flagging design described in the preprocess design section now adds literal copies of relevant DITAVAL elements, along with CSS based flagging information, into the relevant section of the topic. This allows most flags to be processed in document order; in addition, there is never a need to read the DITAVAL, interpret CSS, or evaluate flagging logic. The htmlflag.xsl file contains a few rules to match and process the start/end flags; in most cases, all code to explicitly process flags can be deleted.</p>
<p>For example, the common logic for most element rules before DITA-OT 1.7 could be boiled down to the following:</p>
<ol>
<li>Match element</li>
<li>Create <code>&quot;flagrules&quot;</code> variable by reading DITAVAL for active flags</li>
<li>Output start tag such as <code>&lt;div&gt;</code> or <code>&lt;span&gt;</code></li>
<li>Call <code>&quot;commonattributes&quot;</code> and ID processing</li>
<li>Call <code>&quot;gen-style&quot;</code> with <code>$flagrules</code>, to create DITAVAL based CSS</li>
<li>Call <code>&quot;start-flagit&quot;</code> with <code>$flagrules</code>, to create start flag images</li>
<li>Call <code>&quot;start-revflag&quot;</code> with <code>$flagrules</code>, to create start revision images</li>
<li>Output contents</li>
<li>Call <code>&quot;end-revflag&quot;</code> with <code>$flagrules</code>, to create end revision images</li>
<li>Call <code>&quot;end-flagit&quot;</code> with <code>$flagrules</code>, to create end flag images</li>
<li>Output end tag such as <code>&lt;/div&gt;</code> or <code>&lt;/span&gt;</code></li>
</ol>
<p>In DITA-OT 1.7, style and images are typically handled with XSLT fallthrough processing. This removes virtually all special flag coding from element rules, because flags are already part of the document and processed in document order.</p>
<p>The sample above is reduced to:</p>
<ol>
<li>Match element</li>
<li>Output start tag such as <code>&lt;div&gt;</code> or <code>&lt;span&gt;</code></li>
<li>Call <code>&quot;commonattributes&quot;</code> and ID processing</li>
<li>Output contents</li>
<li>Output end tag such as <code>&lt;/div&gt;</code> or <code>&lt;/span&gt;</code></li>
</ol>
<h2><a class="header" href="#migrating-gen-style-named-template" id="migrating-gen-style-named-template">Migrating <code>&quot;gen-style&quot;</code> named template</a></h2>
<p>Calls to the <code>&quot;gen-style&quot;</code> template should be deleted. There is no need to replace this call for most elements.</p>
<p>The <code>&quot;gen-style&quot;</code> template was designed to read a DITAVAL file, find active style-based flagging (such as colored or bold text), and add it to the generated @style attribute in HTML.</p>
<p>With DITA-OT 1.7, the style is calculated in the pre-process flagging module. The result is created as @outputclass on a <code>&lt;ditaval-startprop&gt;</code> sub-element. The <code>&quot;commonattributes&quot;</code> template now includes a line to process that value; the result is that for every element that calls <code>&quot;commonattributes&quot;</code>, DITAVAL style will be processed when needed. Because virtually every element includes a call to this common template, there is little chance that your override needs to explicitly process the style. The new line in <code>&quot;commonattributes&quot;</code> that handles the style is:</p>
<pre><code class="language-language-xml">&lt;xsl:apply-templates select=&quot;*[contains(@class,' ditaot-d/ditaval-startprop ')]/@outputclass&quot; mode=&quot;add-ditaval-style&quot;/&gt;
</code></pre>
<h2><a class="header" href="#migrating-start-flagit-start-revflag-end-flagit-and-end-flagit-named-templates" id="migrating-start-flagit-start-revflag-end-flagit-and-end-flagit-named-templates">Migrating <code>&quot;start-flagit&quot;</code>, <code>&quot;start-revflag&quot;</code>, <code>&quot;end-flagit&quot;</code>, and <code>&quot;end-flagit&quot;</code> named templates</a></h2>
<p>Calls to these templates fall into two general groups.</p>
<p>If the flow of your element rule is to create a start tag like <code>&lt;div&gt;</code>, <code>&quot;start-flagit&quot;</code>/<code>&quot;start-revflag&quot;</code>, process contents, <code>&quot;end-revflag&quot;</code>/<code>&quot;end-flagit&quot;</code>, end tag - you just need to delete the calls to these templates. Flags will be generated simply by processing the element contents in document order.</p>
<p>If the flow of your element rule processes flags outside of the normal document-order. There are generally two reasons this is done. The first case is for elements like <code>&lt;ol&gt;</code>, where flags must appear before the <code>&lt;ol&gt;</code> in order to create valid XHTML. The second is for elements like <code>&lt;section&gt;</code>, where start flags are created, followed by the title or some generated text, element contents, and finally end flags. In either of these cases, support for processing flags in document order is disabled, so they must be explicitly processed out-of-line.</p>
<p>This is done with the following two lines (one for start flag/revision, one for end flag/revision):</p>
<ul>
<li>
<p>Create starting flag and revision images:</p>
<pre><code class="language-language-xml">&lt;xsl:apply-templates select=&quot;*[contains(@class,' ditaot-d/ditaval-startprop ')]&quot; mode=&quot;out-of-line&quot;/&gt;
</code></pre>
</li>
<li>
<p>Create ending flag and revision images:</p>
<pre><code class="language-language-xml">&lt;xsl:apply-templates select=&quot;*[contains(@class,' ditaot-d/ditaval-endprop ')]&quot; mode=&quot;out-of-line&quot;/&gt;
</code></pre>
</li>
</ul>
<p>For example, the following lines are used in DITA-OT 1.7 to process the <code>ul</code> element (replacing the 29 lines used in DITA-OT 1.6):</p>
<pre><code>&lt;xsl:template match=&quot;*[contains(@class,' topic/ul ')]&quot;&gt;
  **&lt;xsl:apply-templates select=&quot;\*\[contains\(@class,' ditaot-d/ditaval-startprop '\)\]&quot; mode=&quot;out-of-line&quot;/\&gt;**
  &lt;xsl:call-template name=&quot;setaname&quot;/&gt;
  &lt;ul&gt;
    &lt;xsl:call-template name=&quot;commonattributes&quot;/&gt;
    &lt;xsl:apply-templates select=&quot;@compact&quot;/&gt;
    &lt;xsl:call-template name=&quot;setid&quot;/&gt;
    &lt;xsl:apply-templates/&gt;
  &lt;/ul&gt;
  **&lt;xsl:apply-templates select=&quot;\*\[contains\(@class,' ditaot-d/ditaval-endprop '\)\]&quot; mode=&quot;out-of-line&quot;/\&gt;**
  &lt;xsl:value-of select=&quot;$newline&quot;/&gt;
&lt;/xsl:template&gt;
</code></pre>
<h2><a class="header" href="#migrating-start-flags-and-rev-and-end-flags-and-rev" id="migrating-start-flags-and-rev-and-end-flags-and-rev">Migrating <code>&quot;start-flags-and-rev&quot;</code> and <code>&quot;end-flags-and-rev&quot;</code></a></h2>
<ul>
<li><code>&quot;start-flags-and-rev&quot;</code> is equivalent to calling <code>&quot;start-flagit&quot;</code> followed by <code>&quot;start-revflag&quot;</code>; it should be migrated as in the previous section.</li>
<li><code>&quot;end-flags-and-rev&quot;</code> is equivalent to calling <code>&quot;end-revflag&quot;</code> followed by <code>&quot;end-flagit&quot;</code>; it should be migrated as in the previous section.</li>
</ul>
<h2><a class="header" href="#migrating-revblock-and-revtext" id="migrating-revblock-and-revtext">Migrating <code>&quot;revblock&quot;</code> and <code>&quot;revtext&quot;</code></a></h2>
<p>Calls to these two templates can be replaced with a simple call to <code>&lt;xsl:apply-templates/&gt;</code>.</p>
<h2><a class="header" href="#migrating-modes-outputcontentswithflags-and-outputcontentswithflagsandstyle" id="migrating-modes-outputcontentswithflags-and-outputcontentswithflagsandstyle">Migrating modes <code>&quot;outputContentsWithFlags&quot;</code> and <code>&quot;outputContentsWithFlagsAndStyle&quot;</code></a></h2>
<p>Processing an element with either of these modes can be replaced with a simple call to <code>&lt;xsl:apply-templates/&gt;</code>.</p>
<h2><a class="header" href="#migrating-modeelementname-fmt" id="migrating-modeelementname-fmt">Migrating <code>mode=&quot;elementname-fmt&quot;</code></a></h2>
<p>Prior to DITA-OT 1.7, many elements were processed with the following logic:</p>
<pre><code>Match element
    Set variable to determine if revisions are active and $DRAFT is on
    If active
        create division with rev style
            process element with mode=&quot;elementname-fmt&quot;
        end division
    Else
        process element with mode=&quot;elementname-fmt&quot;

Match element with mode=&quot;elementname-fmt&quot;
    Process as needed
</code></pre>
<p>Beginning with DITA-OT 1.7, styling from revisions is handled automatically with the <code>&quot;commonattributes&quot;</code> template. This means there is no need for the extra testing, or the indirection to <code>mode=&quot;elementname-fmt&quot;</code>. These templates are deprecated, and element processing will move into the main element rule. Overrides that include this indirection may remove it; overrides should also be sure to match the default rule, rather than matching with <code>mode=&quot;elementname-fmt&quot;</code>.</p>
<h1><a class="header" href="#migrating-to-release-16" id="migrating-to-release-16">Migrating to release 1.6</a></h1>
<p>In DITA-OT 1.6, various demo plug-ins were removed along with many deprecated properties, targets, templates and modes. The PDF2 transformation no longer supports the beta version of DITA from IBM, the &quot;bkinfo&quot; demo plug-in, or layout-masters.xml configuration.</p>
<p>Support for the old DITAVAL format (used before OASIS added DITAVAL to the standard in 2007) has been removed.</p>
<p>The demo folder has been deprecated and the following plug-ins have been moved to the plugins folder:</p>
<table><thead><tr><th>old path</th><th>new path</th></tr></thead><tbody>
<tr><td>demo/dita11</td><td>plugins/org.dita.specialization.dita11</td></tr>
<tr><td>demo/dita132</td><td>plugins/org.dita.specialization.dita132</td></tr>
<tr><td>demo/eclipsemap</td><td>plugins/org.dita.specialization.eclipsemap</td></tr>
<tr><td>demo/fo</td><td>plugins/org.dita.pdf2</td></tr>
<tr><td>demo/tocjs</td><td>plugins/com.sophos.tocjs</td></tr>
<tr><td>demo/h2d</td><td>plugins/h2d</td></tr>
<tr><td>demo/legacypdf</td><td>plugins/legacypdf</td></tr>
</tbody></table>
<p>The remaining plug-ins in the demo folder have been moved to a separate repository at <a href="https://github.com/dita-ot/ext-plugins">github.com/dita-ot/ext-plugins</a>.</p>
<p>The deprecated property <code>dita.input.valfile</code> should be replaced with the new argument property <code>args.filter</code>.</p>
<p>The <code>dita-preprocess</code> target has been removed and dependencies should be replaced with a target sequence <code>build-init, preprocess</code>.</p>
<p>Support for the <code>args.message.file</code> argument has been removed as message configuration has become static configuration.</p>
<p>The <code>workdir</code> processing instruction has been deprecated in favor of <code>workdir-uri</code>. The only difference between the two processing instructions is that <code>workdir-uri</code> contains a URI instead of a system path.</p>
<h2><a class="header" href="#preprocessing-3" id="preprocessing-3">Preprocessing</a></h2>
<p>The following deprecated templates and modes have been removed in topic pull stylesheets:</p>
<ul>
<li>inherit</li>
<li>get-stuff</li>
<li>verify-type-attribute</li>
<li>classval</li>
<li>getshortdesc</li>
<li>getlinktext</li>
<li>blocktext</li>
<li>figtext</li>
<li>tabletext</li>
<li>litext</li>
<li>fntext</li>
<li>dlentrytext</li>
<li>firstclass</li>
<li>invalid-list-item</li>
<li>xref</li>
</ul>
<h2><a class="header" href="#pdf2" id="pdf2">PDF2</a></h2>
<p>The following deprecated items are no longer supported in the PDF transform:</p>
<ul>
<li>Support for the beta version of DITA, available from IBM before the OASIS standard was created in 2005.</li>
<li>Support for the &quot;bkinfo&quot; demo plug-in, used to support book metadata before OASIS created the BookMap format in 2007.</li>
<li>Support for layout-masters.xml configuration. Plug-ins should use the <code>createDefaultLayoutMasters</code> template instead.</li>
</ul>
<p>The following extension-points have been added:</p>
<ul>
<li><code>dita.conductor.pdf2.param</code> to add XSLT parameters to XSL FO transformation.</li>
</ul>
<p>Custom PDF2 shell stylesheets need to be revised to not include separate IBM and OASIS DITA stylesheets. The *_1.0.xsl stylesheets have been removed and their imports must be removed from shell stylesheets.</p>
<p>The following template modes have been deprecated:</p>
<ul>
<li>toc-prefix-text</li>
<li>toc-topic-text</li>
</ul>
<p>The following named templates have been removed:</p>
<ul>
<li>processTopic</li>
<li>createMiniToc</li>
<li>processTopicTitle</li>
<li>createTopicAttrsName</li>
<li>processConcept</li>
<li>processReference</li>
<li>getTitle</li>
<li>placeNoteContent</li>
<li>placeImage</li>
<li>processUnknowType</li>
<li>insertReferenceTitle</li>
<li>buildRelationships</li>
<li>processTask</li>
</ul>
<p>The main FO generation process now relies on the merging process to rewrite duplicate IDs. The default merging process did this already in previous releases, but now also custom merging processes must fulfill the duplicate ID rewrite requirement.</p>
<h2><a class="header" href="#xhtml-3" id="xhtml-3">XHTML</a></h2>
<p>The following named templates have been deprecated:</p>
<ul>
<li>make-index-ref</li>
</ul>
<p>The following deprecated templates have been removed:</p>
<ul>
<li>revblock-deprecated</li>
<li>revstyle-deprecated</li>
<li>start-revision-flag-deprecated</li>
<li>end-revision-flag-deprecated</li>
<li>concept-links</li>
<li>task-links</li>
<li>reference-links</li>
<li>relinfo-links</li>
<li>sort-links-by-role</li>
<li>create-links</li>
<li>add-linking-attributes</li>
<li>add-link-target-attribute</li>
<li>add-user-link-attributes</li>
</ul>
<p>The removed templates have been replaced by other templates in earlier releases and plug-ins should be changed to use the new templates.</p>
<h2><a class="header" href="#odt-1" id="odt-1">ODT</a></h2>
<p>The following deprecated templates have been removed:</p>
<ul>
<li>revblock-deprecated</li>
<li>revstyle-deprecated</li>
<li>start-revision-flag-deprecated</li>
<li>end-revision-flag-deprecated</li>
</ul>
<p>The removed templates have been replaced by other templates in earlier releases and plug-ins should be changed to use the new templates.</p>
<h1><a class="header" href="#migrating-to-release-154" id="migrating-to-release-154">Migrating to release 1.5.4</a></h1>
<p>DITA-OT 1.5.4 adds new extension points to configure behavior based on file extensions, declare print transformation types and add mappings to the PDF configuration catalog file. PDF output supports mirrored page layout and uses new font family definitions. Support for several new languages was added for PDF and XHTML output.</p>
<h2><a class="header" href="#configuration-properties-file-changes" id="configuration-properties-file-changes">Configuration properties file changes</a></h2>
<p>In previous versions, the lib/configuration.properties file was generated by the integration process. Integration has been changed to generate lib/org.dita.dost.platform/plugin.properties and the role of the old lib/configuration.properties has been changed to contain defaults and configuration options, such as default language.</p>
<p>The <code>dita.plugin.org.dita.*.dir</code> properties have been changed to point to the DITA-OT base directory.</p>
<p>To allow access to configuration files, the lib directory needs to be added to the Java classpath.</p>
<h2><a class="header" href="#new-plug-in-extension-points" id="new-plug-in-extension-points">New plug-in extension points</a></h2>
<p>New plug-in extension points have been added allow configuring DITA-OT behavior based on file extensions.</p>
<table><thead><tr><th>Extension point</th><th>Description</th><th>Default values</th></tr></thead><tbody>
<tr><td>dita.topic.extension</td><td>DITA topic</td><td>.dita, .xml</td></tr>
<tr><td>dita.map.extensions</td><td>DITA map</td><td>.ditamap</td></tr>
<tr><td>dita.html.extensions</td><td>HTML file</td><td>.html, .htm</td></tr>
<tr><td>dita.resource.extensions</td><td>Resource file</td><td>.pdf, .swf</td></tr>
</tbody></table>
<p>Both HTML and resource file extensions are used to determine if a file in source is copied to output.</p>
<p>A new plug-in extension point has been added to declare transformation types as print types.</p>
<table><thead><tr><th>Extension point</th><th>Description</th></tr></thead><tbody>
<tr><td>dita.transtype.print</td><td>Declare transformation type as a print type.</td></tr>
</tbody></table>
<p>The <code>print_transtypes</code> property in integrator.properties has been deprecated in favor of dita.transtype.print.</p>
<h2><a class="header" href="#plugin-uri-scheme" id="plugin-uri-scheme">Plugin URI scheme</a></h2>
<p>Support for the plugin URI scheme has been added to XSLT stylesheets. Plug-ins can refer to files in other plug-ins without hard-coding relative paths, for example:</p>
<pre><code class="language-language-xml">&lt;xsl:import href=&quot;plugin:org.dita.pdf2:xsl/fo/topic2fo_1.0.xsl&quot;/&gt;
</code></pre>
<h2><a class="header" href="#xhtml-4" id="xhtml-4">XHTML</a></h2>
<p>Support for the following languages has been added:</p>
<ul>
<li>Indonesian</li>
<li>Kazakh</li>
<li>Malay</li>
</ul>
<h2><a class="header" href="#pdf-6" id="pdf-6">PDF</a></h2>
<p>Support for mirrored page layout was added. The default is the unmirrored layout. The following XSLT configuration variables have been deprecated:</p>
<ul>
<li><code>page-margin-left</code></li>
<li><code>page-margin-right</code></li>
</ul>
<p>The following variables should be used instead to control page margins:</p>
<ul>
<li><code>page-margin-outside</code></li>
<li><code>page-margin-inside</code></li>
</ul>
<p>The args.bookmap-order property has been added to control how front and back matter are processed in bookmaps. The default is to reorder the frontmatter content as in previous releases.</p>
<p>A new extension point has been added to add mappings to the PDF configuration catalog file.</p>
<table><thead><tr><th>Extension point</th><th>Description</th></tr></thead><tbody>
<tr><td>org.dita.pdf2.catalog.relative</td><td>Configuration catalog includes.</td></tr>
</tbody></table>
<p>Support for the following languages has been added:</p>
<ul>
<li>Finnish</li>
<li>Hebrew</li>
<li>Romanian</li>
<li>Russian</li>
<li>Swedish</li>
</ul>
<p>PDF processing no longer copies images or generates XSL FO to output directory. Instead, the temporary directory is used for all temporary files and source images are read directly from source directory. The legacy processing model can be enabled by setting org.dita.pdf2.use-out-temp to true in configuration properties; support for the legacy processing model may be removed in future releases.</p>
<p>Support for FrameMaker index syntax has been disabled by default. To enable FrameMaker index syntax, set org.dita.pdf2.index.frame-markup to true in configuration properties.</p>
<p>A configuration option has been added to disable internationalization (I18N) font processing and use stylesheet-defined fonts. To disable I18N font processing, set org.dita.pdf2.i18n.enabled to <code>false</code> in configuration properties.</p>
<p>The XSLT parameters customizationDir and fileProfilePrefix have been removed in favor of the customizationDir.url parameter.</p>
<p>A new shell stylesheet has been added for FOP and other shell stylesheets have also been revised. Plug-ins which have their own shell stylesheets for PDF processing should make sure all required stylesheets are imported.</p>
<p>Font family definitions in stylesheets have been changed from Sans, Serif, and Monospaced to sans-serif, serif, and monospace, respectively. The I18N font processing still uses the old logical names and aliases are used to map the new names to old ones.</p>
<h1><a class="header" href="#error-messages-and-troubleshooting" id="error-messages-and-troubleshooting">Error messages and troubleshooting</a></h1>
<p>This section contains information about problems that you might encounter and how to resolve them.</p>
<h1><a class="header" href="#logging-build-information" id="logging-build-information">Logging build information</a></h1>
<p>When you run DITA-OT, key information is logged on the screen. This information can also be written to a log file. If you encounter a problem, you can analyze this information to determine the source of the problem and then take action to resolve it.</p>
<p>The logging behavior varies depending on whether you use the dita command or Ant to invoke a toolkit build.</p>
<ul>
<li>
<p><strong>dita command</strong></p>
<p>By default, only warning and error messages are written to the screen.</p>
<ul>
<li>
<p>For more information, enable verbose logging with dita --verbose.</p>
<p>Verbose logging prints additional information to the console, including directory settings, effective values for Ant properties, input/output files, and informational messages to assist in troubleshooting.</p>
</li>
<li>
<p>To enable debug logging, use dita --debug.</p>
<p>Debug logging prints considerably more additional information. The debug log includes all information from the verbose log, plus details on Java classes, additional Ant properties and overrides, preprocessing filters, parameters, and stages, and the complete build sequence.</p>
<p><strong>Attention:</strong> Debug logging requires additional resources and can slow down the build process, so it should only be enabled when further details are required to diagnose problems.</p>
</li>
<li>
<p>To write the log to a file, use dita --logfile=file and specify the path to the log file.</p>
<p>Unless an absolute path is specified, the value will be interpreted relative to the current directory.</p>
</li>
</ul>
</li>
<li>
<p><strong>Ant</strong></p>
<p>By default, status information is written to the screen. If you issue the -l parameter, the build runs silently and the information is written to a log file with the name and location that you specified.</p>
</li>
</ul>
<h2><a class="header" href="#using-other-ant-loggers" id="using-other-ant-loggers">Using other Ant loggers</a></h2>
<p>You also can use other Ant loggers; see <a href="https://ant.apache.org/manual/listeners.html">Listeners &amp; Loggers</a> in the Ant documentation for more information.</p>
<p>For example, you can use the <strong>AnsiColorLogger</strong> to colorize the messages written on the screen.</p>
<ul>
<li>
<p><strong>dita command</strong></p>
<p>To use a custom Ant logger with the dita command, add the logger to the <code>ANT_ARGS</code> environment variable by calling the following command before calling the dita command:</p>
<pre><code class="language-syntax-bash">export ANT_ARGS=&quot;-logger org.apache.tools.ant.listener.AnsiColorLogger&quot;
</code></pre>
<p>Now you will get colorized messages when the dita command runs.</p>
<p><strong>Tip:</strong> Environment variables can also be set permanently. See <a href="https://www.java.com/en/download/help/path.xml">How do I set or change the PATH system variable?</a> for information on how to set the <a href="https://en.wikipedia.org/wiki/PATH_(variable)">PATH environment variable</a>. You can set the <code>ANT_ARGS</code> environment variable in the same way.</p>
</li>
<li>
<p><strong>Ant</strong></p>
<p>If you prefer to launch DITA-OT directly from Ant, you can also add the logger to the <code>ANT_ARGS</code> environment variable, as explained above. You can also set the logger with the <code>-logger</code> parameter when calling Ant.</p>
<pre><code class="language-syntax-bash">ant -logger org.apache.tools.ant.listener.AnsiColorLogger
</code></pre>
</li>
</ul>
<h2><a class="header" href="#fop-debug-logging" id="fop-debug-logging">FOP debug logging</a></h2>
<p>In PDF processing with Apache™ FOP, DITA-OT uses the Simple Logging Facade for Java (SLF4J) for better control and formatting of FOP log messages. To reduce noise on the console, all FOP messages are set to the Info level and hidden by default.</p>
<p>To enable debug logging, modify the config/logback.xml file or add your own logback.xml to the classpath with a higher priority to override the default settings. For more information, see the <a href="https://logback.qos.ch/manual/configuration.html">Logback configuration documentation</a>.</p>
<p><strong>Attention:</strong> Enabling FOP debug logging will dramatically increase the size of generated log files.</p>
<h1><a class="header" href="#enabling-debug-mode" id="enabling-debug-mode">Enabling debug mode</a></h1>
<p>Debug logging prints considerably more additional information. The debug log includes all information from the verbose log, plus details on Java classes, additional Ant properties and overrides, preprocessing filters, parameters, and stages, and the complete build sequence. The debug log can help you determine the root cause of a problem.</p>
<ol>
<li>
<p>From the command prompt, add the following parameters:</p>
<table><thead><tr><th>Application</th><th>Parameters</th></tr></thead><tbody>
<tr><td><strong>dita command</strong></td><td>--debug, -debug, or -d</td></tr>
<tr><td><strong>Ant</strong></td><td><code>-v -Dargs.debug=yes</code></td></tr>
</tbody></table>
<p>You also can add a <code>property</code> element to an Ant target in your build file, for example:</p>
<pre><code class="language-language-xml">&lt;property name=&quot;args.debug&quot; value=&quot;yes&quot;/&gt;
</code></pre>
<p><strong>Attention:</strong> Debug logging requires additional resources and can slow down the build process, so it should only be enabled when further details are required to diagnose problems.</p>
</li>
</ol>
<h1><a class="header" href="#dita-ot-error-messages" id="dita-ot-error-messages">DITA-OT error messages</a></h1>
<p>This topic lists each error message generated by the toolkit and provides additional information that might be helpful in understanding and resolving the error condition. If your toolkit installation includes custom plug-ins that define additional messages, you can add to this list by rebuilding the DITA-OT documentation.</p>
<p>Each message ID is composed of a message prefix, a message number, and a letter that indicates the severity level (I, W, E, or F).</p>
<p>The toolkit uses the following severity scale:</p>
<ul>
<li>
<p><strong>Info (I)</strong></p>
<p>Informational messages highlight the progress of transformation and call attention to conditions of which you should be aware. For example, draft comments are enabled and will be rendered in the output.</p>
</li>
<li>
<p><strong>Warning (W)</strong></p>
<p>The toolkit encountered a problem that should be corrected. Processing will continue, but the output might not be as expected.</p>
</li>
<li>
<p><strong>Error (E)</strong></p>
<p>The toolkit encountered a more severe problem, and the output is affected. For example, some content is missing or invalid, or the content is not rendered in the output</p>
</li>
<li>
<p><strong>Fatal (F)</strong></p>
<p>The toolkit encountered a severe condition, processing stopped, and no output is generated.</p>
</li>
</ul>
<p>Plug-ins may be used to add additional messages to the toolkit; for more information, see <a href="topics/rebuilding-docs.html">Rebuilding the DITA-OT documentation</a>.</p>
<table><thead><tr><th>Message ID</th><th>Severity</th><th>Message text</th><th>Additional details</th></tr></thead><tbody>
<tr><td>DOTA001F</td><td>Fatal</td><td>&quot;%1&quot; is not a recognized transformation type. Supported transformation types are dita, eclipsehelp, html5, htmlhelp, markdown, markdown_gitbook, markdown_github, mmpdf, org.dita-ot.html, pdf, pdf2, xhtml.</td><td>Default transformation types that ship with the toolkit include dita, eclipsehelp, html5, htmlhelp, markdown variants, pdf (or pdf2), and xhtml. Additional transformation types may be available if toolkit plug-ins are installed.</td></tr>
<tr><td>DOTA002F</td><td>Fatal</td><td>Input file is not specified, or is specified using the wrong parameter.</td><td>The input parameter was not specified, so there is no DITA or DITAMAP file to transform. Ensure the parameter is set properly; see <a href="topics/../parameters/parameters-base.html">DITA-OT common parameters (args.input)</a> if you are unsure how to specify the input file.</td></tr>
<tr><td>DOTA003F</td><td>Fatal</td><td>Cannot find the user specified XSLT stylesheet '%1'.</td><td>An alternate stylesheet was specified to run in place of the default XSLT output process, but that stylesheet could not be loaded. Please correct the parameter to specify a valid stylesheet.</td></tr>
<tr><td>DOTA004F</td><td>Fatal</td><td>Invalid DITA topic extension '%1'. Supported values are '.dita' and '.xml'.</td><td>This optional parameter is used to set an extension for DITA topic documents in the temporary processing directory. Only &quot;dita&quot;, &quot;.dita&quot;, &quot;xml&quot;, or &quot;.xml&quot; are allowed.</td></tr>
<tr><td>DOTA006W</td><td>Warning</td><td>Absolute paths on the local file system are not supported for the CSSPATH parameter. Please use a relative path or full URI instead.</td><td>If the CSSPATH uses an absolute path, it should be one that can still be accessed after the files are moved to another system (such as <code>http://www.example.org/</code>). Absolute paths on the local file system will be broken if the content is moved to a new system.</td></tr>
<tr><td>DOTA007E</td><td>Error</td><td>Cannot find the running-footer file &quot;%1&quot;. Please double check the value to ensure it is specified correctly.</td><td>The running footer file, which contains content to be added to the bottom of each XHTML output topic, cannot be located or read. This is usually caused by a typo in the parameter value. You should also ensure that the value is not specified with &quot;file:&quot; as a prefix.</td></tr>
<tr><td>DOTA008E</td><td>Error</td><td>Cannot find the running-header file &quot;%1&quot;. Please double check the value to ensure it is specified correctly.</td><td>The running header file, which contains content to be added to the top of each XHTML output topic, cannot be located or read. This is usually caused by a typo in the parameter value. You should also ensure that the value is not specified with &quot;file:&quot; as a prefix.</td></tr>
<tr><td>DOTA009E</td><td>Error</td><td>Cannot find the specified heading file &quot;%1&quot;. Please double check the value to ensure it is specified correctly.</td><td>The running heading file, which contains content to be added to the <code>head</code> section of each HTML output topic, cannot be located or read. This is usually caused by a typo in the parameter value. You should also ensure that the value is not specified with &quot;file:&quot; as a prefix.</td></tr>
<tr><td>DOTA011W</td><td>Warning</td><td>Argument &quot;%1&quot; is deprecated. This argument is no longer supported in the toolkit.</td><td> </td></tr>
<tr><td>DOTA012W</td><td>Warning</td><td>Argument &quot;%1&quot; is deprecated. Please use the argument &quot;%2&quot; instead.</td><td> </td></tr>
<tr><td>DOTA013F</td><td>Fatal</td><td>Cannot find the specified DITAVAL '%1'.</td><td> </td></tr>
<tr><td>DOTA014W</td><td>Warning</td><td>Attribute @%1 is deprecated. Use attribute @%2 instead.</td><td> </td></tr>
<tr><td>DOTA066F</td><td>Fatal</td><td>Cannot find the user specified XSLT stylesheet '%1'.</td><td>An alternate stylesheet was specified to run in place of the default XSL-FO output process, but that stylesheet could not be loaded. Please correct the parameter to specify a valid stylesheet.</td></tr>
<tr><td>DOTA067W</td><td>Warning</td><td>Ignoring index-see '%1' inside parent index entry '%2' because the parent indexterm contains indexterm children.</td><td>According to the OASIS DITA Specification, the <code>index-see</code> element should be ignored if the parent <code>indexterm</code> contains other <code>indexterm</code> children.</td></tr>
<tr><td>DOTA068W</td><td>Warning</td><td>Ignoring index-see-also '%1' inside parent index entry '%2' because the parent indexterm contains indexterm children.</td><td>According to the OASIS DITA Specification, the <code>index-see-also</code> element should be ignored if the parent <code>indexterm</code> contains other <code>indexterm</code> children.</td></tr>
<tr><td>DOTA069F</td><td>Fatal</td><td>Input file '%1' cannot be located or read. Ensure that file was specified properly and that you have permission to access it.</td><td>Please ensure that the input file path and file name were entered correctly.</td></tr>
<tr><td>DOTA069W</td><td>Warning</td><td>Target &quot;%1&quot; is deprecated. Remove references to this target from your custom XSLT or plug-ins.</td><td> </td></tr>
<tr><td>DOTJ005F</td><td>Fatal</td><td>Failed to create new instance for '%1'. Please ensure that '%1' exists and that you have permission to access it.</td><td> </td></tr>
<tr><td>DOTJ007E</td><td>Error</td><td>Duplicate condition in filter file for rule '%1'. The first encountered condition will be used.</td><td> </td></tr>
<tr><td>DOTJ007I</td><td>Info</td><td>Duplicate condition in filter file for rule '%1'. The first encountered condition will be used.</td><td> </td></tr>
<tr><td>DOTJ007W</td><td>Warning</td><td>Duplicate condition in filter file for rule '%1'. The first encountered condition will be used.</td><td> </td></tr>
<tr><td>DOTJ009E</td><td>Error</td><td>Cannot overwrite file '%1' with file '%2'. The modified result may not be consumed by the following steps in the transform pipeline. Check to see whether the file is locked by some other application during the transformation process.</td><td>The transform was unable to create files properly during the transform; results may not be as expected.</td></tr>
<tr><td>DOTJ012F</td><td>Fatal</td><td>Failed to parse the input file '%1'.</td><td>This message may indicate an invalid input file (such as accidentally specifying a PDF file as input rather than a DITA map file), an input file that uses elements which are not allowed, are not part or a DITA file that has errors and cannot be parsed as XML. You could also be using a specialized DITA document type that needs external plug-ins in order to be parsed correctly. The message issued by the XML parser should provide additional information to help diagnose the cause.</td></tr>
<tr><td>DOTJ013E</td><td>Error</td><td>Failed to parse the referenced file '%1'.</td><td>This message may indicate a reference to an invalid file (such as accidentally referencing a PDF or unknown XML file as if it was DITA), a referenced file that uses elements which are not allowed, or a referenced DITA file that has errors and cannot be parsed as XML. You could also be using a specialized DITA document type that needs external plug-ins in order to be parsed correctly. The message issued by the XML parser should provide additional information to help diagnose the cause.</td></tr>
<tr><td>DOTJ014W</td><td>Warning</td><td>Found an indexterm element with no content. Setting the term to ***.</td><td>An empty <code>indexterm</code> element was found, and will appear in the index as ***. This index term should be removed from the source.</td></tr>
<tr><td>DOTJ018I</td><td>Info</td><td>Log file '%1' was generated successfully in directory '%2'. Any messages from the transformation process are available in the log file; additional details about each message are available in the DITA-OT documentation.</td><td> </td></tr>
<tr><td>DOTJ020W</td><td>Warning</td><td>At least one plug-in in '%1' is required by plug-in '%2'. Plug-in '%2' cannot be loaded. Check and see whether all prerequisite plug-ins are installed in toolkit.</td><td>This will appear when one installed plug-in requires another in order to function correctly, but the required plug-in is not found. The installed plug-in will be ignored.</td></tr>
<tr><td>DOTJ021E</td><td>Error</td><td>File '%1' will not generate output because because all content has been filtered out by DITAVAL &quot;exclude&quot; conditions, or because the file is not valid DITA.</td><td> </td></tr>
<tr><td>DOTJ021W</td><td>Warning</td><td>File '%1' will not generate output since it is invalid or all of its content has been filtered out by the ditaval file. Please check the file '%1' and the ditaval file to see if this is the intended result.</td><td>This may appear if filter conditions on the root element of a topic cause the entire topic to be filtered out. To remove this message, you could place any filter conditions on the reference to this file, which will prevent the build from accessing this file.</td></tr>
<tr><td>DOTJ022F</td><td>Fatal</td><td>Failed to parse the input file '%1' because all of its content has been filtered out. This will happen if the input file has filter conditions on the root element, and a ditaval excludes all content based on those conditions.</td><td>Either the input file or the ditaval file should change, otherwise your build is explicitly excluding all content.</td></tr>
<tr><td>DOTJ023E</td><td>Error</td><td>Failed to get the specified image file '%1', so it will not be included with your output.</td><td>Check whether the image exists in the source location or already exists in the output directory.</td></tr>
<tr><td>DOTJ025E</td><td>Error</td><td>The input to the &quot;topic merge&quot; transform process could not be found. Correct any earlier transform errors and try the build again, or see the DITA-OT documentation for additional causes.</td><td>This message should only appear in the following cases: -   Errors earlier in the transform prevented this step of the transform from running; correct any errors and try the build again.</td></tr>
<tr><td>-   An Ant build or plug-in is directly calling the toolkit’s topic merge module, and is doing so improperly; in this case the Ant build or plug-in needs to be fixed.</td><td></td><td></td><td></td></tr>
<tr><td>-   In the past, problems have been encountered when calling this module with an absolute path; this should no longer be an issue, but may be fixed in older releases by updating the Ant build or plug-in.</td><td></td><td></td><td></td></tr>
</tbody></table>
<table><thead><tr></tr></thead><tbody>
<tr><td>DOTJ026E</td><td>Error</td><td>The &quot;topic merge&quot; did not generate any output. Correct any earlier transform errors and try the build again, or see the DITA-OT documentation for additional causes.</td><td>This message should only appear if an Ant build or plug-in is directly calling the toolkit’s topic merge module, or if earlier errors resulted in problems with some of the content. If the topic merge module is called correctly, then this indicates a program error that should be reported to the DITA-OT development team via the <a href="https://github.com/dita-ot/dita-ot/issues">GitHub issues tracker</a>.</td></tr>
<tr><td>DOTJ028E</td><td>Error</td><td>No format attribute was found on a reference to file '%1', which does not appear to be a DITA file. If this is not a DITA file, set the format attribute to an appropriate value, otherwise set the format attribute to &quot;dita&quot;.</td><td>When referencing a non-DITA file, the format attribute should indicate the type of file referenced (such as &quot;html&quot; for HTML topics or &quot;pdf&quot; for PDF files). Otherwise, the transform may attempt to parse the referenced document as a DITA topic.</td></tr>
<tr><td>DOTJ029I</td><td>Info</td><td>No 'domains' attribute was found for element '&lt;%1&gt;'. This generally indicates that your DTD or Schema was not developed properly according to the DITA specification.</td><td>The domains attribute is used in specialized DITA documents to help determine which domain elements are legal. This message will only appear if a DITA specialization was not defined properly.</td></tr>
<tr><td>DOTJ030I</td><td>Info</td><td>No 'class' attribute for was found for element '&lt;%1&gt;'. The element will be processed as an unknown or non-DITA element.</td><td>All specialized DITA elements must define a class attribute to provide ancestry information. This message will only appear if a specialized DITA element did not define a class attribute, or if non-DITA elements are included in a DITA context.</td></tr>
<tr><td>DOTJ031I</td><td>Info</td><td>No specified rule for '%1' was found in the ditaval file. This value will use the default action, or a parent prop action if specified. To remove this message, you can specify a rule for '%1' in the ditaval file.</td><td>This informational message is intended to help you catch filter conditions that may have been specified improperly; if the value is correct, no action is needed.</td></tr>
<tr><td>DOTJ033E</td><td>Error</td><td>No valid content is found in topicref '%1' during chunk processing. Please specify an existing and valid topic for the topicref.</td><td> </td></tr>
<tr><td>DOTJ034F</td><td>Fatal</td><td>Failed to parse the input file '%1' (the content of the file is not valid). If the input file '%1' does not have a DOCTYPE declaration, please make sure that all class attributes are present in the file.</td><td>DITA processing is based on class attributes defined for every element. Usually these are defaulted in the DTD or Schema; if no DTD or Schema is used, the class attributes must be explicitly included in the map or topic.</td></tr>
<tr><td>DOTJ035F</td><td>Fatal</td><td>The file &quot;%1&quot; is outside the scope of the input dita/map directory. If you want to lower the severity level, please use the Ant parameter 'outer.control', and set the value to &quot;warn&quot; or &quot;quiet&quot;. Otherwise, move the referenced file &quot;%1&quot; into the input dita/map directory.</td><td>This will appear when a topic is outside the scope of the map; for example, if the main input map references &quot;../other-directory/some.dita&quot;. The result would cause an output file to be created outside of the output directory. See <a href="topics/../parameters/parameters-base.html">DITA-OT common parameters (outer.control and generate.copy.outer)</a> for details.</td></tr>
<tr><td>DOTJ036W</td><td>Warning</td><td>The file &quot;%1&quot; is outside the scope of the input dita/map directory.</td><td>This will appear when a topic is outside the scope of the map; for example, if the main input map references &quot;../other-directory/some.dita&quot;. The result would cause an output file to be created outside of the output directory. If you do not want to see the warning message, please use the Ant parameter 'outer.control', and set the value to &quot;quiet&quot;. Otherwise, move the referenced file into the input dita/map directory. See <a href="topics/../parameters/parameters-base.html">DITA-OT common parameters (outer.control and generate.copy.outer)</a> for details.</td></tr>
<tr><td>DOTJ037W</td><td>Warning</td><td>The XML schema and DTD validation function of the parser is turned off. Please make sure the input is normalized DITA with class attributes included, otherwise it will not be processed correctly.</td><td>DITA processing is based on class attributes defined for every element. Usually these are defaulted in the DTD or Schema; if validation against the DTD or Schema is turned off, the class attributes must be explicitly included in the map or topic.</td></tr>
<tr><td>DOTJ038E</td><td>Error</td><td>The tag &quot;%1&quot; is specialized from unrecognized metadata. Please make sure that tag &quot;%1&quot; is specialized from an existing metadata tag in the core DITA vocabulary.</td><td>This appears to indicate an error in creating specialized metadata elements. Please verify that the document type you are using is complete and complies with DITA Specialization rules.</td></tr>
<tr><td>DOTJ039E</td><td>Error</td><td>There is no target specified for conref push action &quot;pushafter&quot;. Please add &lt;elementname conref=&quot;pushtarget&quot; conaction=&quot;mark&quot;&gt; before current element.</td><td>Please see the topic on <a href="http://docs.oasis-open.org/dita/dita/v1.3/os/part1-base/langRef/attributes/theconactionattribute.html#theconactionattribute">Conref Push</a> in the DITA specification for details on expected syntax for this function.</td></tr>
<tr><td>DOTJ040E</td><td>Error</td><td>An element uses the attribute conaction=&quot;replace&quot;, but a conref attribute is not found in the expected location.</td><td>Please see the topic on <a href="http://docs.oasis-open.org/dita/dita/v1.3/os/part1-base/langRef/attributes/theconactionattribute.html#theconactionattribute">Conref Push</a> in the DITA specification for details on expected syntax for this function.</td></tr>
<tr><td>DOTJ041E</td><td>Error</td><td>The attribute conref=&quot;%1&quot; uses invalid syntax. The value should contain '#' followed by a topic or map ID, optionally followed by '/elemID' for a sub-topic element.</td><td>The conref attribute must be a URI reference to a DITA element. Please see the topic on <a href="http://docs.oasis-open.org/dita/dita/v1.3/os/part1-base/archSpec/base/uri-based-addressing.html#uri-based-addressing">URI-based addressing</a> in the DITA specification for details on the expected syntax.</td></tr>
<tr><td>DOTJ042E</td><td>Error</td><td>Two elements both use conref push to replace the target &quot;%1&quot;. Please delete one of the duplicate &quot;replace&quot; actions.</td><td>The conref push function was used to replace a single element with two or more alternatives. Only one element may directly replace another using conref push. See <a href="http://docs.oasis-open.org/dita/dita/v1.3/os/part1-base/langRef/attributes/theconactionattribute.html#theconactionattribute">Conref Push</a> in the DITA specification for more information about the conref push &quot;replace&quot; function.</td></tr>
<tr><td>DOTJ043W</td><td>Warning</td><td>The conref push function is trying to replace an element that does not exist (element &quot;%1&quot; in file &quot;%2&quot;).</td><td>The target for a conref push action does not exist; please make sure that the syntax is correct and that the target exists. See the topic on <a href="http://docs.oasis-open.org/dita/dita/v1.3/os/part1-base/archSpec/base/uri-based-addressing.html#uri-based-addressing">URI-based addressing</a> in the DITA specification for details on the expected syntax. If the syntax is correct, it is possible that the target was filtered out of your build using a DITAVAL file.</td></tr>
<tr><td>DOTJ044W</td><td>Warning</td><td>There is a redundant conref action &quot;pushbefore&quot;. Please make sure that &quot;mark&quot; and &quot;pushbefore&quot; occur in pairs.</td><td>Please see the topic on <a href="http://docs.oasis-open.org/dita/dita/v1.3/os/part1-base/langRef/attributes/theconactionattribute.html#theconactionattribute">Conref Push</a> in the DITA specification for details on expected syntax for this function.</td></tr>
<tr><td>DOTJ045I</td><td>Info</td><td>The key &quot;%1&quot; is defined more than once in the same map file.</td><td>This informational message is intended to help you catch catch duplicate key definitions; if the keys are defined as expected, no action is needed.</td></tr>
<tr><td>DOTJ046E</td><td>Error</td><td>Conkeyref=&quot;%1&quot; can not be resolved because it does not contain a key or the key is not defined. The build will use the conref attribute for fallback, if one exists.</td><td>See <a href="http://docs.oasis-open.org/dita/dita/v1.3/os/part1-base/langRef/attributes/theconkeyrefattribute.html#theconkeyrefattribute">the conkeyref definition</a> for details on expected syntax and usage.</td></tr>
<tr><td>DOTJ047I</td><td>Info</td><td>Unable to find key definition for key reference &quot;%1&quot; in root scope. The href attribute may be used as fallback if it exists</td><td>This message is intended to help you locate incorrectly specified keys; if the key was specified correctly, this message may be ignored.</td></tr>
<tr><td>DOTJ048I</td><td>Info</td><td>Unable to find key definition for key reference &quot;%1&quot; in scope &quot;%2&quot;. The href attribute may be used as fallback if it exists</td><td> </td></tr>
<tr><td>DOTJ049W</td><td>Warning</td><td>The attribute value %1=&quot;%3&quot; on element &quot;%2&quot; does not comply with the specified subject scheme. According to the subject scheme map, the following values are valid for the %1 attribute: %4</td><td>A DITA Subject Scheme map was used to limit values that are available to the specified attribute. Please correct the attribute so that it uses one of the allowed values.</td></tr>
<tr><td>DOTJ050W</td><td>Warning</td><td>Found an &lt;index-see&gt; or &lt;index-see-also&gt; reference to the term '%1', but that term is not defined in the index.</td><td>The Eclipse index will contain a value such as &quot;See also otherEntry&quot;, but otherEntry does not exist in this index. The index reference will be broken unless this plug-in is <em>always</em> loaded into Eclipse with another plug-in that defines otherEntry as an index term.</td></tr>
<tr><td>DOTJ051E</td><td>Error</td><td>Unable to load target for coderef &quot;%1&quot;.</td><td>The target for a coderef element, which specifies an external text-based file, could not be located or loaded. Please verify that the reference is correct. Note that for security reasons, references to code samples outside of the scope of the map directory are not supported by default, as this could allow a reference to access and display any restricted or hidden file on the system. If you are certain that the path is valid and the file should be loaded, the current workaround is to set a parameter to allow these references. See <a href="topics/../parameters/parameters-base.html">DITA-OT common parameters (outer.control and generate.copy.outer)</a> for details.</td></tr>
</tbody></table>
<table><thead><tr></tr></thead><tbody>
<tr><td>DOTJ052E</td><td>Error</td><td>Code reference charset &quot;%1&quot; not supported. See the DITA-OT documentation for supported charset values on the format attribute.</td><td>DITA-OT supports a special syntax on coderef elements to specify the character set of the target document. See <a href="topics/../reference/extended-functionality.html">Extended codeblock processing</a> for details on the expected syntax.</td></tr>
<tr><td>DOTJ053W</td><td>Warning</td><td>Input file '%1' is not valid DITA file name. Please check '%1' to see if it is correct. The extensions &quot;.dita&quot; or &quot;.xml&quot; are supported for DITA topics.</td><td>By default, DITA-OT supports the extensions &quot;dita&quot; and &quot;xml&quot; for DITA topics, as mandated by the DITA specification. Please verify that your topics use one of these extensions, or configure the toolkit to allow additional extensions.</td></tr>
<tr><td>DOTJ054E</td><td>Error</td><td>Unable to parse invalid %1 attribute value &quot;%2&quot;</td><td>This message indicates that the <code>@href</code> value specified in %1 does not use proper URI syntax. This may occur when <code>@href</code> includes characters that should be escaped (such as the space character, which should be <code>%20</code> when in a URI). In strict processing mode this will cause a build failure; in other processing modes the build will continue using the value in %2.</td></tr>
<tr><td>DOTJ055E</td><td>Error</td><td>Invalid key name &quot;%1&quot;.</td><td> </td></tr>
<tr><td>DOTJ056E</td><td>Error</td><td>Invalid xml:lang &quot;%1&quot;.</td><td> </td></tr>
<tr><td>DOTJ057E</td><td>Error</td><td>The id attribute value &quot;%1&quot; is not unique within the topic that contains it.</td><td> </td></tr>
<tr><td>DOTJ058E</td><td>Error</td><td>Both %1 and %2 attributes defined. A single element may not contain both generalized and specialized values for the same attribute.</td><td> </td></tr>
<tr><td>DOTJ059E</td><td>Error</td><td>Invalid key scope name &quot;%1&quot;.</td><td> </td></tr>
<tr><td>DOTJ060W</td><td>Warning</td><td>Key &quot;%1&quot; was used in conkeyref but is not bound to a DITA topic or map. Cannot resolve conkeyref value &quot;%2&quot; as a valid conref reference.</td><td> </td></tr>
<tr><td>DOTJ061E</td><td>Error</td><td>Topic reference target is a DITA map but format attribute has not been set. Set format attribute value to &quot;ditamap&quot;.</td><td> </td></tr>
<tr><td>DOTJ062E</td><td>Error</td><td>Invalid %1 attribute value &quot;%2&quot;.</td><td> </td></tr>
<tr><td>DOTJ063E</td><td>Error</td><td>The cols attribute is &quot;%1&quot; but number of colspec elements was %2.</td><td> </td></tr>
<tr><td>DOTJ064W</td><td>Warning</td><td>Chunk attribute uses both &quot;to-content&quot; and &quot;by-topic&quot; that conflict with each other. Ignoring &quot;by-topic&quot; token.</td><td> </td></tr>
<tr><td>DOTJ065I</td><td>Info</td><td>Branch filter generated topic %1 used more than once. Renaming %1 to %2.</td><td> </td></tr>
<tr><td>DOTJ066E</td><td>Error</td><td>No id attribute on topic type element %1. Using generated id %2.</td><td> </td></tr>
<tr><td>DOTJ067E</td><td>Error</td><td>No id attribute on topic type element %1.</td><td> </td></tr>
<tr><td>DOTJ068E</td><td>Error</td><td>Conref action &quot;mark&quot; without conref target.</td><td>A conref &quot;mark&quot; action has been used to mark a target element without a corresponding content reference target. This may occur when the order of the &quot;mark&quot; element and the pushed element is reversed.</td></tr>
<tr><td>DOTJ069E</td><td>Error</td><td>Circular key definition %1.</td><td>A circular reference was found in key definitions: a series of key references where the last key references the first.</td></tr>
</tbody></table>
<p>This may occur if a <code>topicref</code> element contains both a key name in the <code>@keys</code> attribute and a reference to the same key in the <code>@keyref</code> attribute, or if a <code>@keyref</code> attribute points to a key that refers back to the referencing element.</p>
<p>To resolve this issue, change the target of the <code>@keyref</code> so the key is defined by pointing to a resource other than itself.</p>
<table><thead><tr></tr></thead><tbody>
<tr><td>DOTJ070I</td><td>Info</td><td>Invalid 'class' attribute '%1' for was found for element '&lt;%2&gt;'. The element will be processed as an unknown or non-DITA element.</td><td>When a <code>@class</code> attribute does not use the expected syntax, this usually indicates that <code>@class</code> has been explicitly set on a DITA element. The attribute should be removed from the document so that the expected default value can be automatically used.</td></tr>
</tbody></table>
<p>If this is a non-DITA element, it needs to be placed inside a <code>foreign</code> element so that is not validated against DITA rules.</p>
<table><thead><tr></tr></thead><tbody>
<tr><td>DOTJ071E</td><td>Error</td><td>Cannot find the specified DITAVAL '%1'.</td><td>Ensure that the DITAVAL file exists. If more than one DITAVAL file is specified, ensure that the paths are delimited using the file path separator character appropriate for your operating system (semicolon ‘<code>;</code>’ on Windows, or colon ‘<code>:</code>’ on macOS or Linux).</td></tr>
</tbody></table>
<table><thead><tr></tr></thead><tbody>
<tr><td>DOTJ072E</td><td>Error</td><td>Email link without correct 'format' attribute. Using 'format' attribute value 'email'.</td><td> </td></tr>
<tr><td>DOTJ073E</td><td>Error</td><td>Email link without correct 'scope' attribute. Using 'scope' attribute value 'external'.</td><td> </td></tr>
<tr><td>DOTJ074W</td><td>Warning</td><td>Rev attribute cannot be used with prop filter.</td><td> </td></tr>
<tr><td>DOTJ075W</td><td>Warning</td><td>Absolute link '%1' without correct 'scope' attribute. Using 'scope' attribute value 'external'.</td><td> </td></tr>
<tr><td>DOTJ076W</td><td>Warning</td><td>Absolute link '%1' without correct 'scope' attribute.</td><td> </td></tr>
<tr><td>DOTJ077F</td><td>Fatal</td><td>Invalid action attribute '%1' on DITAVAL property.</td><td> </td></tr>
<tr><td>DOTJ078F</td><td>Fatal</td><td>Input file '%1' could not be loaded. Ensure that grammar files for this document type are referenced and installed properly.</td><td> </td></tr>
<tr><td>DOTJ079E</td><td>Error</td><td>File '%1' could not be loaded. Ensure that grammar files for this document type are referenced and installed properly.</td><td> </td></tr>
<tr><td>DOTJ080W</td><td>Warning</td><td>Integrator configuration '%1' has been deprecated. Use plugin configuration '%1' instead.</td><td> </td></tr>
<tr><td>DOTJ081W</td><td>Warning</td><td>Ignoring empty conref attribute conref=&quot;&quot;.</td><td> </td></tr>
<tr><td>DOTJ082E</td><td>Error</td><td>Processing table cell failed.</td><td> </td></tr>
<tr><td>DOTJ083E</td><td>Error</td><td>The resource referenced as %1 is capitalized differently on disk</td><td> </td></tr>
<tr><td>DOTX001W</td><td>Warning</td><td>No string named '%1' was found for language '%2'. Using the default language '%3'. Add a mapping between default language and desired language for the string '%1'.</td><td>This build uses generated text, such as the phrase &quot;Related information&quot; (which is generated above many link groups). The toolkit was unable to locate the string %1 for your specified language, so the string will appear in the default language. This generally indicates that the toolkit’s strings need to be updated to support your language, or that your language setting is incorrect.</td></tr>
<tr><td>DOTX002W</td><td>Warning</td><td>The title element or attribute in the ditamap is required for Eclipse output.</td><td>The Eclipse help system requires a title in the project files generated from your map. Please add a title to your input map to get valid Eclipse help output.</td></tr>
<tr><td>DOTX003I</td><td>Info</td><td>The anchorref attribute should either reference another dita map or an Eclipse XML TOC file. The value '%1' does not appear to reference either.</td><td>Eclipse uses anchor references to connect with other TOC files. For this to work in content generated from a DITA map, the anchorref element must reference either an existing Eclipse TOC XML file, or another DITA map (which will presumably also be converted to an Eclipse TOC).</td></tr>
<tr><td>DOTX004I</td><td>Info</td><td>Found a navref element that does not reference anything. The navref element should either reference another dita map or an Eclipse XML file.</td><td>Eclipse builds use DITA’s <code>navref</code> element to pull in other Eclipse TOC files. The build found a <code>navref</code> element that does not reference any other file; the element will be ignored.</td></tr>
<tr><td>DOTX005E</td><td>Error</td><td>Unable to find navigation title for reference to '%1'. The build will use '%1' as the title in the Eclipse Table of Contents.</td><td>To remove this message, provide a navigation title for the referenced object in the map or topic, or ensure that you are referencing a valid local DITA target.</td></tr>
<tr><td>DOTX006E</td><td>Error</td><td>Unknown file extension in href=&quot;%1&quot;. References to non-DITA resources should set the format attribute to match the resource (for example, 'txt', 'pdf', or 'html').</td><td>Set the format attribute to identify the format of the file. If the reference is to a DITA document, ensure that the document uses a valid DITA extension (default supported extensions are &quot;dita&quot; and &quot;xml&quot;).</td></tr>
<tr><td>DOTX007I</td><td>Info</td><td>Only DITA topics, HTML files, and images may be included in your compiled CHM file. The reference to &quot;%1&quot; will be ignored. To remove this message, you can set the toc=&quot;no&quot; or processing-role=&quot;resource-only&quot; attribute on your topicref.</td><td>The HTML Help compiler will only include some types of information in the compiled CHM file; the current reference will not be included.</td></tr>
<tr><td>DOTX008E</td><td>Error</td><td>File '%1' does not exist or cannot be loaded.</td><td>Ensure that the file exists and can be read. Note that the name of the file in this message may have be changed to use a standard dita topic file extension ('.dita' or '.xml'), instead of the original extension used by the file; it may also include a path to the temporary directory rather than to the original.</td></tr>
<tr><td>DOTX008W</td><td>Warning</td><td>File '%1' cannot be loaded, and no navigation title is specified for the table of contents.</td><td>To fix the table of contents, specify a navigation title in your map or ensure that the referenced file is local and can be accessed. Note that the name of the file in this message may have be changed to use a standard dita topic file extension ('.dita' or '.xml'), instead of the original extension used by the file; it may also include a path to the temporary directory rather than to the original.</td></tr>
<tr><td>DOTX009W</td><td>Warning</td><td>Could not retrieve a title from '%1'. Using '%2' instead.</td><td>No title was found in the specified topic, so the table of contents will use the indicated fallback value for this topic.</td></tr>
<tr><td>DOTX010E</td><td>Error</td><td>Unable to find target for conref=&quot;%1&quot;.</td><td>The conref attribute must be a URI reference to an existing DITA element. Please see the topic on <a href="http://docs.oasis-open.org/dita/dita/v1.3/os/part1-base/archSpec/base/uri-based-addressing.html#uri-based-addressing">URI-based addressing</a> in the DITA specification for details on the expected syntax. Note that the name of the file in this message may have be changed to use a standard dita topic file extension ('.dita' or '.xml'), instead of the original extension used by the file; it may also include a path to the temporary directory rather than to the original. If the target element exists in your source file, check to make sure it is not filtered out of the build with a DITAVAL file (which will remove the target before conref processing runs).</td></tr>
</tbody></table>
<table><thead><tr></tr></thead><tbody>
<tr><td>DOTX011W</td><td>Warning</td><td>There is more than one possible target for the reference conref=&quot;%1&quot;. Only the first will be used. Remove the duplicate id in the referenced file.</td><td>When pulling content with a conref attribute, you may only pull from a single element, but the target ID appears twice in the referenced topic. Note that the name of the file in this message may have be changed to use a standard dita topic file extension ('.dita' or '.xml'), instead of the original extension used by the file; it may also include a path to the temporary directory rather than to the original.</td></tr>
<tr><td>DOTX012W</td><td>Warning</td><td>When you conref another topic or an item in another topic, the domains attribute of the target topic must be equal to or a subset of the current topic's domains attribute. Put your target under an appropriate domain. You can see the messages guide for more help.</td><td>This message is deprecated and should no longer appear in any logs.</td></tr>
<tr><td>DOTX013E</td><td>Error</td><td>A element with attribute conref=&quot;%1&quot; indirectly includes itself, which results in an infinite loop.</td><td>This may appear if (for example) you have a <code>ph</code> element that references another phrase, but that phrase itself contains a reference to the original. This will result in an infinite loop. The toolkit will stop following the conref trail when this is detected; you will need to correct the reference in your source files. Note that the name of the file in this message may have be changed to use a standard dita topic file extension ('.dita' or '.xml'), instead of the original extension used by the file; it may also include a path to the temporary directory rather than to the original.</td></tr>
<tr><td>DOTX014E</td><td>Error</td><td>The attribute conref=&quot;%1&quot; uses invalid syntax. Conref references to a map element should contain '#' followed by an ID, such as mymap.ditamap#mytopicrefid.</td><td>The conref attribute must be a URI reference to a DITA element. Please see the topic on <a href="http://docs.oasis-open.org/dita/dita/v1.3/os/part1-base/archSpec/base/uri-based-addressing.html#uri-based-addressing">URI-based addressing</a> in the DITA specification for details on the expected syntax.</td></tr>
<tr><td>DOTX015E</td><td>Error</td><td>The attribute conref=&quot;%1&quot; uses invalid syntax. The value should contain '#' followed by a topic or map ID, optionally followed by '/elemID' for a sub-topic element.</td><td>The conref attribute must be a URI reference to a DITA element. Please see the topic on <a href="http://docs.oasis-open.org/dita/dita/v1.3/os/part1-base/archSpec/base/uri-based-addressing.html#uri-based-addressing">URI-based addressing</a> in the DITA specification for details on the expected syntax. Note that the name of the file in this message may have be changed to use a standard dita topic file extension ('.dita' or '.xml'), instead of the original extension used by the file; it may also include a path to the temporary directory rather than to the original.</td></tr>
<tr><td>DOTX016W</td><td>Warning</td><td>A reference to &quot;%2&quot; appears to reference a DITA document, but the format attribute has inherited a value of &quot;%1&quot;. The document will not be processed as DITA.</td><td>This warning is intended to catch instances where a non-DITA format setting unexpectedly cascades to a DITA topic, which will prevent the topic from being processed. To remove this message, set the format attribute directly on the indicated reference. Note that the name of the file in this message may have be changed to use a standard dita topic file extension ('.dita' or '.xml'), instead of the original extension used by the file; it may also include a path to the temporary directory rather than to the original.</td></tr>
<tr><td>DOTX017E</td><td>Error</td><td>Found a link or cross reference with an empty href attribute (href=&quot;&quot;). Remove the empty href attribute or provide a value.</td><td>Found a value such as &lt;xref href=&quot;&quot;&gt;link text&lt;/xref&gt;. The empty href attribute is not serving a purpose and has caused problems with some tools in the past; you should remove the attribute entirely or specify a value.</td></tr>
<tr><td>DOTX018I</td><td>Info</td><td>The type attribute on a topicref was set to '%1', but the topicref references a more specific '%2' topic. Note that the type attribute cascades in maps, so the value '%1' may come from an ancestor topicref.</td><td>The type attribute in DITA is intended to describe the type of the target; for example, a reference to a concept topic may use type=&quot;concept&quot;. Generally, this attribute is optional, and the DITA-OT build will automatically determine the value during processing. In this case, the type attribute lists a more general type than what is actually found. This is not an error but may result in unexpected sorting for links to this topic.</td></tr>
<tr><td>DOTX019W</td><td>Warning</td><td>The type attribute on a topicref was set to '%1', but the topicref references a '%2' topic. This may cause your links to sort incorrectly in the output. Note that the type attribute cascades in maps, so the value '%1' may come from an ancestor topicref.</td><td>The type attribute in DITA is intended to describe the type of the target; for example, a reference to a concept topic may use type=&quot;concept&quot;. Generally, this attribute is optional, and the DITA-OT build will automatically determine the value during processing. In this case, the specified type value does not match the target, which may cause your links to sort inappropriately.</td></tr>
<tr><td>DOTX020E</td><td>Error</td><td>Missing navtitle attribute or element for peer topic &quot;%1&quot;. References must provide a local navigation title when the target is not a local DITA resource.</td><td>DITA-OT is only able to dynamically retrieve titles when the target is a local (not peer or external) DITA resource.</td></tr>
<tr><td>DOTX021E</td><td>Error</td><td>Missing navtitle attribute or element for non-DITA resource &quot;%1&quot;. References must provide a local navigation title when the target is not a local DITA resource.</td><td>DITA-OT is only able to dynamically retrieve titles when the target is a local DITA resource.</td></tr>
<tr><td>DOTX022W</td><td>Warning</td><td>Unable to retrieve navtitle from target: '%1'. Using linktext (specified in topicmeta) as the navigation title.</td><td>The build was unable to get a title from the referenced topic; instead, a navigation title will be created based on the specified <code>linktext</code> element inside of <code>topicmeta</code>.</td></tr>
<tr><td>DOTX023W</td><td>Warning</td><td>Unable to retrieve navtitle from target: '%1'.</td><td>If the target is a local DITA topic, ensure the reference is correct and the topic is available. Otherwise, provide a navigation title, and ensure the scope and format attributes are set appropriately.</td></tr>
<tr><td>DOTX024E</td><td>Error</td><td>Missing linktext and navtitle for peer topic &quot;%1&quot;. References must provide a local navigation title when the target is not a local DITA resource.</td><td>DITA-OT is only able to dynamically retrieve titles and link text when the target is a local (not peer or external) DITA resource.</td></tr>
<tr><td>DOTX025E</td><td>Error</td><td>Missing linktext and navtitle for non-DITA resource &quot;%1&quot;. References must provide a local navigation title when the target is not a local DITA resource.</td><td>DITA-OT is only able to dynamically retrieve titles when the target is a local DITA resource.</td></tr>
<tr><td>DOTX026W</td><td>Warning</td><td>Unable to retrieve linktext from target: '%1'. Using navigation title as fallback.</td><td>The referenc to this document did not specify any link text for generated map-based links; the navigation title will be used as fallback.</td></tr>
<tr><td>DOTX027W</td><td>Warning</td><td>Unable to retrieve linktext from target: '%1'.</td><td>The referenced file did not specify any link text for generated map-based links, and no fallback text could be located. Any links generated from this reference will have incorrect link text.</td></tr>
<tr><td>DOTX028E</td><td>Error</td><td>Link or cross reference must contain a valid href or keyref attribute; no link target is specified.</td><td>The link or cross reference has no target specified and will not generate a link.</td></tr>
<tr><td>DOTX029I</td><td>Info</td><td>The type attribute on a %1 element was set to %3, but the reference is to a more specific %4 %2. This may cause your links to sort incorrectly in the output.</td><td>The type attribute in DITA is intended to describe the type of the target; for example, a reference to a concept topic may use type=&quot;concept&quot;. Generally, this attribute is optional, and the DITA-OT build will automatically determine the value during processing. In this case, the type attribute lists a more general type than what is actually found. This is not an error but may result in unexpected sorting for links to this topic.</td></tr>
<tr><td>DOTX030W</td><td>Warning</td><td>The type attribute on a %1 element was set to %3, but the reference is to a %4 %2. This may cause your links to sort incorrectly in the output.</td><td>The type attribute in DITA is intended to describe the type of the target; for example, a reference to a concept topic may use type=&quot;concept&quot;. Generally, this attribute is optional, and the DITA-OT build will automatically determine the value during processing. In this case, the specified type value does not match the target, which may cause your links to sort inappropriately.</td></tr>
<tr><td>DOTX031E</td><td>Error</td><td>The file %1 is not available to resolve link information.</td><td>The build attempted to access the specified file in order to retrive a title or short description, but the file could not be found. If the file exists, it is possible that a DITAVAL file was used to remove the file’s contents from the build. Be aware that the path information above may not match the link in your topic.</td></tr>
<tr><td>DOTX032E</td><td>Error</td><td>Unable to retrieve link text from target: '%1'. If the target is not accessible at build time, or does not have a title, provide the link text inside the reference.</td><td>When a link or cross reference does not have content, the build will attempt to pull the target’s title for use as link text. If the target is unavailable, be sure to set the scope attribute to an appropriate value. If the target does not have a title (such as when linking to a paragraph), be sure to provide link text inside the cross reference.</td></tr>
<tr><td>DOTX033E</td><td>Error</td><td>Unable to generate link text for a cross reference to a list item: '%1'</td><td>An <code>xref</code> element specifies type=&quot;li&quot;, which indicates a link to a list item, but the item number could not be determined to use as link text. Please specify link text inside the reference, or ensure that you are referencing an available list item.</td></tr>
<tr><td>DOTX034E</td><td>Error</td><td>Unable to generate link text for a cross reference to an undered list item: '%1'</td><td>The cross reference goes to a list item in an unordered list. The process could not automatically generate link text because the list item is not numbered. Please provide link text within the cross reference.</td></tr>
<tr><td>DOTX035E</td><td>Error</td><td>Unable to generate the correct number for a cross reference to a footnote: '%1'</td><td>An <code>xref</code> element specifies type=&quot;fn&quot;, which indicates a link to a footnote, but the footnote number could not be determined to use as link text. Please specify link text inside the reference, or ensure that you are referencing an available footnote.</td></tr>
<tr><td>DOTX036E</td><td>Error</td><td>Unable to generate link text for a cross reference to a dlentry (the dlentry or term could not be found): '%1'</td><td>An <code>xref</code> element specifies type=&quot;dlentry&quot;, which indicates a link to a definition list entry, but the term could not be located to use as link text. Please specify link text inside the reference, or ensure that you are referencing an available definition list entry</td></tr>
<tr><td>DOTX037W</td><td>Warning</td><td>No title found for this document; using &quot;***&quot; in XHTML title bar.</td><td>No title was found for the current document, so the HTML output file will set the <code>title</code> to &quot;***&quot;. This value generally appears in the title bar at the top of a browser.</td></tr>
<tr><td>DOTX038I</td><td>Info</td><td>The longdescref attribute on tag '%1' will be ignored. Accessibility for object elements needs to be handled another way.</td><td>The <code>object</code> element in HTML does not support using longdescref for accessibility. To make the object accessible, you may need to add text before or after the element. You may also be able to handle it with a <code>param</code> element inside the object.</td></tr>
<tr><td>DOTX039W</td><td>Warning</td><td>Required cleanup area found. To remove this message and hide the content, build your content without using the DRAFT parameter.</td><td>This message is generated when creating draft output in order to help you locate all topics that need to be cleaned up; the cleanup items will appear in your output with styling that makes it stand out. The content will be hidden when the draft parameter is not active.</td></tr>
<tr><td>DOTX040I</td><td>Info</td><td>Draft comment area found. To remove this message and hide the comments, build your content without using the DRAFT parameter.</td><td>This message is generated when creating draft output in order to help you locate all topics that have draft comments. Each comment will appear in your HTML output; the comments will be hidden when the draft parameter is not active.</td></tr>
<tr><td>DOTX041W</td><td>Warning</td><td>Found more than one title element in a %1 element. Using the first one for the %1's title.</td><td>Because of the way XML and DITA are defined, it is generally not possible to prohibit adding a second title to a section during editing (or to force that title to come first). However, the DITA specification states that only one title should be used in a section. When multiple titles are found, only the first one will appear in the output.</td></tr>
<tr><td>DOTX042I</td><td>Info</td><td>DITAVAL based flagging is not currently supported for inline phrases in XHTML; ignoring flag value on '%1' attribute.</td><td>If it is important to flag this piece of information, try placing a flag on the block element that contains your phrase. If you just want to have an image next to the phrase, you may place an image directly into the document.</td></tr>
<tr><td>DOTX043I</td><td>Info</td><td>The link to '%1' may appear more than once in '%2'.</td><td>DITA-OT is able to remove duplicate links in most cases. However, if two links to the same resource use different attributes or link text, it is possible for them to appear together. For example, if the same link shows up with role=&quot;next&quot; and again with no specified role, it may show up as both the &quot;Next topic&quot; link and as a related link. Note that links generated from a <code>reltable</code> in a DITA map will have the role attribute set to &quot;friend&quot;.</td></tr>
<tr><td>DOTX044E</td><td>Error</td><td>The area element in an image map does not specify a link target. Please add an xref element with a link target to the area element.</td><td>The <code>area</code> element in an image map must provide a link target for the specified area. Please add an <code>xref</code> element as a child of <code>area</code> and ensure that it specifies a link target.</td></tr>
<tr><td>DOTX045W</td><td>Warning</td><td>The area element in an image map should specify link text for greater accessibility. Link text should be specified directly when the target is not a local DITA resource.</td><td>Cross reference text inside the <code>area</code> element is used to provide accessibility for screen readers that can identify different areas of an image map. If text cannot be retrieved automatically by referencing a DITA element, it should be specified directly in the cross reference.</td></tr>
<tr><td>DOTX046W</td><td>Warning</td><td>Area shape should be: default, rect, circle, poly, or blank (no value). The value '%1' is not recognized.</td><td>The specified value was passed as-is through to the <code>area</code> element in the HTML.</td></tr>
<tr><td>DOTX047W</td><td>Warning</td><td>Area coordinates are blank. Coordinate points for the shape need to be specified.</td><td>The area element is intended to define a region in an image map; coordinates must be specified in order to define that region.</td></tr>
<tr><td>DOTX048I</td><td>Info</td><td>In order to include peer or external topic '%1' in your help file, you may need to recompile the CHM file after making the file available.</td><td>The build will not look for peer or external topics before compiling your CHM file, so they may not be included. If you are referencing an actual HTML file that will not be available, it cannot be included in the project, and you should set the toc attribute to &quot;no&quot; on your topicref element. Otherwise, check to be sure your HTML file was included in the CHM; if it was not, you will need to place it in the correct location with your other output files and recompile.</td></tr>
<tr><td>DOTX049I</td><td>Info</td><td>References to non-dita files will be ignored by the PDF, ODT, and RTF output transforms.</td><td>The PDF, ODT, and RTF output processes cannot automatically convert non-DITA content into DITA in order to merge it with the rest of your content. The referenced items are ignored.</td></tr>
<tr><td>DOTX050W</td><td>Warning</td><td>Default id &quot;org.sample.help.doc&quot; is used for Eclipse plug-in. If you want to use your own plug-in id, please specify it using the id attribute on your map.</td><td>Eclipse requires that an ID be specified when creating an Eclipse Help project; the toolkit expects to locate that ID on the root element of your input map.</td></tr>
<tr><td>DOTX052W</td><td>Warning</td><td>No string named '%1' was found when creating generated text; using the value '%1' in your output file.</td><td>The toolkit is attempting to add generated text, such as the string &quot;Related information&quot; that appears above links. The requested string could not be found in any language. Your output may contain a meaningful string, or it may contain a code that was intended to map to a string. This likely indicates an error in a plug-in or XSL override; either the string was requested incorrectly, or you will need to provide a mapping for the string in all of the languages you require.</td></tr>
<tr><td>DOTX053E</td><td>Error</td><td>A element that references another map indirectly includes itself, which results in an infinite loop. The original map reference is to '%1'.</td><td>This will occur if a map references another map, and then that second map (or another further nested map) references the original map. The result is an infinite nesting of maps; please correct the chain of map references to remove circular reference.</td></tr>
<tr><td>DOTX054W</td><td>Warning</td><td>Conflict text style is applied on the current element based on DITAVAL flagging rules. Please check ditaval and dita source to make sure there is no style conflict on the element which needs to be flagged.</td><td>This will occur when a DITAVAL file contains multiple styling rules that apply to the same element.</td></tr>
<tr><td>DOTX055W</td><td>Warning</td><td>Customized stylesheet uses deprecated template &quot;flagit&quot;. Conditional processing is no longer supported using this template. Please update your stylesheet to use template &quot;start-flagit&quot; instead of deprecated template &quot;flagit&quot;.</td><td>The &quot;flagit&quot; named template was deprecated in DITA-OT version 1.4, when the OASIS standard formalized the DITAVAL syntax. The template is removed in DITA-OT 1.6. Stylesheets that used this template need to be updated.</td></tr>
<tr><td>DOTX056W</td><td>Warning</td><td>The file '%1' is not available to resolve link information.</td><td>The build attempted to access the specified file in order to retrive a title or short description, but the file could not be found. If the file exists, it is possible that a DITAVAL file was used to remove the file’s contents from the build. Another possibility is that the file is located outside of the scope of the main input directory, and was not available because the <a href="topics/../parameters/parameters-base.html">onlytopic.in.map</a> parameter was specified. Be aware that the path information above may not match the link in your topic.</td></tr>
<tr><td>DOTX057W</td><td>Warning</td><td>The link or cross reference target '%1' cannot be found, which may cause errors creating links or cross references in your output file.</td><td>The link appears to use valid syntax to reference a DITA element, but that element cannot be found. Please verify that the element exists, and is not removed from the build by DITAVAL based filtering.</td></tr>
<tr><td>DOTX058W</td><td>Warning</td><td>No glossary entry was found associated with key '%1' on %2 element. The build will try to determine the best display text and hover text for terms and abbreviations.</td><td>Processing for terms, acronyms, or abbreviated forms will associate the key from the element’s keyref attribute with a glossentry (glossary entry) topic. This message will appear if the key was defined, but was not associated with a glossentry topic. The process will try to use the best available fallback (usually the title of the referenced topic).</td></tr>
<tr><td>DOTX060W</td><td>Warning</td><td>Key '%1' was used in an abbreviated-form element, but the key is not associated with a glossary entry. Abbreviated-form should ONLY be used to reference to a glossary entry.</td><td>Processing for abbreviated form elements will associate the key from the element’s keyref attribute with a glossentry (glossary entry) topic. This message will appear if the key was defined, but was not associated with a glossentry topic. This element is only supported with keys that are associated with glossary topics; the element will not generate any output. Please correct the reference, or use a different element to reference your topic.</td></tr>
<tr><td>DOTX061W</td><td>Warning</td><td>ID '%1' was used in topicref tag but did not reference a topic element. The href attribute on a topicref element should only reference topic level elements.</td><td>According to the DITA Specification, references from maps should either go to DITA Maps, DITA Topics, or any non-DITA resource. References below the topic level should only be made from cross references (using <code>xref</code> or similar) inside of a topic. For details, see the href attribute description in the OASIS standard’s definition of the <a href="http://docs.oasis-open.org/dita/v1.2/os/spec/langref/topicref.html">topicref element</a>.</td></tr>
<tr><td>DOTX062I</td><td>Info</td><td>It appears that this document uses constraints, but the conref processor cannot validate that the target of a conref is valid. To enable constraint checking, please upgrade to an XSLT 2.0 processor.</td><td> </td></tr>
<tr><td>DOTX063W</td><td>Warning</td><td>The dita document '%1' is linked to from your content, but is not referenced by a topicref tag in the ditamap file. Include the topic in your map to avoid a broken link.</td><td>This will appear when generating PDF or ODT output that includes a link to a local topic, but the referenced topic is not part of the map itself. This will result in a broken link. You should include the topic in your map or remove the link from the build.</td></tr>
<tr><td>DOTX064W</td><td>Warning</td><td>The copy-to attribute [copy-to=&quot;%1&quot;] uses the name of a file that already exists, so this attribute is ignored.</td><td>The copy-to attribute is used to copy a topic over a document that already exists. Please make sure that any copy-to attributes use a unique name so that the copy will not overwrite existing content.</td></tr>
<tr><td>DOTX065W</td><td>Warning</td><td>Two unique source files each specify copy-to=&quot;%2&quot;, which results in a collision. The value associated with href=&quot;%1&quot; is ignored.</td><td>Two different topics are copied to the same location using copy-to; as a result, one of these files would be over-written. Only the first instance of this copy-to value will be recognized. Please correct the use of copy-to attributes.</td></tr>
<tr><td>DOTX066W</td><td>Warning</td><td>Template &quot;%1&quot; is deprecated. Remove references to this template from your custom XSLT or plug-ins.</td><td>This message indicates that your custom XSLT or plug-ins rely on templates that will be removed in an upcoming release. Typically this occurs when a named template has been converted to a mode template; any code that uses the deprecated template should be updated.</td></tr>
<tr><td>DOTX067E</td><td>Error</td><td>No string named '%1' was found for language '%2'. Add a mapping for the string '%1'.</td><td>This PDF build uses generated text, such as the phrase &quot;Related information&quot; (which is generated above many link groups). The toolkit was unable to locate the string %1 for your specified language, so the string will appear in the default language. This generally indicates that the toolkit’s strings need to be updated to support your language, or that your language setting is incorrect.</td></tr>
<tr><td>DOTX068W</td><td>Warning</td><td>A topicref element that references a map contains child topicref elements. Child topicref elements are ignored.</td><td> </td></tr>
<tr><td>DOTX069W</td><td>Warning</td><td>Template mode &quot;%1&quot; is deprecated. Remove references to this template mode from your custom XSLT or plug-ins.</td><td> </td></tr>
<tr><td>DOTX070W</td><td>Warning</td><td>Target &quot;%1&quot; is deprecated. Remove references to this target from your custom Ant files.</td><td> </td></tr>
<tr><td>DOTX071E</td><td>Error</td><td>Conref range: Unable to find conref range end element with ID &quot;%1&quot;.</td><td> </td></tr>
<tr><td>DOTX071W</td><td>Warning</td><td>Parameter &quot;%1&quot; on template &quot;%2&quot; is deprecated. Use parameter &quot;%3&quot; instead.</td><td> </td></tr>
<tr><td>DOTX072I</td><td>Info</td><td>Ignoring navtitle within topicgroup.</td><td></td></tr>
<tr><td>DOTX073I</td><td>Info</td><td>Removing broken link to &quot;%1&quot;.</td><td> </td></tr>
<tr><td>DOTX074W</td><td>Warning</td><td>No formatting defined for unknown class attribute value &quot;%1&quot;.</td><td> </td></tr>
<tr><td>DOTX075W</td><td>Warning</td><td>A content reference in a constrained document type is pulling content from an unconstrained document type. The reference will resolve, but may result in content that violates one of the document constraints in &quot;%1&quot;.</td><td> </td></tr>
<tr><td>DOTX076E</td><td>Error</td><td>A content reference in a constrained document type cannot be resolved because it would violate one of the document constraints &quot;%1&quot;. The current constrained document may only reuse content from documents with equivalent constraints.</td><td> </td></tr>
<tr><td>INDX001I</td><td>Info</td><td>Index entry '%1' will be sorted under the &quot;Special characters&quot; heading.</td><td> </td></tr>
<tr><td>INDX002E</td><td>Error</td><td>The PDF indexing process could not find the proper sort location for '%1', so the term has been dropped from the index.</td><td> </td></tr>
<tr><td>INDX003E</td><td>Error</td><td>The build failed due to problems encountered when sorting the PDF index.</td><td> </td></tr>
<tr><td>PDFJ001E</td><td>Error</td><td>The PDF indexing process could not find the proper sort location for '%1', so the term has been dropped from the index.</td><td> </td></tr>
<tr><td>PDFJ002E</td><td>Error</td><td>The build failed due to problems encountered when sorting the PDF index. Please address any messages located earlier in the log.</td><td>The PDF index process relies on pre-defined letter headings when sorting terms. The specified term does not begin with a character that can be mapped to an existing heading. Typically this term would be placed in a &quot;Special characters&quot; group, but the current language did not specify such a group when setting up the index sort process.</td></tr>
<tr><td>PDFJ003I</td><td>Info</td><td>Index entry '%1' will be sorted under the &quot;Special characters&quot; heading.</td><td>The PDF index process relies on pre-defined letter headings when sorting terms. The specified term does not begin with a character that can be mapped to an existing heading, so it has been placed under a heading for terms that begin with special characters such as punctuation. If this term should be sorted under a new or existing letter heading, please open an issue with DITA-OT to correct the sort.</td></tr>
<tr><td>PDFX001W</td><td>Warning</td><td>There is an index term specified with start=&quot;%1&quot;, but there is no matching end for this term. Add an index term in a valid location with end=&quot;%1&quot;.</td><td> </td></tr>
<tr><td>PDFX002W</td><td>Warning</td><td>There are multiple index terms specified with start=&quot;%1&quot;, but there is only one term to end this range, or the ranges for this term overlap. Ensure that each term with this start value has a matching end value, and that the specified ranges for this value do not overlap</td><td> </td></tr>
<tr><td>PDFX003W</td><td>Warning</td><td>There are multiple index entries found to close the index range for &quot;%1&quot;. Ensure that any index term with start=&quot;%1&quot; has only one matching end term with end=&quot;%1&quot;.</td><td> </td></tr>
<tr><td>PDFX004F</td><td>Error</td><td>A topic reference was found with href=&quot;&quot;. Please specify a target or remove the href attribute.</td><td> </td></tr>
<tr><td>PDFX005F</td><td>Error</td><td>The topic reference href=&quot;%1&quot; could not be found. Please correct the reference, or set the scope or format attribute if the target is not a local DITA topic.</td><td> </td></tr>
<tr><td>PDFX007W</td><td>Warning</td><td>Found an index term with end=&quot;%1&quot;, but no starting term was found for this entry.</td><td> </td></tr>
<tr><td>PDFX008W</td><td>Warning</td><td>Font definition not found for the logical name or alias '%1'.</td><td> </td></tr>
<tr><td>PDFX009E</td><td>Error</td><td>Attribute set reflection cannot handle XSLT element %1.</td><td> </td></tr>
<tr><td>PDFX011E</td><td>Error</td><td>The index term '%2' uses both an index-see element and %1 element. Convert the index-see element to index-see-also.</td><td>Found an <code>index-see</code> element as a child of a term that also exists as a standalone index term, or as a term that also uses <code>index-see-also</code>. When using <code>index-see</code> with an index term, that term should not be used to create page references and should not reference additional terms. Treating the <code>index-see</code> as <code>index-see-also</code>.</td></tr>
<tr><td>PDFX012E</td><td>Error</td><td>Found a table row with more entries than allowed.</td><td> </td></tr>
<tr><td>PDFX013F</td><td>Fatal</td><td>The PDF file '%1' could not be generated.</td><td> </td></tr>
<tr><td>XEPJ001W</td><td>Warning</td><td>%1</td><td> </td></tr>
<tr><td>XEPJ002E</td><td>Error</td><td>%1</td><td> </td></tr>
<tr><td>XEPJ003E</td><td>Error</td><td>%1</td><td> </td></tr>
</tbody></table>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/rebuilding-docs.html">Rebuilding the DITA-OT documentation</a></p>
<h1><a class="header" href="#other-error-messages" id="other-error-messages">Other error messages</a></h1>
<p>In addition to error messages that DITA Open Toolkit generates, you might also encounter error messages generated by Java or other tools.</p>
<h2><a class="header" href="#out-of-memory-error" id="out-of-memory-error">Out of Memory error</a></h2>
<p>In some cases, you might receive a message stating the build has failed due to an Out of Memory error. Try the following approaches to resolve the problem:</p>
<ol>
<li>Increase the memory available to Java.</li>
<li>Reduce memory consumption by setting the generate-debug-attributes option to <code>false</code>. This option is set in the lib/configuration.properties file. This will disable debug attribute generation (used to trace DITA-OT error messages back to source files) and will reduce memory consumption.</li>
<li>Set <code>dita.preprocess.reloadstylesheet</code> Ant property to <code>true</code>. This will allow the XSLT processor to release memory when converting multiple files.</li>
<li>Run the transformation again.</li>
</ol>
<h2><a class="header" href="#unsupportedclassversionerror" id="unsupportedclassversionerror">UnsupportedClassVersionError</a></h2>
<p>If you receive a <code>java.lang.UnsupportedClassVersionError</code> error message with an <code>Unsupported major.minor version</code> and a list of Java classes, make sure your system meets the minimum Java requirements as listed in the <em>Release Notes</em> and installation instructions.</p>
<h2><a class="header" href="#unable-to-locate-toolsjar" id="unable-to-locate-toolsjar">Unable to locate tools.jar</a></h2>
<p>If a Java Runtime Environment (JRE) is used when building output via Ant, the Unable to locate tools.jar error may appear. This message is safe to ignore, since DITA-OT does not rely on any of the functions in this library. If a Java Development Kit (JDK) is also installed, setting the JAVA_HOME environment variable to the location of the JDK will prevent this message from appearing.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/increasing-the-jvm.html">Increasing Java memory allocation</a></p>
<p><a href="topics/../parameters/parameters-other.html">Other parameters</a></p>
<p><a href="topics/../release-notes/index.html">DITA Open Toolkit 3.6 Release Notes</a></p>
<p><a href="topics/../topics/installing-client.html">Installing DITA Open Toolkit</a></p>
<h1><a class="header" href="#accessing-help-for-the-dita-command" id="accessing-help-for-the-dita-command">Accessing help for the dita command</a></h1>
<p>You can access a list of subcommands and supported parameters for the dita command by passing the --help option on the command line.</p>
<ol>
<li>
<p>Open a command prompt or terminal session.</p>
</li>
<li>
<p>Issue the following command:</p>
<pre><code>dita --help
</code></pre>
</li>
<li>
<p>For details on the arguments and options available for each subcommand, pass the --help option after the subcommand name.</p>
<p>For example: dita install --help.</p>
</li>
</ol>
<p>A brief usage summary appears in the command-line window, along with a list of subcommands, arguments, and options.</p>
<p><strong>Related information</strong></p>
<p><a href="topics/../topics/build-using-dita-command.html">Building output using the dita command</a></p>
<p><a href="topics/../parameters/parameters_intro.html">DITA-OT parameters</a></p>
<p><a href="topics/../parameters/internal-ant-properties.html">Internal Ant properties</a></p>
<p><a href="topics/../parameters/dita-command-arguments.html">Arguments and options for the dita command</a></p>
<h1><a class="header" href="#increasing-java-memory-allocation" id="increasing-java-memory-allocation">Increasing Java memory allocation</a></h1>
<p>If you are working with large documents with extensive metadata or key references, you will need to increase the memory allocation for the Java process. You can do this from the command-line prompt for a specific session, or you can increase the value of the <code>ANT_OPTS</code> environment variable.</p>
<ul>
<li>
<p>To change the value for a specific session, from the command prompt, issue the following command:</p>
<table><thead><tr><th>Platform</th><th>Command</th></tr></thead><tbody>
<tr><td>**Linux or macOS **</td><td><code>export ANT_OPTS=$ANT_OPTS -Xmx1024M</code></td></tr>
<tr><td><strong>Windows</strong></td><td><code>set ANT_OPTS=%ANT_OPTS% -Xmx1024M</code></td></tr>
</tbody></table>
<p>This increases the JVM memory allocation to 1024 megabytes. The amount of memory which can be allocated is limited by available system memory and the operating system.</p>
</li>
<li>
<p>To persistently change the value, change the value allocated to the <code>ANT_OPTS</code> environment variable on your system.</p>
</li>
</ul>
<h1><a class="header" href="#speeding-up-builds" id="speeding-up-builds">Speeding up builds</a></h1>
<p>Several configuration changes can significantly reduce DITA-OT processing time.</p>
<h2><a class="header" href="#disable-debug-attribute-generation" id="disable-debug-attribute-generation">Disable debug attribute generation</a></h2>
<p>The generate-debug-attributes parameter determines whether debugging attributes are generated in the temporary files. By changing the value to <code>false</code>, DITA-OT will no longer generate the <code>@xtrf</code> and <code>@xtrc</code> debug attributes. This will make it more difficult to track down the source file location from which a given issue may have originated, but it will reduce the size of the temporary files. As a result, XML parsing will take less time and overall processing time will be reduced.</p>
<h2><a class="header" href="#use-a-fast-disk-for-the-temporary-directory" id="use-a-fast-disk-for-the-temporary-directory">Use a fast disk for the temporary directory</a></h2>
<p>DITA-OT keeps topic and map files as separate files and processes each file multiple times during preprocessing. Thus reading from disk, parsing XML, serializing XML, and writing to disk makes processing quite I/O intensive. Use either an <a href="http://en.wikipedia.org/wiki/Solid-state_drive">SSD</a> or a <a href="http://en.wikipedia.org/wiki/RAM_drive">RAM disk</a> for temporary files, and never use a temporary directory that is not located on the same machine as where the processing takes place.</p>
<h2><a class="header" href="#enable-parallel-processing" id="enable-parallel-processing">Enable parallel processing</a></h2>
<p>As of DITA-OT 3.6, preprocessing module code can be run in parallel by setting the parallel parameter to true. The performance benefits this option provides depend heavily on the source file set, the DITA features used in the project, and the computer doing the processing, but under the right circumstances, you may see notable improvements when this option is enabled.</p>
<h2><a class="header" href="#enable-in-memory-processing" id="enable-in-memory-processing">Enable in-memory processing</a></h2>
<p>As of DITA-OT 3.6, the Cache Store can be activated by setting the store-type parameter to memory. In-memory processing provides performance advantages in I/O bound environments such as cloud computing platforms, where processing time depends primarily on how long it takes to read and write temporary files. For more information, see <a href="topics/../reference/store-api.html">Store API – Processing in memory</a>.</p>
<h2><a class="header" href="#reuse-the-jvm-instance" id="reuse-the-jvm-instance">Reuse the JVM instance</a></h2>
<p>For all but large source sets, the Java virtual machine (JVM) will not have enough time to warm-up. By reusing the same JVM instance, the first few DITA-OT conversions will be “normal”, but when the Just-In-Time (JIT) compiler starts to kick in, the performance increase may be 2-10 fold. This is especially noticeable with smaller source sets, as much of the DITA-OT processing is I/O intensive.</p>
<p><strong>Tip:</strong> The <a href="https://docs.gradle.org/current/userguide/gradle_daemon.html">Gradle Daemon</a> uses this mechanism (along with incremental builds) to reduce processing time. You can run DITA-OT with these features via the <a href="https://github.com/eerohele/dita-ot-gradle">DITA-OT Gradle Plugin</a>.</p>
<h2><a class="header" href="#use-the-latest-java-version" id="use-the-latest-java-version">Use the latest Java version</a></h2>
<p>DITA-OT 2.0 to 2.3 require Java 7, and DITA-OT 2.4 and newer require Java 8. However, using a newer version of Java may further reduce processing time, depending on your operating system.</p>
<p><strong>Collected links</strong></p>
<p><a href="http://en.wikipedia.org/wiki/Solid-state_drive">SSD</a></p>
<p><a href="http://en.wikipedia.org/wiki/RAM_drive">RAM disk</a></p>
<h1><a class="header" href="#reference" id="reference">Reference</a></h1>
<p>The <em>Reference</em> topics provide more advanced information about the DITA-OT architecture, OASIS specification support, and licensing.</p>
<h1><a class="header" href="#dita-open-toolkit-architecture" id="dita-open-toolkit-architecture">DITA Open Toolkit Architecture</a></h1>
<p>DITA Open Toolkit is an open-source implementation of the OASIS specification for the Darwin Information Typing Architecture. The toolkit uses Ant, XSLT, and Java to transform DITA content (maps and topics) into different deliverable formats.</p>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2014/dita-ot_day.html#Looking_under_the_hood_of_the_DITA_Open_Toolkit">Looking under the hood of the DITA Open Toolkit</a></p>
<h1><a class="header" href="#processing-structure" id="processing-structure">Processing structure</a></h1>
<p>DITA-OT implements a multi-stage, map-driven architecture to process DITA content. Each stage in the process examines some or all of the content; some stages result in temporary files that are used by later steps, while others stages result in updated copies of the DITA content. Most of the processing takes place in a temporary working directory; the source files themselves are never modified.</p>
<p>DITA-OT is designed as a pipeline. Most of the pipeline is common to all output formats; it is known as the pre-processing stage. In general, any DITA process begins with this common set of pre-processing routines.</p>
<p>Once the pre-processing is completed, the pipeline diverges based on the requested output format. Some processing is still common to multiple output formats; for example, Eclipse Help and HTML Help both use the same routines to generate XHTML topics, after which the two pipelines branch to create different sets of navigation files.</p>
<p>The following image illustrates how the pipeline works for several common output formats: PDF, Eclipse Help, HTML Help, XHTML, and HTML5.</p>
<p><strong>Note:</strong> Other output formats may implement additional processing steps.</p>
<p><img src="reference/images/processing-flow.svg" alt="" title="Diagram of some possible paths through the transformation pipeline" /></p>
<h1><a class="header" href="#map-first-preprocessing-1" id="map-first-preprocessing-1">Map-first preprocessing</a></h1>
<p>DITA-OT 3.0 provides a map-first preprocessing option as an alternative to the default <code>preprocess</code> operation. The method, which was introduced in DITA-OT 2.5 as an experimental feature, has been improved and is ready for use in many production scenarios. Map-first-preprocessing provides the same functionality as the default <code>preprocess</code>, but takes a different approach.</p>
<p>Whereas the default preprocessing routine handles both maps and topics at the same time, often switching back and forth between map operations and topic operations, the map-first approach only begins processing topics after nearly all map processing is complete. This simplifies the processing logic and creates cleaner module responsibilities, which makes it easier to process only those topics that are actually referenced after filtering, for example, or to only process the map to validate the map structure.</p>
<p>The current preprocessing architecture was established during the DITA 1.0 era when there were fewer DITA features that operated on the map level. Initially, the difference between processing modes was not that great. DITA 1.2 and 1.3 introduced many more map-level features, such as keys and key scopes, that make it difficult to reliably work with topics before all map features have been resolved.</p>
<p>The original preprocessing operation already handles many map operations first, but this was not the original design and requires regular refactoring to handle edge cases. The new map-first preprocessing is designed with this model in mind, improving the overall processing flow and making it more formal about the map-first model. The new model also takes advantage of hashed topic file names in the temporary directory, which simplifies many processing steps, and is better able to handle topics referenced outside of the map directory (that case has resulted in a variety of issues with the original model).</p>
<p><strong>Note:</strong> The map-first preprocessing option is enabled by default in DITA-OT 3.0 for PDF and HTML Help. These formats were chosen because they generate a compiled result file, so temporarily hashed file names should all be invisible to the build. After further testing and feedback, the new option will most likely become the default for other output formats in future versions. Because the DITA-OT development team cannot have access to all varieties of DITA, all edge cases, or even all the ways DITA-OT itself is extended, the switch to default map-first preprocessing for other output formats will be smoother for everyone if more people can test and provide feedback.</p>
<h2><a class="header" href="#how-to-use-map-first-preprocessing" id="how-to-use-map-first-preprocessing">How to use map-first preprocessing</a></h2>
<p>To use (or test) map-first preprocessing, call the <code>preprocess2</code> Ant target in your custom transformation types instead of using the default <code>preprocess</code> target.</p>
<p>For example, if you have a custom HTML5 transformation type named &quot;myhtml&quot;, then you may have a plug-in extension that looks this:</p>
<pre><code class="language-language-xml">&lt;!-- Simple variant: set properties and call default HTML5 --&gt;
&lt;target name=&quot;dita2myhtml&quot; depends=&quot;myhtml.init,dita2html5&quot;/&gt;

</code></pre>
<p>This type of extension is quite common, and is used to set default properties for your environment followed by a normal build to use those properties. In this case, you'll need to replace <code>dita2html5</code> with the normal HTML5 steps, swapping out <code>preprocess</code> for <code>preprocess2</code>:</p>
<pre><code>&lt;!-- Simple variant: set properties and call default HTML5 --&gt;
&lt;target name=&quot;dita2myhtml&quot; 
        depends=&quot;myhtml.init,
                 html5.init,
                 build-init,
                 **preprocess2,**
                 html5.topic,
                 html5.map,
                 html5.css&quot;/&gt;
</code></pre>
<p><strong>Note:</strong> If you use this simple method for customized PDF or HTML Help builds, you will automatically be using <code>preprocess2</code>.</p>
<p>Some custom transformation types already require you to repeat the default dependencies, in which case you should already call <code>preprocess</code> directly, as in the following:</p>
<pre><code>&lt;!-- More complex variant: add processing steps to default HTML5 --&gt;
&lt;target name=&quot;dita2myhtml&quot;
        depends=&quot;myhtml.init,
                 build-init,
                 preprocess,
                 local-extensions-after-preprocess,
                 html5.topic,
                 html5.map,
                 html5.css&quot;/&gt;
</code></pre>
<p>In such cases, the modification is much easier – simply add a <code>2</code> to the existing <code>preprocess</code> target.</p>
<h2><a class="header" href="#how-to-test-in-a-production-environment" id="how-to-test-in-a-production-environment">How to test in a production environment</a></h2>
<p>In some cases, you may be responsible for maintaining transformation types that are actually run by many people on your team or around a company. In this case, you likely need to maintain your existing transformation types based on the backwards-compatible <code>preprocess</code> modules, but also want to provide your colleagues with a way to test their own documents using <code>preprocess2</code>.</p>
<p>There are several ways to do this. One fairly straightforward approach would be to create a new custom transformation type that is exactly the same, except for preprocessing. For example, if you have a local HTML variant called <code>myhtml</code> as above, instead of modifying that transformation directly, you could create a second transformation type called <code>myhtml-beta</code> that provides exactly the same support, but with the new map-first preprocessing:</p>
<pre><code>*&lt;!-- Original &quot;myhtml&quot; is not modified, used for production --\&gt;*
&lt;target name=&quot;dita2myhtml5&quot; depends=&quot;myhtml.init,dita2html5&quot;/&gt;

*&lt;!-- &quot;myhtml-beta&quot; used to test and provide feedback on preprocess2 --\&gt;*
&lt;target name=&quot;dita2myhtml-beta&quot; 
        depends=&quot;myhtml.init,
                 html5.init,
                 build-init,
                 **preprocess2,**
                 html5.topic,
                 html5.map,
                 html5.css&quot;/&gt;
</code></pre>
<h2><a class="header" href="#known-limitations" id="known-limitations">Known limitations</a></h2>
<p>The <code>preprocess2</code> implementation details are subject to change; dependencies within <code>preprocess2</code> may be renamed or removed based on feedback.</p>
<p>The internal extension points that run before or after individual steps in the original <code>preprocess</code> pipeline (<code>preprocess.*.pre/preprocess.*.post</code>) are not available in the newer map-first preprocessing pipeline (<code>preprocess2</code>), which is used in the PDF and HTML Help transformations as of DITA-OT 3.0.</p>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2017/dita-ot_day.html#preprocess_2">We shall call it preprocess2</a></p>
<h1><a class="header" href="#processing-modules" id="processing-modules">Processing modules</a></h1>
<p>The DITA-OT processing pipeline is implemented using Ant. Individual modules within the Ant script are implemented in either Java or XSLT, depending on such factors as performance or requirements for customization. Virtually all Ant and XSLT modules can be extended by adding a plug-in to the toolkit; new Ant targets may be inserted before or after common processing, and new rules may be imported into common XSLT modules to override default processing.</p>
<h2><a class="header" href="#xslt-modules" id="xslt-modules">XSLT modules</a></h2>
<p>The XSLT modules use shell files. Typically, each shell file begins by importing common rules that apply to all topics. This set of common processing rules may in turn import additional common modules, such as those used for reporting errors or determining the document locale. After the common rules are imported, additional imports can be included in order to support processing for DITA specializations.</p>
<p>For example, XHTML processing is controlled by the xsl/dita2xhtml.xsl file. The shell begins by importing common rules that are applicable to all general topics: xslhtml/dita2htmlImpl.xsl. After that, additional XSLT overrides are imported for specializations that require modified processing. For example, an override for reference topics is imported in order to add default headers to property tables. Additional modules are imported for tasks, for the highlighting domain, and for several other standard specializations. After the standard XSLT overrides occur, plug-ins may add in additional processing rules for local styles or for additional specializations.</p>
<h2><a class="header" href="#java-modules" id="java-modules">Java modules</a></h2>
<p>Java modules are typically used when XSLT is a poor fit, such as for processes that make use of standard Java libraries (like those used for index sorting). Java modules are also used in many cases where a step involves copying files, such as the initial process where source files are parsed and copied to a temporary processing directory.</p>
<h1><a class="header" href="#processing-order" id="processing-order">Processing order</a></h1>
<p>The order of processing is often significant when evaluating DITA content. Although the DITA specification does not mandate a specific order for processing, DITA-OT has determined that performing filtering before conref resolution best meets user expectations. Switching the order of processing, while legal, may give different results.</p>
<p>The DITA-OT project has found that filtering first provides several benefits. Consider the following sample that contains a <code>note</code> element that both uses conref and contains a <code>@product</code> attribute:</p>
<pre><code class="language-language-xml">&lt;note conref=&quot;documentA.dita#doc/note&quot; product=&quot;MyProd&quot;/&gt;
</code></pre>
<p>If the <code>@conref</code> attribute is evaluated first, then documentA must be parsed in order to retrieve the note content. That content is then stored in the current document (or in a representation of that document in memory). However, if all content with product=&quot;MyProd&quot; is filtered out, then that work is all discarded later in the build.</p>
<p>If the filtering is done first (as in DITA-OT), this element is discarded immediately, and documentA is never examined. This provides several important benefits:</p>
<ul>
<li>Time is saved by discarding unused content as early as possible; all future steps can load the document without this extra content.</li>
<li>Additional time is saved case by not evaluating the <code>@conref</code> attribute; in fact, documentA does not even need to be parsed.</li>
<li>Any user reproducing this build does not need documentA. If the content is sent to a translation team, that team can reproduce an error-free build without documentA; this means documentA can be kept back from translation, preventing accidental translation and increased costs.</li>
</ul>
<p>If the order of these two steps is reversed, so that conref is evaluated first, it is possible that results will differ. For example, in the code sample above, the <code>@product</code> attribute on the reference target will override the product setting on the referencing note. Assume that the referenced <code>note</code> element in documentA is defined as follows:</p>
<pre><code class="language-language-xml">&lt;note id=&quot;note&quot; product=&quot;SomeOtherProduct&quot;&gt;This is an important note!&lt;/note&gt;
</code></pre>
<p>A process that filters out product=&quot;SomeOtherProduct&quot; will remove the target of the original conref before that conref is ever evaluated, which will result in a broken reference. Evaluating conref first would resolve the reference, and only later filter out the target of the conref. While some use cases can be found where this is the desired behavior, benefits such as those described above resulted in the current processing order used by DITA-OT.</p>
<h1><a class="header" href="#store-api--processing-in-memory" id="store-api--processing-in-memory">Store API – Processing in memory</a></h1>
<p>DITA-OT originally assumed resources would be available on disk and available from file paths. Recent versions added URI input, so HTTPS resources could be used, but temporary and output resources were still file-based. DITA-OT 3.6 introduces a new Store API that can process temporary resources in memory instead of writing them to disk.</p>
<p>The Store API (<code>org.dita.dost.store.Store</code>) is a Java abstraction over temporary file operations. So for example instead of reading resources directly with <code>FileInputStream</code>, the Store API provides operations for this. This abstraction allows implementations of the Store API to choose how they handle resources, enables optimizations or non–file-based storage. Since DITA-OT processes a lot of XML data, the Store API offers operations for XML processing directly. For example, a read method to directly get a DOM <code>Document</code>, instead of opening a file stream manually, parsing it with an XML parser, and getting the <code>Document</code> instance from the parser.</p>
<p>The Store API is extendable using Java’s <a href="https://docs.oracle.com/javase/9/docs/api/java/util/ServiceLoader.html">Resource Loader</a> with the <code>org.dita.dost.store.StoreBuilder</code> service. This is a builder interface to get named <code>Store</code> instances (“a Store”).</p>
<h2><a class="header" href="#stream-store-for-file-based-processing" id="stream-store-for-file-based-processing">Stream Store for file-based processing</a></h2>
<p>This Store could also be a File Store, since it uses disk and local files for temporary resources. This is the traditional DITA-OT implementation, where temporary XML files are stored under the <code>dita.temp.dir</code> path.</p>
<p>The Stream Store is activated by setting the store-type parameter to file.</p>
<p><strong>Note:</strong> To ensure backwards compatibility, the file Store is the default setting in DITA-OT 3.6.</p>
<h2><a class="header" href="#cache-store-for-in-memory-processing" id="cache-store-for-in-memory-processing">Cache Store for in-memory processing</a></h2>
<p>This Store is an in-memory Store, that keeps all temporary resources in memory. The name comes from the feature of the Store, that it caches the parsed XML after reading. That is, instead of storing XML as a byte array, it keeps it as a DOM <code>Document</code> or S9api <code>XdmNode</code>. When the same resource is re-read later, it doesn't have to parse it again, only return the parsed document. Resources that are not available in the temporary directory are handled with the Stream Store.</p>
<p>While the Store doesn't write anything to the temporary directory, it will still use URIs where the resources are under the temporary directory. The URIs are simply used for addressing, similarly to URNs. Future releases of DITA-OT may use some other method of addressing, such as a <code>tmp</code> URI scheme.</p>
<p><strong>Tip:</strong> As of DITA-OT 3.6, the Cache Store can be activated by setting the store-type parameter to memory.</p>
<h2><a class="header" href="#benefits" id="benefits">Benefits</a></h2>
<p>The initial implementation of the Cache Store is provided in DITA-OT 3.6 as a preview to allow integration partners to test this new feature.</p>
<p>In-memory processing provides performance advantages in I/O bound environments such as cloud computing platforms, where processing time depends primarily on how long it takes to read and write temporary files.</p>
<p>The Store API also makes the Saxon S9api easier to use. It offers an XML document model that is in most cases easier to work with than DOM. The abstraction Store makes it easier to work with XML, so various modules don’t need to repeat the same type of XML processing code.</p>
<h2><a class="header" href="#caveats" id="caveats">Caveats</a></h2>
<p>Not all custom plug-ins will work with the Cache Store, because they may assume files are used and expect direct file access for resource operations.</p>
<p><strong>Important:</strong> To take advantage of the Store API, custom plug-ins must use DITA-OT XSLT modules in custom <code>pipeline</code> elements instead of Ant’s built-in <code>xslt</code> tasks as recommended in <a href="reference/../topics/plugin-coding-conventions.html">Plug-in coding conventions</a>.</p>
<h1><a class="header" href="#pre-processing-modules" id="pre-processing-modules">Pre-processing modules</a></h1>
<p>The pre-processing operation is a set of steps that typically runs at the beginning of every DITA-OT transformation. Each step or stage corresponds to an Ant target in the build pipeline; the <code>preprocess</code> target calls the entire set of steps.</p>
<h1><a class="header" href="#generate-lists-gen-list" id="generate-lists-gen-list">Generate lists (gen-list)</a></h1>
<p>The <code>gen-list</code> step examines the input files and creates lists of topics, images, document properties, or other content. These lists are used by later steps in the pipeline. This step is implemented in Java.</p>
<p>For example, one list includes all topics that make use of the conref attribute; only those files are processed during the conref stage of the build. The list file name name is derived from the list file property. For example, the <code>conref.list</code> file is generated for “conreffile” and a corresponding list property is provided for each generated list, in this case “conreflist”.</p>
<p>The result of this step is a set of several list files in the temporary directory, including dita.list and dita.xml.properties.</p>
<table><thead><tr><th>List file property</th><th>List file</th><th>Usage</th></tr></thead><tbody>
<tr><td>canditopicsfile</td><td><code>canditopics.list</code></td><td> </td></tr>
<tr><td>conreffile</td><td><code>conref.list</code></td><td>Documents that contain conref attributes that need to be resolved in preprocess.</td></tr>
<tr><td>conreftargetsfile</td><td><code>conreftargets.list</code></td><td> </td></tr>
<tr><td>copytosourcefile</td><td><code>copytosource.list</code></td><td> </td></tr>
<tr><td>flagimagefile</td><td><code>flagimage.list</code></td><td> </td></tr>
<tr><td>fullditamapandtopicfile</td><td><code>fullditamapandtopic.list</code></td><td>All of the ditamap and topic files that are referenced during the transformation. These may be referenced by href or conref attributes.</td></tr>
<tr><td>fullditamapfile</td><td><code>fullditamap.list</code></td><td>All of the ditamap files in dita.list</td></tr>
<tr><td>fullditatopicfile</td><td><code>fullditatopic.list</code></td><td>All of the topic files in dita.list</td></tr>
<tr><td>hrefditatopicfile</td><td><code>hrefditatopic.list</code></td><td>All of the topic files that are referenced with an href attribute</td></tr>
<tr><td>hreftargetsfile</td><td><code>hreftargets.list</code></td><td>Link targets</td></tr>
<tr><td>htmlfile</td><td><code>html.list</code></td><td>Resource files</td></tr>
<tr><td>imagefile</td><td><code>image.list</code></td><td>Image files that are referenced in the content</td></tr>
<tr><td>outditafilesfile</td><td><code>outditafiles.list</code></td><td> </td></tr>
<tr><td>resourceonlyfile</td><td><code>resourceonly.list</code></td><td> </td></tr>
<tr><td>subjectschemefile</td><td><code>subjectscheme.list</code></td><td> </td></tr>
<tr><td>subtargetsfile</td><td><code>subtargets.list</code></td><td> </td></tr>
<tr><td>tempdirToinputmapdir.relative.value</td><td> </td><td> </td></tr>
<tr><td>uplevels</td><td> </td><td> </td></tr>
<tr><td>user.input.dir</td><td> </td><td>Absolute input directory path</td></tr>
<tr><td>user.input.file.listfile</td><td> </td><td>Input file list file</td></tr>
<tr><td>user.input.file</td><td> </td><td>Input file path, relative to the input directory</td></tr>
</tbody></table>
<h1><a class="header" href="#debug-and-filter-debug-filter" id="debug-and-filter-debug-filter">Debug and filter (debug-filter)</a></h1>
<p>The <code>debug-filter</code> step processes all referenced DITA content and creates copies in a temporary directory. As the DITA content is copied, filtering is performed, debugging information is inserted, and table column names are adjusted. This step is implemented in Java.</p>
<p>The following modifications are made to the DITA source:</p>
<ul>
<li>If a DITAVAL file is specified, the DITA source is filtered according to the entries in the DITAVAL file.</li>
<li>Debug information is inserted into each element using the <code>@xtrf</code> and <code>@xtrc</code> attributes. The values of these attributes enable messages later in the build to reliably indicate the original source of the error. For example, a message might trace back to the fifth <code>ph</code> element in a specific DITA topic. Without these attributes, that count might no longer be available due to filtering and other processing.</li>
<li>The table column names are adjusted to use a common naming scheme. This is done only to simplify later conref processing. For example, if a table row is pulled into another table, this ensures that a reference to &quot;column 5 properties&quot; will continue to work in the fifth column of the new table.</li>
</ul>
<h1><a class="header" href="#resolve-map-references-mapref" id="resolve-map-references-mapref">Resolve map references (mapref)</a></h1>
<p>The <code>mapref</code> step resolves references from one DITA map to another. This step is implemented in XSLT.</p>
<p>Maps reference other maps by using the following sorts of markup:</p>
<pre><code class="language-language-xml">&lt;topicref href=&quot;other.ditamap&quot; format=&quot;ditamap&quot;/&gt;
...
&lt;mapref href=&quot;other.ditamap&quot;/&gt;
</code></pre>
<p>As a result of the mapref step, the element that references another map is replaced by the topic references from the other map. Relationship tables are pulled into the referencing map as a child of the root element (<code>map</code> or a specialization of <code>map</code>).</p>
<h1><a class="header" href="#branch-filtering-branch-filter" id="branch-filtering-branch-filter">Branch filtering (branch-filter)</a></h1>
<p>The <code>branch-filter</code> step filters topics using DITAVAL files defined in the map.</p>
<h1><a class="header" href="#resolve-key-references-keyref" id="resolve-key-references-keyref">Resolve key references (keyref)</a></h1>
<p>The <code>keyref</code> step examines all the keys that are defined in the DITA source and resolves the key references. Links that make use of keys are updated so that any <code>@href</code>value is replaced by the appropriate target; key-based text replacement is also performed, and the key definition list file is written to the temporary directory. This step is implemented in Java.</p>
<h1><a class="header" href="#copy-topics-copy-to" id="copy-topics-copy-to">Copy topics (copy-to)</a></h1>
<p>The <code>copy-to</code> step makes a copy of original topic resources to new resources defined by the <code>@copy-to</code> attribute.</p>
<h1><a class="header" href="#conref-push-conrefpush" id="conref-push-conrefpush">Conref push (conrefpush)</a></h1>
<p>The <code>conrefpush</code> step resolves &quot;conref push&quot; references. This step only processes documents that use conref push or that are updated due to the push action. This step is implemented in Java.</p>
<h1><a class="header" href="#resolve-content-references-conref" id="resolve-content-references-conref">Resolve content references (conref)</a></h1>
<p>The <code>conref</code> step resolves content references, processing only the DITA maps or topics that use the <code>@conref</code> attribute. This step is implemented in XSLT.</p>
<p>The values of the <code>@id</code> attribute on referenced content are changed as the elements are pulled into the new locations. This ensures that the values of the <code>@id</code> attribute within the referencing topic remain unique.</p>
<p>If an element is pulled into a new context along with a cross reference that references the target, both the values of the <code>@id</code> and <code>@xref</code> attributes are updated so that they remain valid in the new location. For example, a referenced topic might include a section as in the following example:</p>
<pre><code>&lt;topic id=&quot;referenced_topic&quot;&gt;
  &lt;title&gt;...&lt;/title&gt;
  &lt;body&gt;
    &lt;section id=&quot;sect&quot;&gt;
      &lt;title&gt;Sample section&lt;/title&gt;
      &lt;p&gt;Figure &lt;xref href=&quot;#referenced_topic/fig&quot;/&gt; 
        contains a code sample that demonstrates ... .&lt;/p&gt;
      &lt;fig id=&quot;fig&quot;&gt;
        &lt;title&gt;Code sample&lt;/title&gt;
        &lt;codeblock&gt;....&lt;/codeblock&gt;
      &lt;/fig&gt;
    &lt;/section&gt;
  &lt;/body&gt;
&lt;/topic&gt;
</code></pre>
<p>When the section is referenced using a <code>@conref</code> attribute, the value of the <code>@id</code> attribute on the <code>fig</code> element is modified to ensure that it remains unique in the new context. At the same time, the <code>xref</code> element is also modified so that it remains valid as a local reference. For example, if the referencing topic has an <code>@id</code> set to &quot;new_topic&quot;, then the conrefed element may look like this in the intermediate document <code>section</code>.</p>
<pre><code>&lt;section id=&quot;sect&quot;&gt;
  &lt;title&gt;Sample section&lt;/title&gt;
  &lt;p&gt;Figure &lt;xref href=&quot;#new_topic/d1e25&quot;/&gt; contains a code sample
    that demonstrates ... .&lt;/p&gt;
  &lt;fig id=&quot;d1e25&quot;&gt;
    &lt;title&gt;Code sample&lt;/title&gt;
    &lt;codeblock&gt;....&lt;/codeblock&gt;
  &lt;/fig&gt;
&lt;/section&gt;
</code></pre>
<p>In this case, the value of the <code>@id</code> attribute on the <code>fig</code> element has been changed to a generated value of &quot;d1e25&quot;. At the same time, the <code>xref</code> element has been updated to use that new generated ID, so that the cross reference remains valid.</p>
<h1><a class="header" href="#filter-conditional-content-profile" id="filter-conditional-content-profile">Filter conditional content (profile)</a></h1>
<p>The <code>profile</code> step removes content from topics and maps based on the rules in DITAVAL files or the <code>@print</code> attribute setting. Output can differ based on when filtering is done.</p>
<h1><a class="header" href="#resolve-topic-fragments-and-code-references-topic-fragment" id="resolve-topic-fragments-and-code-references-topic-fragment">Resolve topic fragments and code references (topic-fragment)</a></h1>
<p>The <code>topic-fragment</code> step expands content references to elements in the same topic and resolves references made with the <code>coderef</code> element. This step is implemented in SAX pipes.</p>
<p>Content references to elements in the same topic are defined via same-topic fragments such as <code>#./ID</code> in URIs.</p>
<p>The <code>coderef</code> element is used to reference code stored externally in non-XML documents. During the pre-processing step, the referenced content is pulled into the containing <code>codeblock</code> element.</p>
<p><strong>Related information</strong></p>
<p><a href="reference/../reference/extended-functionality.html">Extended codeblock processing</a></p>
<h1><a class="header" href="#chunk-topics-chunk" id="chunk-topics-chunk">Chunk topics (chunk)</a></h1>
<p>The <code>chunk</code> step breaks apart and assembles referenced DITA content based on the @chunk attribute in maps. This step is implemented in Java.</p>
<p>DITA-OT has implemented processing for the following values of the <code>@chunk</code> attribute:</p>
<ul>
<li>select-topic</li>
<li>select-document</li>
<li>select-branch</li>
<li>by-topic</li>
<li>by-document</li>
<li>to-content</li>
<li>to-navigation</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="http://docs.oasis-open.org/dita/v1.2/os/spec/archSpec/chunking.html">Chunking definition in the DITA 1.2 specification</a></p>
<h1><a class="header" href="#move-metadata-move-meta-entries-and-pull-content-into-maps-mappull" id="move-metadata-move-meta-entries-and-pull-content-into-maps-mappull">Move metadata (move-meta-entries) and pull content into maps (mappull)</a></h1>
<p>The <code>move-meta-entries</code> step pushes metadata back and forth between maps and topics. For example, index entries and copyrights in the map are pushed into affected topics, so that the topics can be processed later in isolation while retaining all relevant metadata. This step is implemented in Java.</p>
<p><strong>Note:</strong> As of DITA-OT 2.2, the <code>move-meta-entries</code> and <code>mappull</code> steps have been merged. The <code>mappull</code> step has been moved into <code>move-meta-entries</code>.</p>
<p>The <code>mappull</code> step pulls content from referenced topics into maps, and then cascades data within maps. This step is implemented in XSLT.</p>
<p>The <code>mappull</code> step makes the following changes to the DITA map:</p>
<ul>
<li>Titles are pulled from referenced DITA topics. Unless the <code>@locktitle</code> attribute is set to &quot;yes&quot;, the pulled titles replace the navigation titles specified on the <code>topicref</code> elements.</li>
<li>The <code>linktext</code> element is set based on the title of the referenced topic, unless it is already specified locally.</li>
<li>The <code>shortdesc</code> element is set based on the short description of the referenced topic, unless it is already specified locally.</li>
<li>The <code>@type</code> attribute is set on <code>topicref</code> elements that reference local DITA topics. The value of the <code>@type</code> attribute is set to value of the root element of the topic; for example, a <code>topicref</code> element that references a task topic is given a <code>@type</code> attribute set to &quot;task&quot;&quot;.</li>
<li>Attributes that cascade, such as <code>@toc</code> and <code>@print</code>, are made explicit on any child <code>topicref</code> elements. This allows future steps to work with the attributes directly, without reevaluating the cascading behavior.</li>
</ul>
<h1><a class="header" href="#map-based-linking-maplink" id="map-based-linking-maplink">Map based linking (maplink)</a></h1>
<p>This step collects links based on a map and moves those links into the referenced topics. The links are created based on hierarchy in the DITA map, the <code>@collection-type</code> attribute, and relationship tables. This step is implemented in XSLT and Java.</p>
<p>The <code>maplink</code> module runs an XSLT stylesheet that evaluates the map; it places all the generated links into a single file in memory. The module then runs a Java program that pushes the generated links into the applicable topics.</p>
<h1><a class="header" href="#pull-content-into-topics-topicpull" id="pull-content-into-topics-topicpull">Pull content into topics (topicpull)</a></h1>
<p>The <code>topicpull</code> step pulls content into <code>xref</code> and <code>link</code> elements. This step is implemented in XSLT.</p>
<p>If an <code>xref</code> element does not contain link text, the target is examined and the link text is pulled. For example, a reference to a topic pulls the title of the topic; a reference to a list item pulls the number of the item. If the <code>xref</code> element references a topic that has a short description, and the <code>xref</code> element does not already contain a child <code>desc</code> element, a <code>desc</code> element is created that contains the text from the topic short description.</p>
<p>The process is similar for <code>link</code> elements. If the <code>link</code> element does not have a child <code>linktext</code> element, one is created with the appropriate link text. Similarly, if the <code>link</code> element does not have a child <code>desc</code> element, and the short description of the target can be determined, a <code>desc</code> element is created that contains the text from the topic short description.</p>
<h1><a class="header" href="#flagging-flag-module" id="flagging-flag-module">Flagging (flag-module)</a></h1>
<p>Beginning with DITA-OT 1.7, flagging support is implemented as a common <code>flag-module</code> preprocessing step. The module evaluates the DITAVAL against all flagging attributes, and adds DITA-OT–specific hints to the topic when flags are active. Any extended transformation type may use these hints to support flagging without adding logic to interpret the DITAVAL.</p>
<h2><a class="header" href="#evaluating-the-ditaval-flags" id="evaluating-the-ditaval-flags">Evaluating the DITAVAL flags</a></h2>
<p>Flagging is implemented as a reusable module during the preprocess stage. If a DITAVAL file is not used with a build, this step is skipped with no change to the file.</p>
<p>When a flag is active, relevant sections of the DITAVAL itself are copied into the topic as a sub-element of the current topic. The active flags are enclosed in a pseudo-specialization of the <code>foreign</code> element (referred to as a pseudo-specialization because it is used only under the covers, with all topic types; it is not integrated into any shipped document types).</p>
<ul>
<li>
<p><strong><code>ditaval-startprop</code></strong></p>
<p>When any flag is active on an element, a <code>ditaval-startprop</code> element will be created as the first child of the flagged element:</p>
<pre><code class="language-language-xml">&lt;ditaval-startprop class=&quot;+ topic/foreign ditaot-d/ditaval-startprop &quot;&gt;
</code></pre>
<p>The <code>ditaval-startprop</code> element will contain the following:</p>
<ul>
<li>If the active flags should create a new style, that style is included using standard CSS markup on the <code>@outputclass</code> attribute. Output types that make use of CSS, such as XHTML, can use this value as-is.</li>
<li>If styles conflict, and a <code>style-conflict</code> element exists in the DITAVAL, it will be copied as a child of <code>ditaval-startprop</code>.</li>
<li>Any <code>prop</code> or <code>revprop</code> elements that define active flags will be copied in as children of the <code>ditaval-startprop</code> element. Any <code>startflag</code> children of the properties will be included, but <code>endflag</code> children will not.</li>
</ul>
</li>
<li>
<p><strong><code>ditaval-endprop</code></strong></p>
<p>When any flag is active on an element, a <code>ditaval-endprop</code> element will be created as the last child of the flagged element:</p>
<pre><code class="language-language-xml">&lt;ditaval-endprop class=&quot;+ topic/foreign ditaot-d/ditaval-endprop &quot;&gt;
</code></pre>
<p>CSS values and <code>style-conflict</code> elements are not included on this element.</p>
<p>Any <code>prop</code> or <code>revprop</code> elements that define active flags will be copied in as children of <code>ditaval-prop</code>. Any <code>startflag</code> children of the properties will be included, but <code>endflag</code> children will not.</p>
</li>
</ul>
<h2><a class="header" href="#supporting-flags-in-overrides-or-custom-transformation-types" id="supporting-flags-in-overrides-or-custom-transformation-types">Supporting flags in overrides or custom transformation types</a></h2>
<p>For most transformation types, the <code>foreign</code> element should be ignored by default, because arbitrary non-DITA content may not mix well unless coded for ahead of time. If the <code>foreign</code> element is ignored by default, or if a rule is added to specifically ignore <code>ditaval-startprop</code> and <code>ditaval-endprop</code>, then the added elements will have no impact on a transform. If desired, flagging support may be integrated at any time in the future.</p>
<p>The processing described above runs as part of the common preprocess, so any transform that uses the default preprocess will get the topic updates. To support generating flags as images, XSLT based transforms can use default fallthrough processing in most cases. For example, if a paragraph is flagged, the first child of <code>p</code> will contain the start flag information; adding a rule to handle images in <code>ditaval-startprop</code> will cause the image to appear at the start of the paragraph content.</p>
<p>In some cases fallthrough processing will not result in valid output; for those cases, the flags must be explicitly processed. This is done in the XHTML transform for elements like <code>ol</code>, because fallthrough processing would place images in between <code>ol</code> and <code>li</code>. To handle this, the code processes <code>ditaval-startprop</code> before starting the element, and <code>ditaval-endprop</code> at the end. Fallthrough processing is then disabled for those elements as children of <code>ol</code>.</p>
<h2><a class="header" href="#example-ditaval" id="example-ditaval">Example DITAVAL</a></h2>
<p>Assume the following DITAVAL file is in use during a build. This DITAVAL will be used for each of the following content examples.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;val&gt;
  *&lt;!-- Define what happens in the case of conflicting styles --\&gt;*
  &lt;style-conflict background-conflict-color=&quot;red&quot;/&gt;

  *&lt;!-- Define two flagging properties that give styles \(no image\) --\&gt;*
  &lt;prop action=&quot;flag&quot; att=&quot;audience&quot; style=&quot;underline&quot; val=&quot;user&quot;
        backcolor=&quot;green&quot;/&gt;
  &lt;prop action=&quot;flag&quot; att=&quot;platform&quot; style=&quot;overline&quot; val=&quot;win&quot;
        backcolor=&quot;blue&quot;/&gt;

  *&lt;!-- Define a property that includes start and end image flags --\&gt;*
  &lt;prop action=&quot;flag&quot; att=&quot;platform&quot; val=&quot;linux&quot; style=&quot;overline&quot;
        backcolor=&quot;blue&quot;&gt;
    &lt;startflag imageref=&quot;startlin.png&quot;&gt;
      &lt;alt-text&gt;Start linux&lt;/alt-text&gt;&lt;/startflag&gt;
    &lt;endflag imageref=&quot;endlin.png&quot;&gt;
      &lt;alt-text&gt;End linux&lt;/alt-text&gt;&lt;/endflag&gt;
  &lt;/prop&gt;

  *&lt;!-- Define a revision that includes start and end image flags --\&gt;*
  &lt;revprop action=&quot;flag&quot; style=&quot;double-underline&quot; val=&quot;rev2&quot;&gt;
    &lt;startflag imageref=&quot;start_rev.gif&quot;&gt;
      &lt;alt-text&gt;START&lt;/alt-text&gt;&lt;/startflag&gt;
    &lt;endflag imageref=&quot;end_rev.gif&quot;&gt;&lt;alt-text&gt;END&lt;/alt-text&gt;&lt;/endflag&gt;
  &lt;/revprop&gt;
&lt;/val&gt;
</code></pre>
<h2><a class="header" href="#content-example-1-adding-style" id="content-example-1-adding-style">Content example 1: Adding style</a></h2>
<p>Now assume the following paragraph exists in a topic. Class attributes are included, as they would normally be in the middle of the preprocess routine; <code>@xtrf</code> and <code>@xtrc</code> are left off for clarity.</p>
<pre><code class="language-language-xml">&lt;p audience=&quot;user&quot;&gt;Simple user; includes style but no images&lt;/p&gt;
</code></pre>
<p>Based on the DITAVAL above, audience=&quot;user&quot; results in a style with underlining and with a green background. The interpreted CSS value is added to <code>@outputclass</code> on <code>ditaval-startprop</code>, and the actual property definition is included at the start and end of the element. The output from the flagging step looks like this (with newlines added for clarity, and class attributes added as they would appear in the temporary file):</p>
<p>The resulting file after the flagging step looks like this; for clarity, newlines are added, while <code>@xtrf</code> and <code>@xtrc</code> are removed:</p>
<pre><code>&lt;p audience=&quot;user&quot; class=&quot;- topic/p &quot;&gt;
  **&lt;ditaval-startprop**
      **class=&quot;+ topic/foreign ditaot-d/ditaval-startprop &quot;**
      **outputclass=&quot;background-color:green;text-decoration:underline;&quot;\&gt;**
    **&lt;prop action=&quot;flag&quot; att=&quot;audience&quot; style=&quot;underline&quot; val=&quot;user&quot;
          backcolor=&quot;green&quot;/\&gt;**
  **&lt;/ditaval-startprop\&gt;**
  Simple user; includes style but no images
  **&lt;ditaval-endprop**
      **class=&quot;+ topic/foreign ditaot-d/ditaval-endprop &quot;\&gt;**
    **&lt;prop action=&quot;flag&quot; att=&quot;audience&quot; style=&quot;underline&quot; val=&quot;user&quot;
          backcolor=&quot;green&quot;/\&gt;**
  **&lt;/ditaval-endprop\&gt;**
&lt;/p&gt;
</code></pre>
<h2><a class="header" href="#content-example-2-conflicting-styles" id="content-example-2-conflicting-styles">Content example 2: Conflicting styles</a></h2>
<p>This example includes a paragraph with conflicting styles. When the audience and platform attributes are both evaluated, the DITAVAL indicates that the background color is both green and blue. In this situation, the <code>style-conflict</code> element is evaluated to determine how to style the content.</p>
<pre><code class="language-language-xml">&lt;p audience=&quot;user&quot; platform=&quot;win&quot;&gt;Conflicting styles (still no images)&lt;/p&gt;
</code></pre>
<p>The <code>style-conflict</code> element results in a background color of red, so this value is added to <code>@outputclass</code> on <code>ditaval-startprop</code>. As above, active properties are copied into the generated elements; the <code>style-conflict</code> element itself is also copied into the generated <code>ditaval-startprop</code> element.</p>
<p>The resulting file after the flagging step looks like this; for clarity, newlines are added, while <code>@xtrf</code> and <code>@xtrc</code> are removed:</p>
<pre><code>&lt;p audience=&quot;user&quot; platform=&quot;win&quot; class=&quot;- topic/p &quot;&gt;
  **&lt;ditaval-startprop**
           **class=&quot;+ topic/foreign ditaot-d/ditaval-startprop &quot;**
           **outputclass=&quot;background-color:red;&quot;\&gt;**
    **&lt;style-conflict background-conflict-color=&quot;red&quot;/\&gt;**
    **&lt;prop action=&quot;flag&quot; att=&quot;audience&quot; style=&quot;underline&quot; val=&quot;user&quot;
          backcolor=&quot;green&quot;/\&gt;**
    **&lt;prop action=&quot;flag&quot; att=&quot;platform&quot; style=&quot;overline&quot; val=&quot;win&quot;
          backcolor=&quot;blue&quot;/\&gt;**
  **&lt;/ditaval-startprop\&gt;**

  Conflicting styles (still no images)

  **&lt;ditaval-endprop**
           **class=&quot;+ topic/foreign ditaot-d/ditaval-endprop &quot;\&gt;**
    **&lt;prop action=&quot;flag&quot; att=&quot;platform&quot; style=&quot;overline&quot; val=&quot;win&quot;
          backcolor=&quot;blue&quot;/\&gt;**
    **&lt;prop action=&quot;flag&quot; att=&quot;audience&quot; style=&quot;underline&quot; val=&quot;user&quot;
          backcolor=&quot;green&quot;/\&gt;****
  &lt;/ditaval-endprop\&gt;**
&lt;/p&gt;
</code></pre>
<h2><a class="header" href="#content-example-3-adding-image-flags" id="content-example-3-adding-image-flags">Content example 3: Adding image flags</a></h2>
<p>This example includes image flags for both <code>@platform</code> and <code>@rev</code>, which are defined in DITAVAL <code>prop</code> and <code>revprop</code> elements.</p>
<pre><code>&lt;ol platform=&quot;linux&quot; rev=&quot;rev2&quot;&gt;
  &lt;li&gt;Generate images for platform=&quot;linux&quot; and rev=&quot;2&quot;&lt;/li&gt;
&lt;/ol&gt;
</code></pre>
<p>As above, the <code>ditaval-startprop</code> and <code>ditaval-endprop</code> nest the active property definitions, with the calculated CSS value on <code>@outputclass</code>. The <code>ditaval-startprop</code> drops the ending image, and <code>ditaval-endprop</code> drops the starting image. To make document-order processing more consistent, property flags are always included before revisions in <code>ditaval-startprop</code>, and the order is reversed for <code>ditaval-endprop</code>.</p>
<p>The resulting file after the flagging step looks like this; for clarity, newlines are added, while <code>@xtrf</code> and <code>@xtrc</code> are removed:</p>
<pre><code>&lt;ol platform=&quot;linux&quot; rev=&quot;rev2&quot; class=&quot;- topic/ol &quot;&gt;
  **&lt;ditaval-startprop**
           **class=&quot;+ topic/foreign ditaot-d/ditaval-startprop &quot;**
           **outputclass=&quot;background-color:blue;**
                        **text-decoration:underline;**
                        **text-decoration:overline;&quot;\&gt;**
    **&lt;prop action=&quot;flag&quot; att=&quot;platform&quot; val=&quot;linux&quot; style=&quot;overline&quot;
          backcolor=&quot;blue&quot;\&gt;**
      **&lt;startflag imageref=&quot;startlin.png&quot;\&gt;**
        **&lt;alt-text\&gt;Start linux&lt;/alt-text\&gt;&lt;/startflag\&gt;&lt;/prop\&gt;**
    **&lt;revprop action=&quot;flag&quot; style=&quot;double-underline&quot; val=&quot;rev2&quot;\&gt;**
      **&lt;startflag imageref=&quot;start\_rev.gif&quot;\&gt;**
        **&lt;alt-text\&gt; &lt;/alt-text\&gt;&lt;/startflag\&gt;&lt;/revprop\&gt;**
  **&lt;/ditaval-startprop\&gt;**
  &lt;li class=&quot;- topic/li &quot;&gt;
    Generate images for platform=&quot;linux&quot; and rev=&quot;2&quot;
  &lt;/li&gt;
  **&lt;ditaval-endprop**
           **class=&quot;+ topic/foreign ditaot-d/ditaval-endprop &quot;\&gt;**
    **&lt;revprop action=&quot;flag&quot; style=&quot;double-underline&quot; val=&quot;rev2&quot;\&gt;**
      **&lt;endflag imageref=&quot;end\_rev.gif&quot;\&gt;**
        **&lt;alt-text\&gt;END&lt;/alt-text\&gt;&lt;/endflag\&gt;&lt;/revprop\&gt;**
    **&lt;prop action=&quot;flag&quot; att=&quot;platform&quot; val=&quot;linux&quot; style=&quot;overline&quot;**
                                                   **backcolor=&quot;blue&quot;\&gt;**
      **&lt;endflag imageref=&quot;endlin.png&quot;\&gt;**
        **&lt;alt-text\&gt;End linux&lt;/alt-text\&gt;&lt;/endflag\&gt;&lt;/prop\&gt;**
  **&lt;/ditaval-endprop\&gt;**
&lt;/ol&gt;
</code></pre>
<h1><a class="header" href="#map-cleanup-clean-map" id="map-cleanup-clean-map">Map cleanup (clean-map)</a></h1>
<p>The <code>clean-map</code> step removes any elements and attributes that were added to files to support preprocessing.</p>
<h1><a class="header" href="#copy-related-files-copy-files" id="copy-related-files-copy-files">Copy related files (copy-files)</a></h1>
<p>The <code>copy-files</code> step copies non-DITA resources to the output directory, such as HTML files that are referenced in a map or images that are referenced by a DITAVAL file. Which files are copied depends on the transformation type.</p>
<h1><a class="header" href="#html-based-processing-modules" id="html-based-processing-modules">HTML-based processing modules</a></h1>
<p>DITA-OT ships with several varieties of HTML output, each of which follows roughly the same path through the processing pipeline. All HTML-based transformations begin with the same call to the pre-processing module, after which they generate HTML files and then branch to create the transformation-specific navigation files.</p>
<h1><a class="header" href="#common-html-based-processing" id="common-html-based-processing">Common HTML-based processing</a></h1>
<p>After the pre-processing operation runs, HTML-based builds each run a common series of Ant targets to generate HTML file. Navigation may be created before or after this set of common routines.</p>
<p>After the pre-processing is completed, the following targets are run for all of the HTML-based builds:</p>
<ul>
<li>If the args.css parameter is passed to the build to add a CSS file, the <code>copy-css</code> target copies the CSS file from its source location to the relative location in the output directory.</li>
<li>If a DITAVAL file is used, the <code>copy-revflag</code> target copies the default start- and end-revision flags into the output directory.</li>
<li>The DITA topics are converted to HTML files. Unless the <code>@chunk</code> attribute was specified, each DITA topic in the temporary directory now corresponds to one HTML file. The <code>dita.inner.topics.xhtml</code> target is used to process documents that are in the map directory (or subdirectories of the map directory). The <code>dita.outer.topics.xhtml</code> target is used to process documents that are outside of the scope of the map, and thus might end up outside of the designated output directory. Various DITA-OT parameters control how documents processed by the <code>dita.outer.topics.xhtml</code> target are handled.</li>
</ul>
<h1><a class="header" href="#xhtml-processing" id="xhtml-processing">XHTML processing</a></h1>
<p>After the XHTML files are generated by the common routine, the <code>dita.map.xhtml</code> target is called by the xhtml transformation. This target generates a TOC file called index.html, which can be loaded into a frameset.</p>
<h1><a class="header" href="#html5-processing" id="html5-processing">HTML5 processing</a></h1>
<p>After the HTML5 files are generated, the html5 transformation generates a table of contents (ToC) file called index.html, which can be loaded as a cover page or rendered in a navigation sidebar or menu via CSS.</p>
<p>As of DITA-OT 2.2, the nav-toc parameter can be used in HTML5 transformations to embed navigation directly in topics using native HTML5 elements without JavaScript or framesets.</p>
<h1><a class="header" href="#eclipse-help-processing" id="eclipse-help-processing">Eclipse help processing</a></h1>
<p>The eclipsehelp transformation generates XHTML-based output and files that are needed to create an Eclipse Help system plug-in. Once the normal XHTML process has run, the <code>dita.map.eclipse</code> target is used to create a set of control files and navigation files.</p>
<p>Eclipse uses multiple files to control the plug-in behavior. Some of these control files are generated by the build, while others might be created manually. The following Ant targets control the Eclipse help processing:</p>
<ul>
<li>
<p><strong><code>dita.map.eclipse.init</code></strong></p>
<p>Sets up various default properties</p>
</li>
<li>
<p><strong><code>dita.map.eclipse.toc</code></strong></p>
<p>Creates the XML file that defines an Eclipse table of contents</p>
</li>
<li>
<p><strong><code>dita.map.eclipse.index</code></strong></p>
<p>Creates the sorted XML file that defines an Eclipse index</p>
</li>
<li>
<p><strong><code>dita.map.eclipse.plugin</code></strong></p>
<p>Creates the plugin.xml file that controls the behavior of an Eclipse plug-in</p>
</li>
<li>
<p><strong><code>dita.map.eclipse.plugin.properties</code></strong></p>
<p>Creates a Java properties file that sets properties for the plug-in, such as name and version information</p>
</li>
<li>
<p><strong><code>dita.map.eclipse.manifest.file</code></strong></p>
<p>Creates a MANIFEST.MF file that contains additional information used by Eclipse</p>
</li>
<li>
<p><strong><code>copy-plugin-files</code></strong></p>
<p>Checks for the presence of certain control files in the source directory, and copies those found to the output directory</p>
</li>
<li>
<p><strong><code>dita.map.eclipse.fragment.language.init</code></strong></p>
<p>Works in conjunction with the <code>dita.map.eclipse.fragment.language.country.init</code> and <code>dita.map.eclipse.fragment.error</code> targets to control Eclipse fragment files, which are used for versions of a plug-in created for a new language or locale</p>
</li>
</ul>
<p>Several of the targets listed above have matching templates for processing content that is located outside of the scope of the map directory, such as <code>dita.out.map.eclipse.toc</code>.</p>
<h1><a class="header" href="#html-help-processing" id="html-help-processing">HTML Help processing</a></h1>
<p>The htmlhelp transformation creates HTML Help control files. If the build runs on a system that has the HTML Help compiler installed, the control files are compiled into a CHM file.</p>
<p>Once the pre-processing and XHTML processes are completed, most of the HTML Help processing is handled by the following targets:</p>
<ul>
<li>
<p><strong><code>dita.map.htmlhelp</code></strong></p>
<p>Create the HHP, HHC, and HHK files. The HHK file is sorted based on the language of the map.</p>
</li>
<li>
<p><strong><code>dita.htmlhelp.convertlang</code></strong></p>
<p>Ensures that the content can be processed correctly by the compiler, and that the appropriate code pages and languages are used.</p>
</li>
<li>
<p><strong><code>compile.HTML.Help</code></strong></p>
<p>Attempts to detect the HTML Help compiler. If the compiler is found, the full project is compiled into a single CHM file.</p>
</li>
</ul>
<h1><a class="header" href="#pdf-processing-modules" id="pdf-processing-modules">PDF processing modules</a></h1>
<p>The PDF (formerly known as PDF2) transformation process runs the pre-processing routine and follows it by a series of additional targets. These steps work together to create a merged set of content, convert the merged content to XSL-FO, and then format the XSL-FO file to PDF.</p>
<p>The PDF process includes many Ant targets. During a typical conversion from map to PDF, the following targets are most significant.</p>
<ul>
<li>
<p><strong><code>map2pdf2</code></strong></p>
<p>Creates a merged file by calling a common Java merge module. It then calls the <code>publish.map.pdf</code> target to do the remainder of the work.</p>
</li>
<li>
<p><strong><code>publish.map.pdf</code></strong></p>
<p>Performs some initialization and then calls the <code>transform.topic2pdf</code> target to do the remainder of processing.</p>
</li>
<li>
<p><strong><code>transform.topic2pdf</code></strong></p>
<p>Converts the merged file to XSL-FO, generates the PDF, and deletes the topic.fo file, unless instructed to keep it.</p>
</li>
</ul>
<p>The <code>transform.topic2pdf</code> target uses the following targets to perform those tasks:</p>
<ul>
<li>
<p><strong><code>transform.topic2fo</code></strong></p>
<p>Convert the merged file to an XSL-FO file. This process is composed of several sub-targets.</p>
</li>
<li>
<p><strong><code>transform.topic2fo.index</code></strong></p>
<p>Runs a Java process to set up index processing, based on the document language. This step generates the file stage1.xml in the temporary processing directory.</p>
</li>
<li>
<p><strong><code>transform.topic2fo.flagging</code></strong></p>
<p>Sets up preprocessing for flagging based on a DITAVAL file. This step generates the file stage1a.xml in the temporary processing directory.</p>
</li>
<li>
<p><strong><code>transform.topic2fo.main</code></strong></p>
<p>Does the bulk of the conversion from DITA to XSL-FO. It runs the XSLT-based process that creates stage2.fo in the temporary processing directory</p>
</li>
<li>
<p><strong><code>transform.topic2fo.i18n</code></strong></p>
<p>Does additional localization processing on the FO file; it runs a Java process that converts stage2.fo into stage3.fo, followed by an XSLT process that converts stage3.fo into topic.fo.</p>
</li>
<li>
<p><strong><code>transform.fo2pdf</code></strong></p>
<p>Converts the topic.fo file into PDF using the specified FO processor (Antenna House, XEP, or Apache FOP).</p>
</li>
<li>
<p><strong><code>delete.fo2pdf.topic.fo</code></strong></p>
<p>Deletes the topic.fo file, unless otherwise specified by setting an Ant property or command-line option.</p>
</li>
</ul>
<h1><a class="header" href="#history-of-the-pdf-transformation" id="history-of-the-pdf-transformation">History of the PDF transformation</a></h1>
<p>The DITA Open Toolkit PDF transformation was originally based on a third-party contribution by Idiom Technologies, and is commonly known as the “pdf2” plug-in.</p>
<p>When IBM developed the code that later became DITA-OT, it included only a proof-of-concept PDF transformation. IBM had their own processing chain for producing PDFs from SGML, which they had developed over several decades, so resources were focused primarily on XHTML output and preprocessing.</p>
<p>Since the initial proof-of-concept transformation was not robust enough for production-grade output, companies began to develop their own PDF transformations. One company, Idiom Technologies, made their transformation (known as the “pdf2” transformation) available as open source on 23 February 2006. The Idiom plug-in was initially available as a separately-downloadable plug-in that could be installed into DITA-OT.</p>
<p>Later the DITA-OT project formally incorporated the Idiom plug-in as a demonstration in the demo/fo directory. Beginning with DITA-OT version 1.5, released 18 December 2009, the “pdf2” code served as the main, supported PDF transformation. (The original PDF transformation was deprecated and renamed “legacypdf”.) In DITA-OT version 1.6, the “pdf2” plug-in was moved to plugins/org.dita.pdf2.</p>
<p>The fact that the current PDF transformation was not originally developed in parallel with the other core DITA-OT transformations led to anomalies that often confuse users:</p>
<ul>
<li>Elements are often (by default) styled differently in the XHTML and PDF transformations. For example, consider the <code>info</code> element in a task topic. In HTML output, this is an inline element; in PDF output, it is a block-level element.</li>
<li>The auto-generated strings used for localization are different, and so languages that are supported by DITA-OT differ based on whether the XHTML or PDF transformation is used.</li>
<li>The Idiom plug-in used its own extension mechanism (the Customization folder) to provide overrides to the PDF transformation.</li>
<li>Before the release of DITA 1.1 (which added support for the indexing domain), Idiom developed an index extension that used a FrameMaker-inspired syntax.</li>
</ul>
<h1><a class="header" href="#dita-specification-support" id="dita-specification-support">DITA specification support</a></h1>
<p>DITA Open Toolkit 3.6 supports all versions of the OASIS DITA specification, including 1.0, 1.1, 1.2, and 1.3.</p>
<h1><a class="header" href="#dita-12-support" id="dita-12-support">DITA 1.2 support</a></h1>
<p>DITA Open Toolkit 3.6 supports the DITA 1.2 specification. While 1.2 is no longer the latest version of DITA, the grammar files (DTD and XML Schema) are still included with DITA-OT and content explicitly created for 1.2 continues to work as intended.</p>
<p>Highlights of DITA 1.2 support in the toolkit include:</p>
<ul>
<li>Processing support for all new elements and attributes</li>
<li>Link redirection and text replacement using <code>@keyref</code></li>
<li>New <code>@processing-role</code> attribute in maps to allow references to topics that will not produce output artifacts</li>
<li>New content reference extensions, including the ability to reference a range of elements, to push content into another topic, and to use keys for resolving a <code>@conref</code> attribute.</li>
<li>The ability to filter content with controlled values and taxonomies using Subject Scheme Maps</li>
<li>Processing support for both default versions of task (original, limited task, and the general task with fewer constraints on element order)</li>
<li>Acronym and abbreviation support with the new <code>abbreviated-form</code> element</li>
<li>New link grouping abilities available with headers in relationship tables</li>
<li>OASIS Subcommittee specializations from the learning and machine industry domains (note that the core toolkit contains only basic processing support for these, but can be extended to produce related artifacts such as SCORM modules)</li>
</ul>
<p>To find detailed information about any of these features, see the specification documents at OASIS. The DITA Adoption Technical Committee has also produced several papers to describe individual new features. In general, the white papers are geared more towards DITA users and authors, while the specification is geared more towards tool implementors, though both may be useful for either audience. The DITA Adoption papers can be found from that committee’s main web page.</p>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2014/dita-ot_day.html#SCORM_wrapper_for_DITA_to_SCORM">SCORM Wrapper for DITA to SCORM</a></p>
<p><a href="http://docs.oasis-open.org/dita/v1.2/spec/DITA1.2-spec.html">DITA 1.2 Specification (XHTML)</a></p>
<p><a href="http://docs.oasis-open.org/dita/v1.2/spec/DITA1.2-spec.pdf">DITA 1.2 Specification (PDF)</a></p>
<p><a href="http://docs.oasis-open.org/dita/v1.2/spec/DITA1.2-spec.zip">DITA 1.2 Specification (DITA source)</a></p>
<p><a href="https://www.oasis-open.org/committees/tc_home.php?wg_abbrev=dita">OASIS DITA Technical Committee</a></p>
<p><a href="https://www.oasis-open.org/committees/tc_home.php?wg_abbrev=dita-adoption">OASIS DITA Adoption Technical Committee</a></p>
<h1><a class="header" href="#dita-13-support" id="dita-13-support">DITA 1.3 support</a></h1>
<p>DITA Open Toolkit 3.6 provides processing support for the OASIS DITA 1.3 specification. Initial preview support for this specification was added in version 2.0 of the toolkit; version 2.2 extended this foundation to support key scopes and branch filtering along with additional DITA 1.3 features.</p>
<p>Because DITA 1.3 is fully backwards compatible with previous DITA DTDs and schemas, DITA-OT provides the 1.3 materials as the default grammar files for processing. The XML Catalog resolution maps any references for unversioned DITA document types to the 1.3 versions. All processing ordinarily dependent on the 1.0, 1.1, or 1.2 definitions continues to work as usual, and any documents that make use of the newer DITA 1.3 elements or attributes will be supported with specific new processing.</p>
<h2><a class="header" href="#major-features-of-dita-13" id="major-features-of-dita-13">Major features of DITA 1.3</a></h2>
<p>The following DITA 1.3 features are supported in DITA Open Toolkit.</p>
<ul>
<li><a href="http://docs.oasis-open.org/dita/dita/v1.3/errata01/os/complete/part1-base/archSpec/base/keyScopes.html">Scoped keys</a> supported using DITA 1.3 <code>@keyscope</code> attribute</li>
<li><a href="http://docs.oasis-open.org/dita/dita/v1.3/errata01/os/complete/part1-base/archSpec/base/branch-filtering.html">Branch filtering</a> using <code>ditavalref</code> elements in a map</li>
<li>Support formatting based on new XML Mention elements, such as adding angle brackets around elements tagged with <code>xmlelement</code> and adding <code>@</code> before attributes tagged with <code>xmlatt</code></li>
<li>New highlighting elements <code>line-through</code> and <code>overline</code></li>
<li>Support for profiling based on <code>@deliveryTarget</code> attribute</li>
<li>Support for the new <code>@orient</code> attribute for rotating tables</li>
<li>Profile (filter or flag) based on <a href="http://docs.oasis-open.org/dita/dita/v1.3/errata01/os/complete/part1-base/archSpec/base/usage-of-conditional-processing-attributes.html">groups within profiling attributes</a></li>
<li><code>@keyref</code> and related key referencing attributes supported on <code>object</code></li>
<li>New in-topic link syntax using <code>.</code> in place of the topic ID: <code>#./figure</code></li>
<li>Support for additional new elements, such as the <code>div</code> element for grouping</li>
<li>Support <code>@cascade</code> attribute in maps (processing defaults to the value <code>merge</code>, which is the <a href="http://docs.oasis-open.org/dita/dita/v1.3/errata01/os/complete/part1-base/archSpec/base/example-how-cascade-att-functions.html">default cascade operation</a> described by the DITA specification)</li>
</ul>
<p><strong>Note:</strong> For the latest status information on DITA 1.3-related features and fixes, see the <a href="https://github.com/dita-ot/dita-ot/issues?q=label%3A%22DITA+1.3%22">DITA 1.3 label</a> in the GitHub issues tracker.</p>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2017/dita-ot_day.html#Accessibility_DITA-OT">Accessibility in DITA-OT</a></p>
<p><a href="https://www.oxygenxml.com/events/2014/dita-ot_day.html#RNG_to_DTD_and_XSD_using_the_DITA_Open_Toolkit">RNG to DTD and XSD using the DITA Open Toolkit</a></p>
<p><a href="http://docs.oasis-open.org/dita/dita/v1.3/dita-v1.3-part3-all-inclusive.html">DITA 1.3 Part 3 latest errata version: All-Inclusive Edition (HTML)</a></p>
<p><a href="http://docs.oasis-open.org/dita/dita/v1.3/dita-v1.3-part3-all-inclusive.pdf">DITA 1.3 Part 3 latest errata version: All-Inclusive Edition (PDF)</a></p>
<p><a href="http://docs.oasis-open.org/dita/dita/v1.3/errata01/os/complete/part3-all-inclusive/dita-v1.3-errata01-os-part3-all-inclusive-complete-dita.zip">DITA Version 1.3 Errata 01 (Distribution ZIP of the DITA source)</a></p>
<p><a href="https://www.oasis-open.org/committees/tc_home.php?wg_abbrev=dita">OASIS DITA Technical Committee</a></p>
<p><a href="https://www.oasis-open.org/committees/tc_home.php?wg_abbrev=dita-adoption">OASIS DITA Adoption Technical Committee</a></p>
<h1><a class="header" href="#dita-20-preview-support" id="dita-20-preview-support">DITA 2.0 preview support</a></h1>
<p>DITA Open Toolkit 3.6 provides a preview of features for the upcoming OASIS DITA 2.0 specification. This preliminary processing support is provided on the basis of the latest DRAFT versions of the DITA 2.0 DTD and RELAX NG grammar files from OASIS (as of October 2020).</p>
<p>DITA documents that reference the draft grammar files can be parsed, and where features overlap with DITA 1.3, those features will work as expected.</p>
<h2><a class="header" href="#dita-ot-35" id="dita-ot-35">DITA-OT 3.5</a></h2>
<p>DITA-OT 3.5 provided an initial preview of DITA 2.0 features.</p>
<ul>
<li>
<p>The new <code>include</code> element can be used to reference text or XML content from other files. In addition to the processing mandated by the specification, DITA-OT also supports the character set definition and line range extraction options previously provided for <code>coderef</code> elements (see <a href="reference/extended-functionality.html">Extended codeblock processing</a>).</p>
</li>
<li>
<p>The new <code>@specializations</code> attribute, which replaces the DITA 1.x <code>@domains</code> attribute, can now be used as an alternative method of declaring specialized attributes.</p>
</li>
<li>
<p>The <code>@outputclass</code> attribute can now be specified as a flagging behavior in DITAVAL files. This allows you to flag an element with a CSS class keyword that will be added to the <code>@class</code> attribute value in the generated HTML. Output classes allow you to pick up pre-defined styles from existing web frameworks, and are more easily overridden with custom CSS files than the inline <code>@style</code> attributes generated by DITA 1.x flagging options such as <code>@color</code> and <code>@backcolor</code>.</p>
</li>
<li>
<p>Titles can now be specified on simple tables, and <code>simpletable</code> entries now support row and column spanning attributes.</p>
</li>
<li>
<p>Where DITA 1.x defined conflicting <code>@class</code> values for <code>linktext</code>, <code>shortdesc</code>, and <code>searchtitle</code> in maps and topics, the new draft of DITA 2.0 uses the topic-based <code>@class</code> value in all cases. Processing is updated to recognize the updated value when these elements are used in maps.</p>
</li>
</ul>
<h2><a class="header" href="#dita-ot-36" id="dita-ot-36">DITA-OT 3.6</a></h2>
<p>DITA-OT 3.6 adds support for additional DITA 2.0 features.</p>
<ul>
<li>Where earlier DITA versions relied on the <code>object</code> to embed media in DITA source files, DITA 2.0 provides new <code>audio</code> and <code>video</code> elements that correspond to their HTML5 equivalents.</li>
<li>For HTML5 compatibility, the new emphasis domain adds support for the <code>strong</code> and <code>em</code> elements in addition to the existing <code>b</code> and <code>i</code> elements in the highlighting domain.</li>
<li>The troubleshooting domain has been updated with additional constructs that can be used to provide detailed diagnostic information.</li>
<li>Several obsolete elements and attributes have been removed from DITA 2.0, including:
<ul>
<li><code>boolean</code></li>
<li><code>data-about</code></li>
<li><code>indextermref</code></li>
<li><code>@alt</code> on <code>image</code></li>
<li><code>@navtitle</code> on <code>topicref</code></li>
<li><code>@query</code> on <code>topicref</code></li>
<li><code>@refcols</code> on <code>simpletable</code></li>
<li><code>@xtrc</code></li>
<li><code>@xtrf</code></li>
</ul>
</li>
</ul>
<p><strong>Note:</strong> Other new or revised features proposed for DITA 2.0 are not yet supported. Additional features will be implemented in future versions of DITA-OT as the specification evolves.</p>
<p><strong>Tip:</strong> For the latest status information on DITA 2.0-related features and fixes, see the <a href="https://github.com/dita-ot/dita-ot/issues?q=label%3A%22DITA+2.0%22">DITA 2.0 label</a> in the GitHub issues tracker.</p>
<p><strong>Related information</strong></p>
<p><a href="https://www.oasis-open.org/committees/tc_home.php?wg_abbrev=dita">OASIS DITA Technical Committee</a></p>
<h1><a class="header" href="#implementation-dependent-features" id="implementation-dependent-features">Implementation-dependent features</a></h1>
<p>For certain features, the DITA specification allows conforming processors to choose between different implementation alternatives. In these cases, there may be differences in behavior when DITA content is handled by different processors. DITA-OT supports implementation-specific features by applying one or more of the permissible processing approaches.</p>
<h2><a class="header" href="#chunking" id="chunking">Chunking</a></h2>
<p>DITA content can be divided or merged into new output documents in different ways, depending on the value of the <code>@chunk</code> attribute.</p>
<p>DITA-OT supports the following chunking methods:</p>
<ul>
<li>select-topic</li>
<li>select-document</li>
<li>select-branch</li>
<li>by-topic</li>
<li>by-document</li>
<li>to-content</li>
<li>to-navigation.</li>
</ul>
<p>When no chunk attribute values are given, no chunking is performed.</p>
<p><strong>Note:</strong> For HTML-based transformation types, this is effectively equivalent to select-document and by-document defaults.</p>
<p>Error recovery:</p>
<ul>
<li>When two tokens from the same category are used, no error or warning is thrown.</li>
<li>When an unrecognized chunking method is used, no error or warning is thrown.</li>
</ul>
<h2><a class="header" href="#filtering" id="filtering">Filtering</a></h2>
<p>Error recovery:</p>
<ul>
<li>When there are multiple <code>revprop</code> elements with the same <code>@val</code> attribute, no error or warning is thrown</li>
<li>When multiple prop elements define a duplicate attribute and value combination, attribute default, or fall-back behavior, the DOTJ007W warning is thrown.</li>
</ul>
<h2><a class="header" href="#debugging-attributes" id="debugging-attributes">Debugging attributes</a></h2>
<p>The debug attributes are populated as follows:</p>
<ul>
<li>
<p><strong>xtrf</strong></p>
<p>The XML trace filename is used to store the absolute system path of the original source document.</p>
</li>
<li>
<p><strong>xtrc</strong></p>
<p>The XML trace counter stores an element counter with the following format:</p>
<pre><code>element-name &quot;:&quot; integer-counter &quot;;&quot; line-number &quot;:&quot; column-number
</code></pre>
</li>
</ul>
<h2><a class="header" href="#image-scaling" id="image-scaling">Image scaling</a></h2>
<p>If both height and width attributes are given, the image is scaled non-uniformly.</p>
<p>If the scale attribute is not an unsigned integer, no error or warning is thrown during preprocessing.</p>
<h2><a class="header" href="#map-processing" id="map-processing">Map processing</a></h2>
<p>When a <code>topicref</code> element that references a map contains child <code>topicref</code> elements, the DOTX068W error is thrown and the child <code>topicref</code> elements are ignored.</p>
<h2><a class="header" href="#link-processing" id="link-processing">Link processing</a></h2>
<p>When the value of a hyperlink reference in the <code>@href</code> attribute is not a valid URI reference, the DOTJ054E error is thrown. Depending on the <a href="reference/../parameters/parameters-base.html#processing-mode">processing-mode</a> setting, error recovery may be attempted.</p>
<h2><a class="header" href="#copy-to-processing" id="copy-to-processing">Copy-to processing</a></h2>
<p>When the <code>@copy-to</code> attribute is specified on a <code>topicref</code>, the content of the <code>shortdesc</code> element is not used to override the short description of the topic.</p>
<h2><a class="header" href="#coderef-processing" id="coderef-processing">Coderef processing</a></h2>
<p>When <code>coderef</code> elements are used within code blocks to reference external files with literal code samples, the system default character set is used as the target file encoding unless a different character set is explicitly defined via the mechanisms described under <a href="reference/extended-functionality.html#coderef-charset">Character set definition</a>.</p>
<h1><a class="header" href="#extended-codeblock-processing" id="extended-codeblock-processing">Extended codeblock processing</a></h1>
<p>DITA-OT provides additional processing support beyond that which is mandated by the DITA specification. These extensions can be used to define character encodings or line ranges for code references, normalize indendation, add line numbers or display whitespace characters in code blocks.</p>
<h2><a class="header" href="#character-set-definition" id="character-set-definition">Character set definition</a></h2>
<p>For <code>coderef</code> elements, DITA-OT supports defining the code reference target file encoding using the <code>@format</code> attribute. The supported format is:</p>
<pre><code>format (&quot;;&quot; space* &quot;charset=&quot; charset)?
</code></pre>
<p>If a character set is not defined, the system default character set will be used. If the character set is not recognized or supported, the DOTJ052E error is thrown and the system default character set is used as a fallback.</p>
<pre><code class="language-language-xml">&lt;coderef href=&quot;unicode.txt&quot; format=&quot;txt; charset=UTF-8&quot;/&gt;
</code></pre>
<p>As of DITA-OT 3.3, the default character set for code references can be changed by adding the default.coderef-charset key to the <a href="reference/../parameters/configuration-properties-file.html">configuration.properties</a> file:</p>
<pre><code class="language-language-properties">default.coderef-charset = ISO-8859-1
</code></pre>
<p>The character set values are those supported by the Java <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/charset/Charset.html">Charset</a> class.</p>
<h2><a class="header" href="#line-range-extraction" id="line-range-extraction">Line range extraction</a></h2>
<p>Code references can be limited to extract only a specified line range by defining the <code>line-range</code> pointer in the URI fragment. The format is:</p>
<pre><code>uri (&quot;#line-range(&quot; start (&quot;,&quot; end)? &quot;)&quot; )?
</code></pre>
<p>Start and end line numbers start from 1 and are inclusive. If the end range is omitted, the range ends on the last line of the file.</p>
<pre><code class="language-language-xml">&lt;coderef href=&quot;Parser.scala#line-range(5,10)&quot; format=&quot;scala&quot;/&gt;
</code></pre>
<p>Only lines from 5 to 10 will be included in the output.</p>
<h2><a class="header" href="#rfc-5147" id="rfc-5147">RFC 5147</a></h2>
<p>DITA-OT also supports the line position and range syntax from <a href="http://tools.ietf.org/html/rfc5147">RFC 5147</a>. The format for line range is:</p>
<pre><code>uri (&quot;#line=&quot; start? &quot;,&quot; end? )?
</code></pre>
<p>Start and end line numbers start from 0 and are inclusive and exclusive, respectively. If the start range is omitted, the range starts from the first line; if the end range is omitted, the range ends on the last line of the file. The format for line position is:</p>
<pre><code>uri (&quot;#line=&quot; position )?
</code></pre>
<p>The position line number starts from 0.</p>
<pre><code class="language-language-xml">&lt;coderef href=&quot;Parser.scala#line=4,10&quot; format=&quot;scala&quot;/&gt;
</code></pre>
<p>Only lines from 5 to 10 will be included in the output.</p>
<h2><a class="header" href="#line-range-by-content" id="line-range-by-content">Line range by content</a></h2>
<p>Instead of specifying line numbers, you can also select lines to include in the code reference by specifying keywords (or “tokens”) that appear in the referenced file.</p>
<p>DITA-OT supports the <code>token</code> pointer in the URI fragment to extract a line range based on the file content. The format for referencing a range of lines by content is:</p>
<pre><code>uri (&quot;#token=&quot; start? (&quot;,&quot; end)? )?
</code></pre>
<p>Lines identified using start and end tokens are exclusive: the lines that contain the start token and end token will be not be included. If the start token is omitted, the range starts from the first line in the file; if the end token is omitted, the range ends on the last line of the file.</p>
<p>Given a Haskell source file named fact.hs with the following content,</p>
<pre><code>-- START-FACT
fact :: Int -&gt; Int
fact 0 = 1
fact n = n * fact (n-1)
-- END-FACT
main = print $ fact 7
</code></pre>
<p>a range of lines can be referenced as:</p>
<pre><code class="language-language-xml">&lt;coderef href=&quot;fact.hs#token=START-FACT,END-FACT&quot;/&gt;
</code></pre>
<p>to include the range of lines that follows the <code>START-FACT</code> token on Line 1, up to (but not including) the line that contains the <code>END-FACT</code> token (Line 5). The resulting <code>codeblock</code> would contain lines 2–4:</p>
<pre><code class="language-language-haskell">fact :: Int -&gt; Int
fact 0 = 1
fact n = n * fact (n-1)
</code></pre>
<p><strong>Tip:</strong> This approach can be used to reference code samples that are frequently edited. In these cases, referencing line ranges by line number can be error-prone, as the target line range for the reference may shift if preceding lines are added or removed. Specifying ranges by line content makes references more robust, as long as the <code>token</code> keywords are preserved when the referenced resource is modified.</p>
<h2><a class="header" href="#whitespace-normalization" id="whitespace-normalization">Whitespace normalization</a></h2>
<p>DITA-OT can adjust the leading whitespace in code blocks to remove excess indentation and keep lines short. Given an XML snippet in a codeblock with lines that all begin with spaces (indicated here as dots “·”),</p>
<pre><code class="language-language-xml">··&lt;subjectdef keys=&quot;audience&quot;&gt;
····&lt;subjectdef keys=&quot;novice&quot;/&gt;
····&lt;subjectdef keys=&quot;expert&quot;/&gt;
··&lt;/subjectdef&gt;
</code></pre>
<p>DITA-OT can remove the leading whitespace that is common to all lines in the code block. To trim the excess space, set the <code>@outputclass</code> attribute on the <code>codeblock</code> element to include the <code>normalize-space</code> keyword.</p>
<p>In this case, two spaces (“··”) would be removed from the beginning of each line, shifting content to the left by two characters, while preserving the indentation of lines that contain additional whitespace (beyond the common indent):</p>
<pre><code class="language-language-xml">&lt;subjectdef keys=&quot;audience&quot;&gt;
··&lt;subjectdef keys=&quot;novice&quot;/&gt;
··&lt;subjectdef keys=&quot;expert&quot;/&gt;
&lt;/subjectdef&gt;
</code></pre>
<h2><a class="header" href="#whitespace-visualization-pdf" id="whitespace-visualization-pdf">Whitespace visualization (PDF)</a></h2>
<p>DITA-OT can be set to display the whitespace characters in code blocks to visualize indentation in PDF output.</p>
<p>To enable this feature, set the <code>@outputclass</code> attribute on the <code>codeblock</code> element to include the <code>show-whitespace</code> keyword.</p>
<p>When PDF output is generated, space characters in the code will be replaced with a middle dot or “interpunct” character ( <code>·</code> ); tab characters are replaced with a rightwards arrow and three spaces ( <code>→   </code> ).</p>
<pre><code>	for i in 0..10 {
		println(i)
	}
</code></pre>
<h2><a class="header" href="#line-numbering-pdf" id="line-numbering-pdf">Line numbering (PDF)</a></h2>
<p>DITA-OT can be set to add line numbers to code blocks to make it easier to distinguish specific lines.</p>
<p>To enable this feature, set the <code>@outputclass</code> attribute on the <code>codeblock</code> element to include the <code>show-line-numbers</code> keyword.</p>
<pre><code>	for i in 0..10 {
		println(i)
	}
</code></pre>
<p><strong>Related information</strong></p>
<p><a href="reference/../reference/preprocess-topic-fragment.html">Resolve topic fragments and code references (topic-fragment)</a></p>
<h1><a class="header" href="#dita-features-in-the-documentation" id="dita-features-in-the-documentation">DITA features in the documentation</a></h1>
<p>DITA Open Toolkit uses various recent DITA features in the project documentation.</p>
<p>The <a href="https://github.com/dita-ot/docs">source files</a> for the DITA-OT documentation include examples of the following DITA features (among others):</p>
<ul>
<li>subjectScheme classification for controlling available attributes</li>
<li>profiling and branch filtering (novice/expert content)</li>
<li>extending topics with conref push</li>
<li>keys and key references</li>
<li>XML mention domain</li>
</ul>
<h2><a class="header" href="#subject-schemes" id="subject-schemes">Subject schemes</a></h2>
<p>Various topics, sections and elements in the docs are profiled by audience:</p>
<pre><code>&lt;li id=&quot;novice-variables-last&quot; audience=&quot;novice&quot;&gt;
  &lt;p id=&quot;common-format-info&quot;&gt;
    &lt;varname&gt;format&lt;/varname&gt; is the output format (transformation type). This argument corresponds to the
    common parameter &lt;parmname&gt;transtype&lt;/parmname&gt;. Use the same values as for the
      &lt;parmname&gt;transtype&lt;/parmname&gt; build parameter, for example &lt;option&gt;html5&lt;/option&gt; or
      &lt;option&gt;pdf&lt;/option&gt;.&lt;/p&gt;
&lt;/li&gt;
</code></pre>
<p>An “audience” subject scheme controls the values that are available for the <code>@audience</code> attribute:</p>
<pre><code>&lt;subjectdef keys=&quot;audience&quot;&gt;
  &lt;subjectdef keys=&quot;novice&quot;/&gt;
  &lt;subjectdef keys=&quot;expert&quot;/&gt;
  &lt;subjectdef keys=&quot;xslt-customizer&quot;/&gt;
&lt;/subjectdef&gt;
</code></pre>
<p>A dedicated subject scheme map defines several series of permissible values for <code>@outputclass</code> attributes, which apply styling to elements on the project website, enable <a href="reference/extended-functionality.html">extended codeblock processing</a> such as whitespace visualization and line numbering in PDF output, or trigger <a href="https://www.w3.org/TR/html52/textlevel-semantics.html#the-code-element">HTML5-compliant syntax highlighting</a> via <a href="https://prismjs.com">prism.js</a>.</p>
<pre><code>&lt;schemeref href=&quot;subjectscheme-outputclass.ditamap&quot;/&gt;
</code></pre>
<h2><a class="header" href="#branch-filtering-re-using-profiled-content" id="branch-filtering-re-using-profiled-content">Branch filtering: re-using profiled content</a></h2>
<p><em>Installing DITA-OT</em> pulls a subset of the build description from <em>using the dita command</em>, filtered to display only content deemed suitable for novice users under <a href="reference/../topics/first-build-using-dita-command.html">Building output</a>:</p>
<pre><code>&lt;topicref href=&quot;using-dita-command.dita&quot;
          keys=&quot;first-build-using-dita-command&quot; locktitle=&quot;yes&quot;&gt;
  &lt;topicmeta&gt;
    &lt;navtitle&gt;Building output&lt;/navtitle&gt;
  &lt;/topicmeta&gt;
  &lt;ditavalref href=&quot;../resources/novice.ditaval&quot;&gt;
    &lt;ditavalmeta&gt;
      &lt;dvrResourcePrefix&gt;first-build-&lt;/dvrResourcePrefix&gt;
    &lt;/ditavalmeta&gt;
  &lt;/ditavalref&gt;
&lt;/topicref&gt;
</code></pre>
<p>The same content appears later in <a href="reference/../topics/build-using-dita-command.html">Using the dita command</a> with additional information on arguments, options and examples.</p>
<pre><code>&lt;topicref href=&quot;using-dita-command.dita&quot;
          keys=&quot;build-using-dita-command&quot; locktitle=&quot;yes&quot;&gt;
  &lt;topicmeta&gt;
    &lt;navtitle&gt;Using the &lt;cmdname&gt;dita&lt;/cmdname&gt; command&lt;/navtitle&gt;
  &lt;/topicmeta&gt;
  &lt;ditavalref href=&quot;../resources/expert.ditaval&quot;&gt;
    &lt;ditavalmeta&gt;
      &lt;dvrResourcePrefix&gt;build-&lt;/dvrResourcePrefix&gt;
    &lt;/ditavalmeta&gt;
  &lt;/ditavalref&gt;
</code></pre>
<h2><a class="header" href="#conref-push" id="conref-push">Conref push</a></h2>
<p>The docs build uses the conref push mechanism (with the <code>pushreplace</code>, <code>mark</code>, and <code>pushafter</code> <a href="http://docs.oasis-open.org/dita/dita/v1.3/errata01/os/complete/part1-base/langRef/attributes/theconactionattribute.html">conactions</a>) to extend the parameter descriptions embedded in the default plug-ins:</p>
<pre><code>&lt;plentry id=&quot;args.csspath&quot;&gt;
  &lt;pt&gt;
    &lt;parmname&gt;args.csspath&lt;/parmname&gt;
  &lt;/pt&gt;
  &lt;pd conaction=&quot;pushreplace&quot; conref=&quot;parameters-html5.dita#html5/args.csspath.desc&quot;&gt;
    &lt;div conref=&quot;./ant-parameters-details.dita#base-html/args.csspath.desc&quot;/&gt;
  &lt;/pd&gt;
  &lt;pd conaction=&quot;mark&quot; conref=&quot;parameters-html5.dita#html5/args.csspath.desc&quot;/&gt;
  &lt;pd conaction=&quot;pushafter&quot;&gt;
    &lt;div conref=&quot;./ant-parameters-details.dita#base-html/args.csspath.details&quot;/&gt;
  &lt;/pd&gt;
&lt;/plentry&gt;
</code></pre>
<p>The pushed content appears in the output after the default description. (See <a href="reference/../parameters/parameters-base-html.html">HTML-based output parameters</a>.)</p>
<p><strong>Tip:</strong> You could also use the same mechanism to extend the documentation with custom information that applies only to your company’s toolkit distribution.</p>
<h2><a class="header" href="#keys-and-key-references" id="keys-and-key-references">Keys and key references</a></h2>
<p>The <code>key-definitions.ditamap</code> defines keys for version references, re-usable links, etc.</p>
<p>This key definition defines the maintenance release version:</p>
<pre><code>&lt;keydef keys=&quot;maintenance-version&quot;&gt;
  &lt;topicmeta&gt;
    &lt;keywords&gt;
      &lt;keyword&gt;3.6&lt;/keyword&gt;
    &lt;/keywords&gt;
  &lt;/topicmeta&gt;
&lt;/keydef&gt;
</code></pre>
<p>In topics, the keyword is used in place of hard-coded version references:</p>
<pre><code class="language-language-xml">&lt;title&gt;DITA Open Toolkit &lt;keyword keyref=&quot;maintenance-version&quot;/&gt; Release Notes&lt;/title&gt;
</code></pre>
<h2><a class="header" href="#xml-mention-domain" id="xml-mention-domain">XML mention domain</a></h2>
<p>The docs use the <a href="http://docs.oasis-open.org/dita/dita/v1.3/os/part3-all-inclusive/langRef/containers/xml-mention-domain.html#xml-mention-domain">XML mention domain</a> to mark up XML elements and attributes:</p>
<pre><code class="language-language-xml">&lt;li id=&quot;1777&quot;&gt;
  DITA 1.3: Initial support has been added for the &lt;xmlatt&gt;orient&lt;/xmlatt&gt;
  attribute on &lt;xmlelement&gt;table&lt;/xmlelement&gt; elements. These changes allow
  Antenna House Formatter to render tables in landscape mode when the
  &lt;xmlatt&gt;orient&lt;/xmlatt&gt; attribute is set to &lt;option&gt;land&lt;/option&gt;. […]
&lt;/li&gt;
</code></pre>
<p>When the toolkit generates output for the sample above:</p>
<ul>
<li>the XML element name is wrapped in angle brackets as <code>table</code></li>
<li>the attribute name is prefixed with an “at” sign as <code>@orient</code></li>
</ul>
<h1><a class="header" href="#extension-point-reference" id="extension-point-reference">Extension point reference</a></h1>
<p>DITA Open Toolkit provides a series of extension points that can be used to integrate changes into the core code. Extension points are defined in the plugin.xml file for each plug-in. When plug-ins are installed, DITA-OT makes each extension visible to the rest of the toolkit.</p>
<p><strong>Related information</strong></p>
<p><a href="https://www.oxygenxml.com/events/2014/dita-ot_day.html#Extending_the_DITA_Open_Toolkit">Extending the DITA Open Toolkit: How crazy can you get?</a></p>
<h1><a class="header" href="#all-dita-ot-extension-points" id="all-dita-ot-extension-points">All DITA-OT extension points</a></h1>
<p>The pre-defined extension points can be used to add new functionality to DITA-OT. If your toolkit installation includes custom plug-ins that define additional extension points, you can add to this list by rebuilding the DITA-OT documentation.</p>
<ul>
<li>
<p><strong>dita.conductor.target</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Adds an Ant import to the main Ant build file.</p>
<p><strong>Attention:</strong> This extension point is deprecated; use <code>ant.import</code> instead.</p>
</li>
<li>
<p><strong>dita.conductor.target.relative</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Adds an Ant import to the main Ant build file.</p>
<p><strong>Tip:</strong> As of DITA-OT 3.0, the <code>ant.import</code> extension point can be used instead.</p>
</li>
<li>
<p><strong>dita.conductor.plugin</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Ant conductor plug-in information</p>
</li>
<li>
<p><strong>ant.import</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Adds an Ant import to the main Ant build file.</p>
</li>
<li>
<p><strong>depend.preprocess.chunk.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>chunk</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.clean-temp.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>clean-temp</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.coderef.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>coderef</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>org.dita.pdf2.catalog.relative</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.pdf2.html"><code>org.dita.pdf2</code></a>.</p>
<p>Adds the content of a catalog file to the main catalog file for the PDF plug-in.</p>
</li>
<li>
<p><strong>dita.xsl.conref</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Content reference XSLT import</p>
</li>
<li>
<p><strong>dita.preprocess.conref.param</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Content reference XSLT parameters</p>
</li>
<li>
<p><strong>depend.preprocess.conref.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>conref</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.conrefpush.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>conrefpush</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.copy-html.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>copy-html</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.copy-files.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>copy-files</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.copy-flag.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>copy-flag</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.copy-image.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>copy-image</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.copy-subsidiary.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>copy-subsidiary</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>dita.parser</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Custom DITA parser</p>
</li>
<li>
<p><strong>depend.preprocess.debug-filter.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>debug-filter</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>dita.preprocess.debug-filter.param</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Debug filter module parameters</p>
</li>
<li>
<p><strong>dita.preprocess.map-reader.param</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Debug filter module parameters</p>
</li>
<li>
<p><strong>dita.preprocess.topic-reader.param</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Debug filter module parameters</p>
</li>
<li>
<p><strong>dita.xsl.messages</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Adds new diagnostic messages to DITA-OT.</p>
</li>
<li>
<p><strong>dita.conductor.eclipse.toc.param</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.eclipsehelp.html"><code>org.dita.eclipsehelp</code></a>.</p>
<p>Pass parameters to the XSLT step that generates the Eclipse Help table of contents (TOC).</p>
</li>
<li>
<p><strong>dita.xsl.eclipse.toc</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.eclipsehelp.html"><code>org.dita.eclipsehelp</code></a>.</p>
<p>Overrides the default XSLT step that generates the Eclipse Help table of contents (TOC).</p>
</li>
<li>
<p><strong>dita.map.eclipse.index.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.eclipsehelp.html"><code>org.dita.eclipsehelp</code></a>.</p>
<p>Runs an Ant target before the Eclipse index extraction process.</p>
</li>
<li>
<p><strong>dita.xsl.eclipse.plugin</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.eclipsehelp.html"><code>org.dita.eclipsehelp</code></a>.</p>
<p>Overrides the default XSLT step that generates the plugin.xml file for Eclipse Help.</p>
</li>
<li>
<p><strong>dita.basedir-resource-directory</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Flag to use basedir as resource directory</p>
</li>
<li>
<p><strong>dita.conductor.pdf2.formatter.check</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.pdf2.html"><code>org.dita.pdf2</code></a>.</p>
<p>Formatter check</p>
</li>
<li>
<p><strong>depend.org.dita.pdf2.format.post</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.pdf2.html"><code>org.dita.pdf2</code></a>.</p>
<p>Formatting post-target</p>
</li>
<li>
<p><strong>depend.org.dita.pdf2.format.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.pdf2.html"><code>org.dita.pdf2</code></a>.</p>
<p>Formatting pre-target</p>
</li>
<li>
<p><strong>depend.org.dita.pdf2.format</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.pdf2.html"><code>org.dita.pdf2</code></a>.</p>
<p>Formatting target</p>
</li>
<li>
<p><strong>depend.preprocess.gen-list.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>gen-list</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>dita.xsl.strings</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Generated text</p>
</li>
<li>
<p><strong>dita.xsl.htmlhelp.map2hhc</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.htmlhelp.html"><code>org.dita.htmlhelp</code></a>.</p>
<p>Overrides the default XSLT step that generates the HTML Help contents (.hhc) file.</p>
</li>
<li>
<p><strong>dita.xsl.htmlhelp.map2hhp</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.htmlhelp.html"><code>org.dita.htmlhelp</code></a>.</p>
<p>Overrides the default XSLT step that generates the HTML Help project (.hhp) file.</p>
</li>
<li>
<p><strong>dita.conductor.html.param</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.xhtml.html"><code>org.dita.xhtml</code></a>.</p>
<p>Pass parameters to the HTML and HTML Help transformations.</p>
</li>
<li>
<p><strong>dita.html.extensions</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>HTML file extension</p>
</li>
<li>
<p><strong>dita.xsl.html.cover</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.xhtml.html"><code>org.dita.xhtml</code></a>.</p>
<p>Overrides the default HTML cover page generation process.</p>
</li>
<li>
<p><strong>dita.xsl.htmltoc</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.xhtml.html"><code>org.dita.xhtml</code></a>.</p>
<p>Overrides the default XSLT step that generates the HTML table of contents (TOC).</p>
</li>
<li>
<p><strong>dita.xsl.xhtml</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.xhtml.html"><code>org.dita.xhtml</code></a>.</p>
<p>Overrides the default HTML or XHTML transformation, including HTML Help and Eclipse Help. The referenced file is integrated directly into the XSLT step that generates XHTML.</p>
</li>
<li>
<p><strong>dita.conductor.xhtml.toc.param</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.xhtml.html"><code>org.dita.xhtml</code></a>.</p>
<p>Pass parameters to the XSLT step that generates the XHTML table of contents (TOC).</p>
</li>
<li>
<p><strong>dita.conductor.html5.toc.param</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.html5.html"><code>org.dita.html5</code></a>.</p>
<p>Pass parameters to the XSLT step that generates the HTML5 table of contents (TOC).</p>
</li>
<li>
<p><strong>dita.xsl.html5.cover</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.html5.html"><code>org.dita.html5</code></a>.</p>
<p>Overrides the default HTML5 cover page generation process.</p>
</li>
<li>
<p><strong>dita.xsl.html5.toc</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.html5.html"><code>org.dita.html5</code></a>.</p>
<p>Overrides the default XSLT step that generates the HTML5 table of contents (TOC).</p>
</li>
<li>
<p><strong>dita.xsl.html5</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.html5.html"><code>org.dita.html5</code></a>.</p>
<p>Overrides the default HTML5 transformation. The referenced file is integrated directly into the XSLT step that generates HTML5.</p>
</li>
<li>
<p><strong>dita.conductor.html5.param</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.html5.html"><code>org.dita.html5</code></a>.</p>
<p>Pass parameters to the HTML5 transformation.</p>
</li>
<li>
<p><strong>dita.image.extensions</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Image file extension</p>
</li>
<li>
<p><strong>depend.org.dita.pdf2.index</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.pdf2.html"><code>org.dita.pdf2</code></a>.</p>
<p>Indexing target</p>
</li>
<li>
<p><strong>depend.org.dita.pdf2.init.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.pdf2.html"><code>org.dita.pdf2</code></a>.</p>
<p>Initialization pre-target</p>
</li>
<li>
<p><strong>dita.conductor.lib.import</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Adds a Java library to the DITA-OT classpath.</p>
</li>
<li>
<p><strong>depend.preprocess.keyref.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>keyref</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>dita.xsl.maplink</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Map link XSLT import</p>
</li>
<li>
<p><strong>depend.preprocess.maplink.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>maplink</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>dita.preprocess.mappull.param</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Map pull XSLT parameters</p>
</li>
<li>
<p><strong>dita.xsl.mappull</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Map pull XSLT import</p>
</li>
<li>
<p><strong>depend.preprocess.mappull.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>mappull</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>dita.xsl.mapref</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Map reference XSLT import</p>
</li>
<li>
<p><strong>dita.preprocess.mapref.param</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Map reference XSLT parameters</p>
</li>
<li>
<p><strong>depend.preprocess.mapref.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>mapref</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.move-meta-entries.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>move-meta-entries</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>dita.xsl.xslfo.i18n-postprocess</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.pdf2.html"><code>org.dita.pdf2</code></a>.</p>
<p>PDF I18N postprocess import</p>
</li>
<li>
<p><strong>dita.xsl.xslfo</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.pdf2.html"><code>org.dita.pdf2</code></a>.</p>
<p>Overrides the default PDF transformation. The referenced XSL file is integrated directly into the XSLT step that generates the XSL-FO.</p>
</li>
<li>
<p><strong>dita.conductor.pdf2.param</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.pdf2.html"><code>org.dita.pdf2</code></a>.</p>
<p>Pass parameters to the PDF transformation.</p>
</li>
<li>
<p><strong>org.dita.pdf2.xsl.topicmerge</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.pdf2.html"><code>org.dita.pdf2</code></a>.</p>
<p>PDF2 topic merge XSLT import</p>
</li>
<li>
<p><strong>dita.catalog.plugin-info</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Plug-in XML catalog information</p>
</li>
<li>
<p><strong>package.support.email</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Specifies the e-mail address of the person who provides support for the DITA-OT plug-in.</p>
</li>
<li>
<p><strong>package.support.name</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Specifies the person who provides support for the DITA-OT plug-in.</p>
</li>
<li>
<p><strong>package.version</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Specifies the version of the DITA-OT plug-in.</p>
</li>
<li>
<p><strong>depend.preprocess.post</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target after the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the pre-processing stage.</p>
</li>
<li>
<p><strong>dita.transtype.print</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Defines a transformation as a print type.</p>
</li>
<li>
<p><strong>dita.resource.extensions</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Resource file extension</p>
</li>
<li>
<p><strong>dita.xsl.topicpull</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Topic pull XSLT import</p>
</li>
<li>
<p><strong>dita.preprocess.topicpull.param</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Topic pull XSLT parameters</p>
</li>
<li>
<p><strong>depend.preprocess.topicpull.pre</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Runs an Ant target before the <code>topicpull</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>dita.conductor.transtype.check</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Adds a new value to the list of valid transformation types.</p>
<p><strong>Tip:</strong> This extension point is still supported for backwards compatibility, but since DITA-OT 2.1, any new customizations should instead use the <code>transtype</code> element in the <a href="extension-points/../topics/plugin-configfile.html">Plug-in descriptor file</a> to define a new transformation.</p>
</li>
<li>
<p><strong>dita.conductor.xhtml.param</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.xhtml.html"><code>org.dita.xhtml</code></a>.</p>
<p>Pass parameters to the XHTML and Eclipse Help transformations.</p>
</li>
<li>
<p><strong>dita.specialization.catalog</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Adds the content of a catalog file to the main DITA-OT catalog file.</p>
<p><strong>Attention:</strong> This extension point is deprecated; use <code>dita.specialization.catalog.relative</code> instead.</p>
</li>
<li>
<p><strong>dita.specialization.catalog.relative</strong></p>
<p>Defined in plug-in <a href="extension-points/extension-points-in-org.dita.base.html"><code>org.dita.base</code></a>.</p>
<p>Adds the content of a catalog file to the main DITA-OT catalog file.</p>
</li>
</ul>
<h1><a class="header" href="#general-extension-points" id="general-extension-points">General extension points</a></h1>
<p>These extension points enable you to extend DITA-OT. You can add Ant targets or imports; add a Java library to the classpath parameter; add a new transformation type; extend a catalog file; add new diagnostic messages, and more.</p>
<ul>
<li>
<p><strong>ant.import</strong></p>
<p>Adds an Ant import to the main Ant build file.</p>
</li>
<li>
<p><strong>dita.conductor.lib.import</strong></p>
<p>Adds a Java library to the DITA-OT classpath.</p>
</li>
<li>
<p><strong>dita.conductor.target</strong></p>
<p>Adds an Ant import to the main Ant build file.</p>
<p><strong>Attention:</strong> This extension point is deprecated; use <code>ant.import</code> instead.</p>
</li>
<li>
<p><strong>dita.conductor.target.relative</strong></p>
<p>Adds an Ant import to the main Ant build file.</p>
<p><strong>Tip:</strong> As of DITA-OT 3.0, the <code>ant.import</code> extension point can be used instead.</p>
</li>
<li>
<p><strong>dita.conductor.transtype.check</strong></p>
<p>Adds a new value to the list of valid transformation types.</p>
<p><strong>Tip:</strong> This extension point is still supported for backwards compatibility, but since DITA-OT 2.1, any new customizations should instead use the <code>transtype</code> element in the <a href="extension-points/../topics/plugin-configfile.html">Plug-in descriptor file</a> to define a new transformation.</p>
</li>
<li>
<p><strong>dita.specialization.catalog</strong></p>
<p>Adds the content of a catalog file to the main DITA-OT catalog file.</p>
<p><strong>Attention:</strong> This extension point is deprecated; use <code>dita.specialization.catalog.relative</code> instead.</p>
</li>
<li>
<p><strong>dita.specialization.catalog.relative</strong></p>
<p>Adds the content of a catalog file to the main DITA-OT catalog file.</p>
</li>
<li>
<p><strong>dita.transtype.print</strong></p>
<p>Defines a transformation as a print type.</p>
</li>
<li>
<p><strong>dita.xsl.messages</strong></p>
<p>Adds new diagnostic messages to DITA-OT.</p>
</li>
<li>
<p><strong>org.dita.pdf2.catalog.relative</strong></p>
<p>Adds the content of a catalog file to the main catalog file for the PDF plug-in.</p>
</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="extension-points/../extension-points/extension-points-in-org.dita.base.html">Extension points in org.dita.base</a></p>
<h1><a class="header" href="#pre-processing-extension-points" id="pre-processing-extension-points">Pre-processing extension points</a></h1>
<p>You can use these extension points to run an Ant target before or after the pre-processing stage. If necessary, you can also run an Ant target before a specific pre-processing step — but this approach is not recommended.</p>
<p><strong>Tip:</strong> For maximum compatibility with future versions of DITA-OT, most plug-ins should use the extension points that run <strong>before</strong> or <strong>after</strong> pre-processing.</p>
<ul>
<li>
<p><strong>depend.preprocess.pre</strong></p>
<p>Runs an Ant target before the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.post</strong></p>
<p>Runs an Ant target after the pre-processing stage.</p>
</li>
</ul>
<h2><a class="header" href="#legacy-pre-processing-extensions" id="legacy-pre-processing-extensions">Legacy pre-processing extensions</a></h2>
<p>The following extension points are available in the original <code>preprocess</code> pipeline that was used by default for all transformations prior to DITA-OT 3.0. These extensions are not available in the newer <a href="extension-points/../reference/map-first-preprocessing.html">map-first preprocessing</a> pipeline (<code>preprocess2</code>), which is used in the PDF and HTML Help transformations as of DITA-OT 3.0.</p>
<p>CAUTION:</p>
<p>The internal order of preprocessing steps is subject to change between versions of DITA-OT. New versions may remove, reorder, combine, or add steps to the process, so the extension points <strong>within</strong> the preprocessing stage should only be used if absolutely necessary.</p>
<ul>
<li>
<p><strong>depend.preprocess.chunk.pre</strong></p>
<p>Runs an Ant target before the <code>chunk</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.coderef.pre</strong></p>
<p>Runs an Ant target before the <code>coderef</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.conref.pre</strong></p>
<p>Runs an Ant target before the <code>conref</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.conrefpush.pre</strong></p>
<p>Runs an Ant target before the <code>conrefpush</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.clean-temp.pre</strong></p>
<p>Runs an Ant target before the <code>clean-temp</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.copy-files.pre</strong></p>
<p>Runs an Ant target before the <code>copy-files</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.copy-flag.pre</strong></p>
<p>Runs an Ant target before the <code>copy-flag</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.copy-html.pre</strong></p>
<p>Runs an Ant target before the <code>copy-html</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.copy-image.pre</strong></p>
<p>Runs an Ant target before the <code>copy-image</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.copy-subsidiary.pre</strong></p>
<p>Runs an Ant target before the <code>copy-subsidiary</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.debug-filter.pre</strong></p>
<p>Runs an Ant target before the <code>debug-filter</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.gen-list.pre</strong></p>
<p>Runs an Ant target before the <code>gen-list</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.keyref.pre</strong></p>
<p>Runs an Ant target before the <code>keyref</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.maplink.pre</strong></p>
<p>Runs an Ant target before the <code>maplink</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.mappull.pre</strong></p>
<p>Runs an Ant target before the <code>mappull</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.mapref.pre</strong></p>
<p>Runs an Ant target before the <code>mapref</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.move-meta-entries.pre</strong></p>
<p>Runs an Ant target before the <code>move-meta-entries</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.topicpull.pre</strong></p>
<p>Runs an Ant target before the <code>topicpull</code> step in the pre-processing stage.</p>
</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="extension-points/../extension-points/extension-points-in-org.dita.base.html">Extension points in org.dita.base</a></p>
<h1><a class="header" href="#xslt-import-extension-points" id="xslt-import-extension-points">XSLT-import extension points</a></h1>
<p>You can use these extension points to override XSLT processing steps in pre-processing and certain transformation types. The value of the <code>@file</code> attribute in the <code>feature</code> element specifies a relative path to an XSL file in the current plug-in. The plug-in installer adds a XSL import statement to the default DITA-OT code, so that the XSL override becomes part of the normal build.</p>
<h2><a class="header" href="#pre-processing-1" id="pre-processing-1">Pre-processing</a></h2>
<p>You can use the following extension points to add XSLT processing to modules in the pre-processing pipeline:</p>
<ul>
<li>
<p><strong>dita.xsl.conref</strong></p>
<p>Overrides the pre-processing step that resolves conref.</p>
</li>
<li>
<p><strong>dita.xsl.maplink</strong></p>
<p>Overrides the <code>maplink</code> step in the pre-processing pipeline. This is the step that generates map-based links.</p>
</li>
<li>
<p><strong>dita.xsl.mappull</strong></p>
<p>Overrides the <code>mappull</code> step in the pre-processing pipeline. This is the step that updates navigation titles in maps and causes attributes to cascade.</p>
</li>
<li>
<p><strong>dita.xsl.mapref</strong></p>
<p>Overrides the <code>mapref</code> step in the pre-processing pipeline. This is the step that resolves references to other maps.</p>
</li>
<li>
<p><strong>dita.xsl.topicpull</strong></p>
<p>Overrides the <code>topicpull</code> step in the pre-processing pipeline. This is the step that pulls text into <code>xref</code> elements, as well as performing other tasks.</p>
</li>
</ul>
<h2><a class="header" href="#transformations" id="transformations">Transformations</a></h2>
<p>You can use the following extension points to add XSLT processing to modules in DITA-OT transformations:</p>
<ul>
<li>
<p><strong>dita.map.eclipse.index.pre</strong></p>
<p>Runs an Ant target before the Eclipse index extraction process.</p>
</li>
<li>
<p><strong>dita.xsl.eclipse.plugin</strong></p>
<p>Overrides the default XSLT step that generates the plugin.xml file for Eclipse Help.</p>
</li>
<li>
<p><strong>dita.xsl.eclipse.toc</strong></p>
<p>Overrides the default XSLT step that generates the Eclipse Help table of contents (TOC).</p>
</li>
<li>
<p><strong>dita.xsl.html.cover</strong></p>
<p>Overrides the default HTML cover page generation process.</p>
</li>
<li>
<p><strong>dita.xsl.htmltoc</strong></p>
<p>Overrides the default XSLT step that generates the HTML table of contents (TOC).</p>
</li>
<li>
<p><strong>dita.xsl.html5</strong></p>
<p>Overrides the default HTML5 transformation. The referenced file is integrated directly into the XSLT step that generates HTML5.</p>
</li>
<li>
<p><strong>dita.xsl.html5.cover</strong></p>
<p>Overrides the default HTML5 cover page generation process.</p>
</li>
<li>
<p><strong>dita.xsl.html5.toc</strong></p>
<p>Overrides the default XSLT step that generates the HTML5 table of contents (TOC).</p>
</li>
<li>
<p><strong>dita.xsl.htmlhelp.map2hhc</strong></p>
<p>Overrides the default XSLT step that generates the HTML Help contents (.hhc) file.</p>
</li>
<li>
<p><strong>dita.xsl.htmlhelp.map2hhp</strong></p>
<p>Overrides the default XSLT step that generates the HTML Help project (.hhp) file.</p>
</li>
<li>
<p><strong>dita.xsl.xhtml</strong></p>
<p>Overrides the default HTML or XHTML transformation, including HTML Help and Eclipse Help. The referenced file is integrated directly into the XSLT step that generates XHTML.</p>
</li>
<li>
<p><strong>dita.xsl.xslfo</strong></p>
<p>Overrides the default PDF transformation. The referenced XSL file is integrated directly into the XSLT step that generates the XSL-FO.</p>
</li>
</ul>
<h2><a class="header" href="#example-4" id="example-4">Example</a></h2>
<p>The following two files represent a complete (albeit simple) plug-in that adds a company banner to the XHTML output. The plugin.xml file declares an XSLT file that extends the XHTML processing; the xsl/header.xsl file overrides the default header processing to provide a company banner.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;plugin id=&quot;com.example.brandheader&quot;&gt;
  &lt;feature extension=&quot;dita.xsl.xhtml&quot; file=&quot;xsl/header.xsl&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;
  &lt;xsl:template name=&quot;gen-user-header&quot;&gt;
    &lt;div&gt;
      &lt;img src=&quot;http://www.example.com/company_banner.jpg&quot; 
           alt=&quot;Example Company Banner&quot;/&gt;
    &lt;/div&gt;
  &lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;
</code></pre>
<h1><a class="header" href="#xslt-parameter-extension-points" id="xslt-parameter-extension-points">XSLT-parameter extension points</a></h1>
<p>You can use these extension points to pass parameters into existing XSLT steps in both the pre-processing pipeline and DITA-OT transformation. The parameters generally will be available as global <code>xsl:param</code> values with XSLT overrides.</p>
<h2><a class="header" href="#pre-processing-2" id="pre-processing-2">Pre-processing</a></h2>
<p>You can use the following extension points to pass parameters to modules in the pre-processing pipeline:</p>
<ul>
<li>
<p><strong>dita.preprocess.conref.param</strong></p>
<p>Pass parameters to the <code>conref</code> module in the pre-processing pipeline</p>
</li>
<li>
<p><strong>dita.preprocess.mappull.param</strong></p>
<p>Pass parameters to the <code>mappull</code> module in the pre-processing pipeline</p>
</li>
<li>
<p><strong>dita.preprocess.mapref.param</strong></p>
<p>Pass parameters to the <code>mapref</code> module in the pre-processing pipeline</p>
</li>
<li>
<p><strong>dita.preprocess.topicpull.param</strong></p>
<p>Pass parameters to the <code>topicpull</code> module in the pre-processing pipeline</p>
</li>
</ul>
<h2><a class="header" href="#transformations-1" id="transformations-1">Transformations</a></h2>
<p>You can use the following extension points to pass parameters to modules in DITA-OT transformations:</p>
<ul>
<li>
<p><strong>dita.conductor.eclipse.toc.param</strong></p>
<p>Pass parameters to the XSLT step that generates the Eclipse Help table of contents (TOC).</p>
</li>
<li>
<p><strong>dita.conductor.html.param</strong></p>
<p>Pass parameters to the HTML and HTML Help transformations.</p>
</li>
<li>
<p><strong>dita.conductor.html5.param</strong></p>
<p>Pass parameters to the HTML5 transformation.</p>
</li>
<li>
<p><strong>dita.conductor.html5.toc.param</strong></p>
<p>Pass parameters to the XSLT step that generates the HTML5 table of contents (TOC).</p>
</li>
<li>
<p><strong>dita.conductor.pdf2.param</strong></p>
<p>Pass parameters to the PDF transformation.</p>
</li>
<li>
<p><strong>dita.conductor.xhtml.param</strong></p>
<p>Pass parameters to the XHTML and Eclipse Help transformations.</p>
</li>
<li>
<p><strong>dita.conductor.xhtml.toc.param</strong></p>
<p>Pass parameters to the XSLT step that generates the XHTML table of contents (TOC).</p>
</li>
</ul>
<h2><a class="header" href="#example-5" id="example-5">Example</a></h2>
<p>The following two files represent a complete (albeit simple) plug-in that passes the parameters defined in the insertParameters.xml file to the XHTML transformation process.</p>
<pre><code>&lt;plugin id=&quot;com.example.newparam&quot;&gt;
  &lt;feature extension=&quot;dita.conductor.xhtml.param&quot;
           file=&quot;insertParameters.xml&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<pre><code>&lt;dummy xmlns:if=&quot;ant:if&quot; xmlns:unless=&quot;ant:unless&quot;&gt;
  *&lt;!-- Any Ant code allowed in xslt task is possible. Example: --\&gt;*
  &lt;param name=&quot;paramNameinXSLT&quot; expression=&quot;${antProperty}&quot;
         if:set=&quot;antProperty&quot;/&gt;
&lt;/dummy&gt;
</code></pre>
<h1><a class="header" href="#version-and-support-information" id="version-and-support-information">Version and support information</a></h1>
<p>You can use these extension points to define version and support information for a plug-in. Currently, DITA-OT does not do anything with this information, but it might do so in the future.</p>
<ul>
<li>
<p><strong>package.support.name</strong></p>
<p>Specifies the person who provides support for the DITA-OT plug-in.</p>
</li>
<li>
<p><strong>package.support.email</strong></p>
<p>Specifies the e-mail address of the person who provides support for the DITA-OT plug-in.</p>
</li>
<li>
<p><strong>package.version</strong></p>
<p>Specifies the version of the DITA-OT plug-in.</p>
<p>The value uses the following syntax:</p>
<pre><code>major.minor.micro.qualifier
</code></pre>
<p>where:</p>
<ul>
<li>major is a number and is required.</li>
<li>minor is a number and is optional.</li>
<li>micro is a number and is optional.</li>
<li>qualifier is optional and can be composed of numerals, uppercase or lower case letters, underscores, and hyphens.
By default, the package.version value is set to <code>0.0.0</code>.</li>
</ul>
</li>
</ul>
<h2><a class="header" href="#example-6" id="example-6">Example</a></h2>
<pre><code>&lt;plugin id=&quot;com.example.WithSupportInfo&quot;&gt;
  &lt;feature extension=&quot;package.support.name&quot; value=&quot;Joe the Author&quot;/&gt;
  &lt;feature extension=&quot;package.support.email&quot; value=&quot;joe@example.com&quot;/&gt;
  &lt;feature extension=&quot;package.version&quot; value=&quot;1.2.3&quot;/&gt;
&lt;/plugin&gt;
</code></pre>
<p><strong>Related information</strong></p>
<p><a href="extension-points/../extension-points/extension-points-in-org.dita.base.html">Extension points in org.dita.base</a></p>
<h1><a class="header" href="#extension-points-by-plug-in" id="extension-points-by-plug-in">Extension points by plug-in</a></h1>
<p>The default plug-ins that ship with DITA Open Toolkit include a series of extension points that can be used to modify various aspects of toolkit processing.</p>
<p>If your toolkit installation includes custom plug-ins that define additional extension points, you can add topics by rebuilding the DITA-OT documentation.</p>
<p><strong>Related information</strong></p>
<p><a href="extension-points/../topics/rebuilding-docs.html">Rebuilding the DITA-OT documentation</a></p>
<h1><a class="header" href="#extension-points-in-orgditabase" id="extension-points-in-orgditabase">Extension points in <code>org.dita.base</code></a></h1>
<p>The <code>org.dita.base</code> plug-in provides common extension points that are available to extend processing in all transformations that DITA Open Toolkit supports. </p>
<ul>
<li>
<p><strong>ant.import</strong></p>
<p>Adds an Ant import to the main Ant build file.</p>
</li>
<li>
<p><strong>depend.preprocess.chunk.pre</strong></p>
<p>Runs an Ant target before the <code>chunk</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.clean-temp.pre</strong></p>
<p>Runs an Ant target before the <code>clean-temp</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.coderef.pre</strong></p>
<p>Runs an Ant target before the <code>coderef</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.conref.pre</strong></p>
<p>Runs an Ant target before the <code>conref</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.conrefpush.pre</strong></p>
<p>Runs an Ant target before the <code>conrefpush</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.copy-files.pre</strong></p>
<p>Runs an Ant target before the <code>copy-files</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.copy-flag.pre</strong></p>
<p>Runs an Ant target before the <code>copy-flag</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.copy-html.pre</strong></p>
<p>Runs an Ant target before the <code>copy-html</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.copy-image.pre</strong></p>
<p>Runs an Ant target before the <code>copy-image</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.copy-subsidiary.pre</strong></p>
<p>Runs an Ant target before the <code>copy-subsidiary</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.debug-filter.pre</strong></p>
<p>Runs an Ant target before the <code>debug-filter</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.gen-list.pre</strong></p>
<p>Runs an Ant target before the <code>gen-list</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.keyref.pre</strong></p>
<p>Runs an Ant target before the <code>keyref</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.maplink.pre</strong></p>
<p>Runs an Ant target before the <code>maplink</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.mappull.pre</strong></p>
<p>Runs an Ant target before the <code>mappull</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.mapref.pre</strong></p>
<p>Runs an Ant target before the <code>mapref</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.move-meta-entries.pre</strong></p>
<p>Runs an Ant target before the <code>move-meta-entries</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.post</strong></p>
<p>Runs an Ant target after the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.pre</strong></p>
<p>Runs an Ant target before the pre-processing stage.</p>
</li>
<li>
<p><strong>depend.preprocess.topicpull.pre</strong></p>
<p>Runs an Ant target before the <code>topicpull</code> step in the pre-processing stage.</p>
</li>
<li>
<p><strong>dita.basedir-resource-directory</strong></p>
<p>Flag to use basedir as resource directory</p>
</li>
<li>
<p><strong>dita.catalog.plugin-info</strong></p>
<p>Plug-in XML catalog information</p>
</li>
<li>
<p><strong>dita.conductor.lib.import</strong></p>
<p>Adds a Java library to the DITA-OT classpath.</p>
</li>
<li>
<p><strong>dita.conductor.plugin</strong></p>
<p>Ant conductor plug-in information</p>
</li>
<li>
<p><strong>dita.conductor.target</strong></p>
<p>Adds an Ant import to the main Ant build file.</p>
<p><strong>Attention:</strong> This extension point is deprecated; use <code>ant.import</code> instead.</p>
</li>
<li>
<p><strong>dita.conductor.target.relative</strong></p>
<p>Adds an Ant import to the main Ant build file.</p>
<p><strong>Tip:</strong> As of DITA-OT 3.0, the <code>ant.import</code> extension point can be used instead.</p>
</li>
<li>
<p><strong>dita.conductor.transtype.check</strong></p>
<p>Adds a new value to the list of valid transformation types.</p>
<p><strong>Tip:</strong> This extension point is still supported for backwards compatibility, but since DITA-OT 2.1, any new customizations should instead use the <code>transtype</code> element in the <a href="extension-points/../topics/plugin-configfile.html">Plug-in descriptor file</a> to define a new transformation.</p>
</li>
<li>
<p><strong>dita.html.extensions</strong></p>
<p>HTML file extension</p>
</li>
<li>
<p><strong>dita.image.extensions</strong></p>
<p>Image file extension</p>
</li>
<li>
<p><strong>dita.parser</strong></p>
<p>Custom DITA parser</p>
</li>
<li>
<p><strong>dita.preprocess.conref.param</strong></p>
<p>Content reference XSLT parameters</p>
</li>
<li>
<p><strong>dita.preprocess.debug-filter.param</strong></p>
<p>Debug filter module parameters</p>
</li>
<li>
<p><strong>dita.preprocess.map-reader.param</strong></p>
<p>Debug filter module parameters</p>
</li>
<li>
<p><strong>dita.preprocess.mappull.param</strong></p>
<p>Map pull XSLT parameters</p>
</li>
<li>
<p><strong>dita.preprocess.mapref.param</strong></p>
<p>Map reference XSLT parameters</p>
</li>
<li>
<p><strong>dita.preprocess.topic-reader.param</strong></p>
<p>Debug filter module parameters</p>
</li>
<li>
<p><strong>dita.preprocess.topicpull.param</strong></p>
<p>Topic pull XSLT parameters</p>
</li>
<li>
<p><strong>dita.resource.extensions</strong></p>
<p>Resource file extension</p>
</li>
<li>
<p><strong>dita.specialization.catalog</strong></p>
<p>Adds the content of a catalog file to the main DITA-OT catalog file.</p>
<p><strong>Attention:</strong> This extension point is deprecated; use <code>dita.specialization.catalog.relative</code> instead.</p>
</li>
<li>
<p><strong>dita.specialization.catalog.relative</strong></p>
<p>Adds the content of a catalog file to the main DITA-OT catalog file.</p>
</li>
<li>
<p><strong>dita.transtype.print</strong></p>
<p>Defines a transformation as a print type.</p>
</li>
<li>
<p><strong>dita.xsl.conref</strong></p>
<p>Content reference XSLT import</p>
</li>
<li>
<p><strong>dita.xsl.maplink</strong></p>
<p>Map link XSLT import</p>
</li>
<li>
<p><strong>dita.xsl.mappull</strong></p>
<p>Map pull XSLT import</p>
</li>
<li>
<p><strong>dita.xsl.mapref</strong></p>
<p>Map reference XSLT import</p>
</li>
<li>
<p><strong>dita.xsl.messages</strong></p>
<p>Adds new diagnostic messages to DITA-OT.</p>
</li>
<li>
<p><strong>dita.xsl.strings</strong></p>
<p>Generated text</p>
</li>
<li>
<p><strong>dita.xsl.topicpull</strong></p>
<p>Topic pull XSLT import</p>
</li>
<li>
<p><strong>package.support.email</strong></p>
<p>Specifies the e-mail address of the person who provides support for the DITA-OT plug-in.</p>
</li>
<li>
<p><strong>package.support.name</strong></p>
<p>Specifies the person who provides support for the DITA-OT plug-in.</p>
</li>
<li>
<p><strong>package.version</strong></p>
<p>Specifies the version of the DITA-OT plug-in.</p>
</li>
</ul>
<p><strong>Related information</strong></p>
<p><a href="extension-points/../extension-points/plugin-extension-points-pre-processing.html">Pre-processing extension points</a></p>
<p><a href="extension-points/../extension-points/plugin-extension-points-support.html">Version and support information</a></p>
<p><a href="extension-points/../extension-points/plugin-extension-points-general.html">General extension points</a></p>
<h1><a class="header" href="#extension-points-in-orgditaeclipsehelp" id="extension-points-in-orgditaeclipsehelp">Extension points in <code>org.dita.eclipsehelp</code></a></h1>
<p>Certain extension points are specific to the Eclipse Help transformation. </p>
<ul>
<li>
<p><strong>dita.conductor.eclipse.toc.param</strong></p>
<p>Pass parameters to the XSLT step that generates the Eclipse Help table of contents (TOC).</p>
</li>
<li>
<p><strong>dita.map.eclipse.index.pre</strong></p>
<p>Runs an Ant target before the Eclipse index extraction process.</p>
</li>
<li>
<p><strong>dita.xsl.eclipse.plugin</strong></p>
<p>Overrides the default XSLT step that generates the plugin.xml file for Eclipse Help.</p>
</li>
<li>
<p><strong>dita.xsl.eclipse.toc</strong></p>
<p>Overrides the default XSLT step that generates the Eclipse Help table of contents (TOC).</p>
</li>
</ul>
<h1><a class="header" href="#extension-points-in-orgditahtml5" id="extension-points-in-orgditahtml5">Extension points in <code>org.dita.html5</code></a></h1>
<p>In addition to the extension points provided by common processing and those shared by with other HTML-based transformations, the <code>org.dita.html5</code> plug-in provides extension points that are specific to the HTML5 transformation. </p>
<ul>
<li>
<p><strong>dita.conductor.html5.param</strong></p>
<p>Pass parameters to the HTML5 transformation.</p>
</li>
<li>
<p><strong>dita.conductor.html5.toc.param</strong></p>
<p>Pass parameters to the XSLT step that generates the HTML5 table of contents (TOC).</p>
</li>
<li>
<p><strong>dita.xsl.html5</strong></p>
<p>Overrides the default HTML5 transformation. The referenced file is integrated directly into the XSLT step that generates HTML5.</p>
</li>
<li>
<p><strong>dita.xsl.html5.cover</strong></p>
<p>Overrides the default HTML5 cover page generation process.</p>
</li>
<li>
<p><strong>dita.xsl.html5.toc</strong></p>
<p>Overrides the default XSLT step that generates the HTML5 table of contents (TOC).</p>
</li>
</ul>
<h1><a class="header" href="#extension-points-in-orgditahtmlhelp" id="extension-points-in-orgditahtmlhelp">Extension points in <code>org.dita.htmlhelp</code></a></h1>
<p>Certain extension points are specific to the HTML Help transformation. </p>
<ul>
<li>
<p><strong>dita.xsl.htmlhelp.map2hhc</strong></p>
<p>Overrides the default XSLT step that generates the HTML Help contents (.hhc) file.</p>
</li>
<li>
<p><strong>dita.xsl.htmlhelp.map2hhp</strong></p>
<p>Overrides the default XSLT step that generates the HTML Help project (.hhp) file.</p>
</li>
</ul>
<h1><a class="header" href="#extension-points-in-orgditapdf2" id="extension-points-in-orgditapdf2">Extension points in <code>org.dita.pdf2</code></a></h1>
<p>Certain extension points are specific to the PDF transformation (formerly known as “PDF2”). </p>
<ul>
<li>
<p><strong>depend.org.dita.pdf2.format</strong></p>
<p>Formatting target</p>
</li>
<li>
<p><strong>depend.org.dita.pdf2.format.post</strong></p>
<p>Formatting post-target</p>
</li>
<li>
<p><strong>depend.org.dita.pdf2.format.pre</strong></p>
<p>Formatting pre-target</p>
</li>
<li>
<p><strong>depend.org.dita.pdf2.index</strong></p>
<p>Indexing target</p>
</li>
<li>
<p><strong>depend.org.dita.pdf2.init.pre</strong></p>
<p>Initialization pre-target</p>
</li>
<li>
<p><strong>dita.conductor.pdf2.formatter.check</strong></p>
<p>Formatter check</p>
</li>
<li>
<p><strong>dita.conductor.pdf2.param</strong></p>
<p>Pass parameters to the PDF transformation.</p>
</li>
<li>
<p><strong>dita.xsl.xslfo</strong></p>
<p>Overrides the default PDF transformation. The referenced XSL file is integrated directly into the XSLT step that generates the XSL-FO.</p>
</li>
<li>
<p><strong>dita.xsl.xslfo.i18n-postprocess</strong></p>
<p>PDF I18N postprocess import</p>
</li>
<li>
<p><strong>org.dita.pdf2.catalog.relative</strong></p>
<p>Adds the content of a catalog file to the main catalog file for the PDF plug-in.</p>
</li>
<li>
<p><strong>org.dita.pdf2.xsl.topicmerge</strong></p>
<p>PDF2 topic merge XSLT import</p>
</li>
</ul>
<h1><a class="header" href="#extension-points-in-orgditaxhtml" id="extension-points-in-orgditaxhtml">Extension points in <code>org.dita.xhtml</code></a></h1>
<p>The <code>org.dita.xhtml</code> plug-in provides shared extension points that can be used to modify processing in HTML-based transformation types such as Eclipse help, HTML Help, and XHTML. </p>
<ul>
<li>
<p><strong>dita.conductor.html.param</strong></p>
<p>Pass parameters to the HTML and HTML Help transformations.</p>
</li>
<li>
<p><strong>dita.conductor.xhtml.param</strong></p>
<p>Pass parameters to the XHTML and Eclipse Help transformations.</p>
</li>
<li>
<p><strong>dita.conductor.xhtml.toc.param</strong></p>
<p>Pass parameters to the XSLT step that generates the XHTML table of contents (TOC).</p>
</li>
<li>
<p><strong>dita.xsl.html.cover</strong></p>
<p>Overrides the default HTML cover page generation process.</p>
</li>
<li>
<p><strong>dita.xsl.htmltoc</strong></p>
<p>Overrides the default XSLT step that generates the HTML table of contents (TOC).</p>
</li>
<li>
<p><strong>dita.xsl.xhtml</strong></p>
<p>Overrides the default HTML or XHTML transformation, including HTML Help and Eclipse Help. The referenced file is integrated directly into the XSLT step that generates XHTML.</p>
</li>
</ul>
<h1><a class="header" href="#license-information" id="license-information">License Information</a></h1>
<p>DITA Open Toolkit is released under the Apache License, Version 2.0.</p>
<p><strong>Note:</strong> For information on the terms and conditions for use, reproduction, and distribution of DITA Open Toolkit, refer to the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a>.</p>
<h1><a class="header" href="#third-party-software" id="third-party-software">Third-party software</a></h1>
<p>DITA Open Toolkit uses third-party software components to provide certain features in the core toolkit, Java API, and bundled plug-ins.</p>
<h2><a class="header" href="#dita-ot-36-1" id="dita-ot-36-1">DITA-OT 3.6</a></h2>
<p>DITA-OT core processing uses the following third-party software:</p>
<table><thead><tr><th>Software</th><th>Version</th><th>License</th></tr></thead><tbody>
<tr><td>Ant</td><td>1.10.9</td><td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td></tr>
<tr><td>Apache Commons Codec</td><td>1.10</td><td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td></tr>
<tr><td>Apache Commons IO</td><td>2.8.0</td><td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td></tr>
<tr><td>Guava</td><td>25.1-jre</td><td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td></tr>
<tr><td>ICU for Java (ICU4J)</td><td>61.1</td><td><a href="http://source.icu-project.org/repos/icu/icu/tags/release-57-1/LICENSE">ICU License</a></td></tr>
<tr><td>Logback Classic Module</td><td>1.2.3</td><td><a href="http://www.eclipse.org/legal/epl-v10.html">Eclipse Public License 1.0</a>, <a href="https://www.gnu.org/licenses/old-licenses/lgpl-2.1.html">GNU Lesser General Public License 2.1</a></td></tr>
<tr><td>Saxon-HE</td><td>9.9.1.4</td><td><a href="https://www.mozilla.org/media/MPL/1.1/index.0c5913925d40.txt">Mozilla Public License 1.0</a></td></tr>
<tr><td>Simple Logging Facade for Java (SLF4J)</td><td>1.7.25</td><td><a href="https://opensource.org/licenses/mit-license.php">MIT License</a></td></tr>
<tr><td>Xerces</td><td>2.12.0</td><td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td></tr>
<tr><td>XML APIs</td><td>1.4.01</td><td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a>, <a href="https://www.w3.org/Consortium/Legal/2002/copyright-documents-20021231">W3C Document License</a></td></tr>
<tr><td>XML Resolver</td><td>1.2</td><td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td></tr>
</tbody></table>
<p><strong>Note:</strong> The XML APIs library contains source code for SAX and DOM APIs, which each have their own licenses.</p>
<h2><a class="header" href="#pdf-plug-in" id="pdf-plug-in">PDF plug-in</a></h2>
<p>The <code>org.dita.pdf2</code> plug-in relies on additional third-party software to generate PDF output:</p>
<table><thead><tr><th>Software</th><th>Version</th><th>License</th></tr></thead><tbody>
<tr><td>Apache Commons Logging</td><td>1.0.4</td><td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td></tr>
<tr><td>Apache XML Graphics</td><td>2.5</td><td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td></tr>
<tr><td>Batik</td><td>1.13</td><td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td></tr>
<tr><td>FOP</td><td>2.5</td><td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td></tr>
</tbody></table>
<h1><a class="header" href="#glossary" id="glossary">Glossary</a></h1>
<h1><a class="header" href="#argument" id="argument">argument</a></h1>
<h1><a class="header" href="#dita-open-toolkit" id="dita-open-toolkit">DITA Open Toolkit</a></h1>
<h1><a class="header" href="#extension-point" id="extension-point">extension point</a></h1>
<h1><a class="header" href="#option" id="option">option</a></h1>
<h1><a class="header" href="#output-format" id="output-format">output format</a></h1>
<h1><a class="header" href="#parameter" id="parameter">parameter</a></h1>
<h1><a class="header" href="#plug-in" id="plug-in">plug-in</a></h1>
<h1><a class="header" href="#processor" id="processor">processor</a></h1>
<h1><a class="header" href="#property" id="property">property</a></h1>
<h1><a class="header" href="#template" id="template">template</a></h1>
<h1><a class="header" href="#transformation-type" id="transformation-type">transformation type</a></h1>
<h1><a class="header" href="#variable" id="variable">variable</a></h1>
<h1><a class="header" href="#xsl-template" id="xsl-template">XSL template</a></h1>
<hr />
<h2><a class="header" href="#author-kristen-james-eberlein" id="author-kristen-james-eberlein">author: Kristen James Eberlein</a></h2>
<h1><a class="header" href="#dita-and-dita-ot-resources" id="dita-and-dita-ot-resources">DITA and DITA-OT resources</a></h1>
<p>In addition to the DITA Open Toolkit documentation, there are other resources about DITA and DITA-OT that you might find helpful.</p>
<h1><a class="header" href="#dita-ot-day-conference-recordings" id="dita-ot-day-conference-recordings">DITA-OT Day Conference Recordings</a></h1>
<p>All video recordings from each DITA-OT Day conference from 2014 onward.</p>
<h1><a class="header" href="#dita-ot-day-conference--brussels-2019" id="dita-ot-day-conference--brussels-2019">DITA-OT Day Conference – Brussels 2019</a></h1>
<p>November 9, 2019 in Brussels, Belgium.</p>
<h1><a class="header" href="#dita-ot-day-conference--rotterdam-2018" id="dita-ot-day-conference--rotterdam-2018">DITA-OT Day Conference – Rotterdam 2018</a></h1>
<p>November 4, 2018 in Rotterdam, Netherlands.</p>
<h1><a class="header" href="#dita-ot-day-conference--berlin-2017" id="dita-ot-day-conference--berlin-2017">DITA-OT Day Conference – Berlin 2017</a></h1>
<p>October 29, 2017 in Berlin, Germany.</p>
<h1><a class="header" href="#dita-ot-day-conference--munich-2016" id="dita-ot-day-conference--munich-2016">DITA-OT Day Conference – Munich 2016</a></h1>
<p>November 13, 2016 in Munich, Germany.</p>
<h1><a class="header" href="#dita-ot-day-conference--munich-2015" id="dita-ot-day-conference--munich-2015">DITA-OT Day Conference – Munich 2015</a></h1>
<p>November 15, 2015 in Munich, Germany.</p>
<h1><a class="header" href="#dita-ot-day-conference--munich-2014" id="dita-ot-day-conference--munich-2014">DITA-OT Day Conference – Munich 2014</a></h1>
<p>November 20, 2014 in Munich, Germany.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
